var O0=r=>{throw TypeError(r)};var td=(r,t,e)=>t.has(r)||O0("Cannot "+e);var oe=(r,t,e)=>(td(r,t,"read from private field"),e?e.call(r):t.get(r)),Jn=(r,t,e)=>t.has(r)?O0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),rn=(r,t,e,n)=>(td(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),ti=(r,t,e)=>(td(r,t,"access private method"),e);var N0=(r,t,e,n)=>({set _(a){rn(r,t,a,e)},get _(){return oe(r,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function _o(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ed={exports:{}},Za={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function kS(){if(P0)return Za;P0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:r,type:n,key:l,ref:a!==void 0?a:null,props:o}}return Za.Fragment=t,Za.jsx=e,Za.jsxs=e,Za}var B0;function MS(){return B0||(B0=1,ed.exports=kS()),ed.exports}var N=MS(),nd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function DS(){if(z0)return Rt;z0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=m&&E[m]||E["@@iterator"],typeof E=="function"?E:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function C(E,K,st){this.props=E,this.context=K,this.refs=S,this.updater=st||v}C.prototype.isReactComponent={},C.prototype.setState=function(E,K){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,K,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function A(){}A.prototype=C.prototype;function k(E,K,st){this.props=E,this.context=K,this.refs=S,this.updater=st||v}var R=k.prototype=new A;R.constructor=k,w(R,C.prototype),R.isPureReactComponent=!0;var O=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function z(E,K,st,T,lt,yt){return st=yt.ref,{$$typeof:r,type:E,key:K,ref:st!==void 0?st:null,props:yt}}function H(E,K){return z(E.type,K,void 0,void 0,void 0,E.props)}function V(E){return typeof E=="object"&&E!==null&&E.$$typeof===r}function $(E){var K={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(st){return K[st]})}var Y=/\/+/g;function et(E,K){return typeof E=="object"&&E!==null&&E.key!=null?$(""+E.key):K.toString(36)}function nt(){}function J(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(nt,nt):(E.status="pending",E.then(function(K){E.status==="pending"&&(E.status="fulfilled",E.value=K)},function(K){E.status==="pending"&&(E.status="rejected",E.reason=K)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function at(E,K,st,T,lt){var yt=typeof E;(yt==="undefined"||yt==="boolean")&&(E=null);var ut=!1;if(E===null)ut=!0;else switch(yt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(E.$$typeof){case r:case t:ut=!0;break;case p:return ut=E._init,at(ut(E._payload),K,st,T,lt)}}if(ut)return lt=lt(E),ut=T===""?"."+et(E,0):T,O(lt)?(st="",ut!=null&&(st=ut.replace(Y,"$&/")+"/"),at(lt,K,st,"",function(jt){return jt})):lt!=null&&(V(lt)&&(lt=H(lt,st+(lt.key==null||E&&E.key===lt.key?"":(""+lt.key).replace(Y,"$&/")+"/")+ut)),K.push(lt)),1;ut=0;var Et=T===""?".":T+":";if(O(E))for(var Ct=0;Ct<E.length;Ct++)T=E[Ct],yt=Et+et(T,Ct),ut+=at(T,K,st,yt,lt);else if(Ct=b(E),typeof Ct=="function")for(E=Ct.call(E),Ct=0;!(T=E.next()).done;)T=T.value,yt=Et+et(T,Ct++),ut+=at(T,K,st,yt,lt);else if(yt==="object"){if(typeof E.then=="function")return at(J(E),K,st,T,lt);throw K=String(E),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ut}function P(E,K,st){if(E==null)return E;var T=[],lt=0;return at(E,T,"","",function(yt){return K.call(st,yt,lt++)}),T}function G(E){if(E._status===-1){var K=E._result;K=K(),K.then(function(st){(E._status===0||E._status===-1)&&(E._status=1,E._result=st)},function(st){(E._status===0||E._status===-1)&&(E._status=2,E._result=st)}),E._status===-1&&(E._status=0,E._result=K)}if(E._status===1)return E._result.default;throw E._result}var it=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function ft(){}return Rt.Children={map:P,forEach:function(E,K,st){P(E,function(){K.apply(this,arguments)},st)},count:function(E){var K=0;return P(E,function(){K++}),K},toArray:function(E){return P(E,function(K){return K})||[]},only:function(E){if(!V(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Rt.Component=C,Rt.Fragment=e,Rt.Profiler=a,Rt.PureComponent=k,Rt.StrictMode=n,Rt.Suspense=d,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(E){return D.H.useMemoCache(E)}},Rt.cache=function(E){return function(){return E.apply(null,arguments)}},Rt.cloneElement=function(E,K,st){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var T=w({},E.props),lt=E.key,yt=void 0;if(K!=null)for(ut in K.ref!==void 0&&(yt=void 0),K.key!==void 0&&(lt=""+K.key),K)!M.call(K,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&K.ref===void 0||(T[ut]=K[ut]);var ut=arguments.length-2;if(ut===1)T.children=st;else if(1<ut){for(var Et=Array(ut),Ct=0;Ct<ut;Ct++)Et[Ct]=arguments[Ct+2];T.children=Et}return z(E.type,lt,void 0,void 0,yt,T)},Rt.createContext=function(E){return E={$$typeof:l,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:o,_context:E},E},Rt.createElement=function(E,K,st){var T,lt={},yt=null;if(K!=null)for(T in K.key!==void 0&&(yt=""+K.key),K)M.call(K,T)&&T!=="key"&&T!=="__self"&&T!=="__source"&&(lt[T]=K[T]);var ut=arguments.length-2;if(ut===1)lt.children=st;else if(1<ut){for(var Et=Array(ut),Ct=0;Ct<ut;Ct++)Et[Ct]=arguments[Ct+2];lt.children=Et}if(E&&E.defaultProps)for(T in ut=E.defaultProps,ut)lt[T]===void 0&&(lt[T]=ut[T]);return z(E,yt,void 0,void 0,null,lt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(E){return{$$typeof:c,render:E}},Rt.isValidElement=V,Rt.lazy=function(E){return{$$typeof:p,_payload:{_status:-1,_result:E},_init:G}},Rt.memo=function(E,K){return{$$typeof:f,type:E,compare:K===void 0?null:K}},Rt.startTransition=function(E){var K=D.T,st={};D.T=st;try{var T=E(),lt=D.S;lt!==null&&lt(st,T),typeof T=="object"&&T!==null&&typeof T.then=="function"&&T.then(ft,it)}catch(yt){it(yt)}finally{D.T=K}},Rt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Rt.use=function(E){return D.H.use(E)},Rt.useActionState=function(E,K,st){return D.H.useActionState(E,K,st)},Rt.useCallback=function(E,K){return D.H.useCallback(E,K)},Rt.useContext=function(E){return D.H.useContext(E)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(E,K){return D.H.useDeferredValue(E,K)},Rt.useEffect=function(E,K,st){var T=D.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return T.useEffect(E,K)},Rt.useId=function(){return D.H.useId()},Rt.useImperativeHandle=function(E,K,st){return D.H.useImperativeHandle(E,K,st)},Rt.useInsertionEffect=function(E,K){return D.H.useInsertionEffect(E,K)},Rt.useLayoutEffect=function(E,K){return D.H.useLayoutEffect(E,K)},Rt.useMemo=function(E,K){return D.H.useMemo(E,K)},Rt.useOptimistic=function(E,K){return D.H.useOptimistic(E,K)},Rt.useReducer=function(E,K,st){return D.H.useReducer(E,K,st)},Rt.useRef=function(E){return D.H.useRef(E)},Rt.useState=function(E){return D.H.useState(E)},Rt.useSyncExternalStore=function(E,K,st){return D.H.useSyncExternalStore(E,K,st)},Rt.useTransition=function(){return D.H.useTransition()},Rt.version="19.1.1",Rt}var I0;function nf(){return I0||(I0=1,nd.exports=DS()),nd.exports}var I=nf();const ls=_o(I);var id={exports:{}},Ja={},sd={exports:{}},rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function LS(){return F0||(F0=1,function(r){function t(P,G){var it=P.length;P.push(G);t:for(;0<it;){var ft=it-1>>>1,E=P[ft];if(0<a(E,G))P[ft]=G,P[it]=E,it=ft;else break t}}function e(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var G=P[0],it=P.pop();if(it!==G){P[0]=it;t:for(var ft=0,E=P.length,K=E>>>1;ft<K;){var st=2*(ft+1)-1,T=P[st],lt=st+1,yt=P[lt];if(0>a(T,it))lt<E&&0>a(yt,T)?(P[ft]=yt,P[lt]=it,ft=lt):(P[ft]=T,P[st]=it,ft=st);else if(lt<E&&0>a(yt,it))P[ft]=yt,P[lt]=it,ft=lt;else break t}}return G}function a(P,G){var it=P.sortIndex-G.sortIndex;return it!==0?it:P.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,m=null,b=3,v=!1,w=!1,S=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function O(P){for(var G=e(f);G!==null;){if(G.callback===null)n(f);else if(G.startTime<=P)n(f),G.sortIndex=G.expirationTime,t(d,G);else break;G=e(f)}}function D(P){if(S=!1,O(P),!w)if(e(d)!==null)w=!0,M||(M=!0,et());else{var G=e(f);G!==null&&at(D,G.startTime-P)}}var M=!1,z=-1,H=5,V=-1;function $(){return C?!0:!(r.unstable_now()-V<H)}function Y(){if(C=!1,M){var P=r.unstable_now();V=P;var G=!0;try{t:{w=!1,S&&(S=!1,k(z),z=-1),v=!0;var it=b;try{e:{for(O(P),m=e(d);m!==null&&!(m.expirationTime>P&&$());){var ft=m.callback;if(typeof ft=="function"){m.callback=null,b=m.priorityLevel;var E=ft(m.expirationTime<=P);if(P=r.unstable_now(),typeof E=="function"){m.callback=E,O(P),G=!0;break e}m===e(d)&&n(d),O(P)}else n(d);m=e(d)}if(m!==null)G=!0;else{var K=e(f);K!==null&&at(D,K.startTime-P),G=!1}}break t}finally{m=null,b=it,v=!1}G=void 0}}finally{G?et():M=!1}}}var et;if(typeof R=="function")et=function(){R(Y)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,J=nt.port2;nt.port1.onmessage=Y,et=function(){J.postMessage(null)}}else et=function(){A(Y,0)};function at(P,G){z=A(function(){P(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(P){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var it=b;b=G;try{return P()}finally{b=it}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var it=b;b=P;try{return G()}finally{b=it}},r.unstable_scheduleCallback=function(P,G,it){var ft=r.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?ft+it:ft):it=ft,P){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=it+E,P={id:p++,callback:G,priorityLevel:P,startTime:it,expirationTime:E,sortIndex:-1},it>ft?(P.sortIndex=it,t(f,P),e(d)===null&&P===e(f)&&(S?(k(z),z=-1):S=!0,at(D,it-ft))):(P.sortIndex=E,t(d,P),w||v||(w=!0,M||(M=!0,et()))),P},r.unstable_shouldYield=$,r.unstable_wrapCallback=function(P){var G=b;return function(){var it=b;b=G;try{return P.apply(this,arguments)}finally{b=it}}}}(rd)),rd}var U0;function OS(){return U0||(U0=1,sd.exports=LS()),sd.exports}var ad={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function NS(){if(H0)return Ge;H0=1;var r=nf();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ge.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},Ge.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},Ge.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},Ge.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Ge.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:v}):p==="script"&&n.d.X(d,{crossOrigin:m,integrity:b,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ge.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},Ge.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ge.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},Ge.requestFormReset=function(d){n.d.r(d)},Ge.unstable_batchedUpdates=function(d,f){return d(f)},Ge.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Ge.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ge.version="19.1.1",Ge}var j0;function PS(){if(j0)return ad.exports;j0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ad.exports=NS(),ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function BS(){if(V0)return Ja;V0=1;var r=OS(),t=nf(),e=PS();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(n(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(n(188));return s!==i?null:i}for(var u=i,h=s;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return c(g),i;if(y===h)return c(g),s;y=y.sibling}throw Error(n(188))}if(u.return!==h.return)u=g,h=y;else{for(var x=!1,_=g.child;_;){if(_===u){x=!0,u=g,h=y;break}if(_===h){x=!0,h=g,u=y;break}_=_.sibling}if(!x){for(_=y.child;_;){if(_===u){x=!0,u=y,h=g;break}if(_===h){x=!0,h=y,u=g;break}_=_.sibling}if(!x)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:s}function f(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=f(i),s!==null)return s;i=i.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function et(i){return i===null||typeof i!="object"?null:(i=Y&&i[Y]||i["@@iterator"],typeof i=="function"?i:null)}var nt=Symbol.for("react.client.reference");function J(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===nt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case R:return(i.displayName||"Context")+".Provider";case k:return(i._context.displayName||"Context")+".Consumer";case O:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return s=i.displayName||null,s!==null?s:J(i.type)||"Memo";case H:s=i._payload,i=i._init;try{return J(i(s))}catch{}}return null}var at=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},ft=[],E=-1;function K(i){return{current:i}}function st(i){0>E||(i.current=ft[E],ft[E]=null,E--)}function T(i,s){E++,ft[E]=i.current,i.current=s}var lt=K(null),yt=K(null),ut=K(null),Et=K(null);function Ct(i,s){switch(T(ut,s),T(yt,i),T(lt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?o0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=o0(s),i=l0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}st(lt),T(lt,i)}function jt(){st(lt),st(yt),st(ut)}function It(i){i.memoizedState!==null&&T(Et,i);var s=lt.current,u=l0(s,i.type);s!==u&&(T(yt,i),T(lt,u))}function _e(i){yt.current===i&&(st(lt),st(yt)),Et.current===i&&(st(Et),Ya._currentValue=it)}var $e=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,qt=r.unstable_cancelCallback,re=r.unstable_shouldYield,ue=r.unstable_requestPaint,Ae=r.unstable_now,di=r.unstable_getCurrentPriorityLevel,fi=r.unstable_ImmediatePriority,ds=r.unstable_UserBlockingPriority,Un=r.unstable_NormalPriority,ta=r.unstable_LowPriority,Vs=r.unstable_IdlePriority,ea=r.log,na=r.unstable_setDisableYieldValue,W=null,rt=null;function pt(i){if(typeof ea=="function"&&na(i),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(W,i)}catch{}}var gt=Math.clz32?Math.clz32:pi,Ut=Math.log,hn=Math.LN2;function pi(i){return i>>>=0,i===0?32:31-(Ut(i)/hn|0)|0}var Ze=256,Yn=4194304;function dn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ke(i,s,u){var h=i.pendingLanes;if(h===0)return 0;var g=0,y=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var _=h&134217727;return _!==0?(h=_&~y,h!==0?g=dn(h):(x&=_,x!==0?g=dn(x):u||(u=_&~i,u!==0&&(g=dn(u))))):(_=h&~y,_!==0?g=dn(_):x!==0?g=dn(x):u||(u=h&~i,u!==0&&(g=dn(u)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,u=s&-s,y>=u||y===32&&(u&4194048)!==0)?s:g}function _n(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Hn(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gf(){var i=Ze;return Ze<<=1,(Ze&4194048)===0&&(Ze=256),i}function qf(){var i=Yn;return Yn<<=1,(Yn&62914560)===0&&(Yn=4194304),i}function Vu(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function ia(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function y2(i,s,u,h,g,y){var x=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var _=i.entanglements,L=i.expirationTimes,j=i.hiddenUpdates;for(u=x&~u;0<u;){var Q=31-gt(u),tt=1<<Q;_[Q]=0,L[Q]=-1;var q=j[Q];if(q!==null)for(j[Q]=null,Q=0;Q<q.length;Q++){var X=q[Q];X!==null&&(X.lane&=-536870913)}u&=~tt}h!==0&&Xf(i,h,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(x&~s))}function Xf(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-gt(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|u&4194090}function Yf(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-gt(u),g=1<<h;g&s|i[h]&s&&(i[h]|=s),u&=~g}}function Gu(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function qu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function $f(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:T0(i.type))}function b2(i,s){var u=G.p;try{return G.p=i,s()}finally{G.p=u}}var zi=Math.random().toString(36).slice(2),je="__reactFiber$"+zi,Je="__reactProps$"+zi,Gs="__reactContainer$"+zi,Xu="__reactEvents$"+zi,v2="__reactListeners$"+zi,S2="__reactHandles$"+zi,Kf="__reactResources$"+zi,sa="__reactMarker$"+zi;function Yu(i){delete i[je],delete i[Je],delete i[Xu],delete i[v2],delete i[S2]}function qs(i){var s=i[je];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Gs]||u[je]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=d0(i);i!==null;){if(u=i[je])return u;i=d0(i)}return s}i=u,u=i.parentNode}return null}function Xs(i){if(i=i[je]||i[Gs]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ra(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function Ys(i){var s=i[Kf];return s||(s=i[Kf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Me(i){i[sa]=!0}var Wf=new Set,Qf={};function fs(i,s){$s(i,s),$s(i+"Capture",s)}function $s(i,s){for(Qf[i]=s,i=0;i<s.length;i++)Wf.add(s[i])}var A2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zf={},Jf={};function w2(i){return $e.call(Jf,i)?!0:$e.call(Zf,i)?!1:A2.test(i)?Jf[i]=!0:(Zf[i]=!0,!1)}function Ho(i,s,u){if(w2(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function jo(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function gi(i,s,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+h)}}var $u,tp;function Ks(i){if($u===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);$u=s&&s[1]||"",tp=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$u+i+tp}var Ku=!1;function Wu(i,s){if(!i||Ku)return"";Ku=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(X){var q=X}Reflect.construct(i,[],tt)}else{try{tt.call()}catch(X){q=X}i.call(tt.prototype)}}else{try{throw Error()}catch(X){q=X}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(X){if(X&&q&&typeof X.stack=="string")return[X.stack,q.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),x=y[0],_=y[1];if(x&&_){var L=x.split(`
`),j=_.split(`
`);for(g=h=0;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;for(;g<j.length&&!j[g].includes("DetermineComponentFrameRoot");)g++;if(h===L.length||g===j.length)for(h=L.length-1,g=j.length-1;1<=h&&0<=g&&L[h]!==j[g];)g--;for(;1<=h&&0<=g;h--,g--)if(L[h]!==j[g]){if(h!==1||g!==1)do if(h--,g--,0>g||L[h]!==j[g]){var Q=`
`+L[h].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=h&&0<=g);break}}}finally{Ku=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ks(u):""}function x2(i){switch(i.tag){case 26:case 27:case 5:return Ks(i.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 15:return Wu(i.type,!1);case 11:return Wu(i.type.render,!1);case 1:return Wu(i.type,!0);case 31:return Ks("Activity");default:return""}}function ep(i){try{var s="";do s+=x2(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function np(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function E2(i){var s=np(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(x){h=""+x,y.call(this,x)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Vo(i){i._valueTracker||(i._valueTracker=E2(i))}function ip(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return i&&(h=np(i)?i.checked?"true":"false":i.value),i=h,i!==u?(s.setValue(i),!0):!1}function Go(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var C2=/[\n"\\]/g;function Rn(i){return i.replace(C2,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qu(i,s,u,h,g,y,x,_){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),s!=null?x==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Tn(s)):i.value!==""+Tn(s)&&(i.value=""+Tn(s)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),s!=null?Zu(i,x,Tn(s)):u!=null?Zu(i,x,Tn(u)):h!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.name=""+Tn(_):i.removeAttribute("name")}function sp(i,s,u,h,g,y,x,_){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;u=u!=null?""+Tn(u):"",s=s!=null?""+Tn(s):u,_||s===i.value||(i.value=s),i.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=_?i.checked:!!h,i.defaultChecked=!!h,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x)}function Zu(i,s,u){s==="number"&&Go(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Ws(i,s,u,h){if(i=i.options,s){s={};for(var g=0;g<u.length;g++)s["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=s.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&h&&(i[u].defaultSelected=!0)}else{for(u=""+Tn(u),s=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function rp(i,s,u){if(s!=null&&(s=""+Tn(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+Tn(u):""}function ap(i,s,u,h){if(s==null){if(h!=null){if(u!=null)throw Error(n(92));if(at(h)){if(1<h.length)throw Error(n(93));h=h[0]}u=h}u==null&&(u=""),s=u}u=Tn(s),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h)}function Qs(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var _2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function op(i,s,u){var h=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,u):typeof u!="number"||u===0||_2.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function lp(i,s,u){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&u[g]!==h&&op(i,g,h)}else for(var y in s)s.hasOwnProperty(y)&&op(i,y,s[y])}function Ju(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qo(i){return R2.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var tc=null;function ec(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zs=null,Js=null;function up(i){var s=Xs(i);if(s&&(i=s.stateNode)){var u=i[Je]||null;t:switch(i=s.stateNode,s.type){case"input":if(Qu(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Rn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==i&&h.form===i.form){var g=h[Je]||null;if(!g)throw Error(n(90));Qu(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<u.length;s++)h=u[s],h.form===i.form&&ip(h)}break t;case"textarea":rp(i,u.value,u.defaultValue);break t;case"select":s=u.value,s!=null&&Ws(i,!!u.multiple,s,!1)}}}var nc=!1;function cp(i,s,u){if(nc)return i(s,u);nc=!0;try{var h=i(s);return h}finally{if(nc=!1,(Zs!==null||Js!==null)&&(Ml(),Zs&&(s=Zs,i=Js,Js=Zs=null,up(s),i)))for(s=0;s<i.length;s++)up(i[s])}}function aa(i,s){var u=i.stateNode;if(u===null)return null;var h=u[Je]||null;if(h===null)return null;u=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=!1;if(mi)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){ic=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{ic=!1}var Ii=null,sc=null,Xo=null;function hp(){if(Xo)return Xo;var i,s=sc,u=s.length,h,g="value"in Ii?Ii.value:Ii.textContent,y=g.length;for(i=0;i<u&&s[i]===g[i];i++);var x=u-i;for(h=1;h<=x&&s[u-h]===g[y-h];h++);return Xo=g.slice(i,1<h?1-h:void 0)}function Yo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function $o(){return!0}function dp(){return!1}function tn(i){function s(u,h,g,y,x){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var _ in i)i.hasOwnProperty(_)&&(u=i[_],this[_]=u?u(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?$o:dp,this.isPropagationStopped=dp,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=$o)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=$o)},persist:function(){},isPersistent:$o}),s}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ko=tn(ps),la=p({},ps,{view:0,detail:0}),k2=tn(la),rc,ac,ua,Wo=p({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ua&&(ua&&i.type==="mousemove"?(rc=i.screenX-ua.screenX,ac=i.screenY-ua.screenY):ac=rc=0,ua=i),rc)},movementY:function(i){return"movementY"in i?i.movementY:ac}}),fp=tn(Wo),M2=p({},Wo,{dataTransfer:0}),D2=tn(M2),L2=p({},la,{relatedTarget:0}),oc=tn(L2),O2=p({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),N2=tn(O2),P2=p({},ps,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),B2=tn(P2),z2=p({},ps,{data:0}),pp=tn(z2),I2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H2(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=U2[i])?!!s[i]:!1}function lc(){return H2}var j2=p({},la,{key:function(i){if(i.key){var s=I2[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Yo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?F2[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(i){return i.type==="keypress"?Yo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Yo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),V2=tn(j2),G2=p({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gp=tn(G2),q2=p({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),X2=tn(q2),Y2=p({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),$2=tn(Y2),K2=p({},Wo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),W2=tn(K2),Q2=p({},ps,{newState:0,oldState:0}),Z2=tn(Q2),J2=[9,13,27,32],uc=mi&&"CompositionEvent"in window,ca=null;mi&&"documentMode"in document&&(ca=document.documentMode);var tv=mi&&"TextEvent"in window&&!ca,mp=mi&&(!uc||ca&&8<ca&&11>=ca),yp=" ",bp=!1;function vp(i,s){switch(i){case"keyup":return J2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var tr=!1;function ev(i,s){switch(i){case"compositionend":return Sp(s);case"keypress":return s.which!==32?null:(bp=!0,yp);case"textInput":return i=s.data,i===yp&&bp?null:i;default:return null}}function nv(i,s){if(tr)return i==="compositionend"||!uc&&vp(i,s)?(i=hp(),Xo=sc=Ii=null,tr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return mp&&s.locale!=="ko"?null:s.data;default:return null}}var iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!iv[i.type]:s==="textarea"}function wp(i,s,u,h){Zs?Js?Js.push(h):Js=[h]:Zs=h,s=Bl(s,"onChange"),0<s.length&&(u=new Ko("onChange","change",null,u,h),i.push({event:u,listeners:s}))}var ha=null,da=null;function sv(i){n0(i,0)}function Qo(i){var s=ra(i);if(ip(s))return i}function xp(i,s){if(i==="change")return s}var Ep=!1;if(mi){var cc;if(mi){var hc="oninput"in document;if(!hc){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),hc=typeof Cp.oninput=="function"}cc=hc}else cc=!1;Ep=cc&&(!document.documentMode||9<document.documentMode)}function _p(){ha&&(ha.detachEvent("onpropertychange",Tp),da=ha=null)}function Tp(i){if(i.propertyName==="value"&&Qo(da)){var s=[];wp(s,da,i,ec(i)),cp(sv,s)}}function rv(i,s,u){i==="focusin"?(_p(),ha=s,da=u,ha.attachEvent("onpropertychange",Tp)):i==="focusout"&&_p()}function av(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Qo(da)}function ov(i,s){if(i==="click")return Qo(s)}function lv(i,s){if(i==="input"||i==="change")return Qo(s)}function uv(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var fn=typeof Object.is=="function"?Object.is:uv;function fa(i,s){if(fn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!$e.call(s,g)||!fn(i[g],s[g]))return!1}return!0}function Rp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function kp(i,s){var u=Rp(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=s&&h>=s)return{node:u,offset:s-i};i=h}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Rp(u)}}function Mp(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Mp(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Dp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Go(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Go(i.document)}return s}function dc(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var cv=mi&&"documentMode"in document&&11>=document.documentMode,er=null,fc=null,pa=null,pc=!1;function Lp(i,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;pc||er==null||er!==Go(h)||(h=er,"selectionStart"in h&&dc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),pa&&fa(pa,h)||(pa=h,h=Bl(fc,"onSelect"),0<h.length&&(s=new Ko("onSelect","select",null,s,u),i.push({event:s,listeners:h}),s.target=er)))}function gs(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var nr={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},gc={},Op={};mi&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function ms(i){if(gc[i])return gc[i];if(!nr[i])return i;var s=nr[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Op)return gc[i]=s[u];return i}var Np=ms("animationend"),Pp=ms("animationiteration"),Bp=ms("animationstart"),hv=ms("transitionrun"),dv=ms("transitionstart"),fv=ms("transitioncancel"),zp=ms("transitionend"),Ip=new Map,mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mc.push("scrollEnd");function jn(i,s){Ip.set(i,s),fs(s,[i])}var Fp=new WeakMap;function kn(i,s){if(typeof i=="object"&&i!==null){var u=Fp.get(i);return u!==void 0?u:(s={value:i,source:s,stack:ep(s)},Fp.set(i,s),s)}return{value:i,source:s,stack:ep(s)}}var Mn=[],ir=0,yc=0;function Zo(){for(var i=ir,s=yc=ir=0;s<i;){var u=Mn[s];Mn[s++]=null;var h=Mn[s];Mn[s++]=null;var g=Mn[s];Mn[s++]=null;var y=Mn[s];if(Mn[s++]=null,h!==null&&g!==null){var x=h.pending;x===null?g.next=g:(g.next=x.next,x.next=g),h.pending=g}y!==0&&Up(u,g,y)}}function Jo(i,s,u,h){Mn[ir++]=i,Mn[ir++]=s,Mn[ir++]=u,Mn[ir++]=h,yc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function bc(i,s,u,h){return Jo(i,s,u,h),tl(i)}function sr(i,s){return Jo(i,null,null,s),tl(i)}function Up(i,s,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var g=!1,y=i.return;y!==null;)y.childLanes|=u,h=y.alternate,h!==null&&(h.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&s!==null&&(g=31-gt(u),i=y.hiddenUpdates,h=i[g],h===null?i[g]=[s]:h.push(s),s.lane=u|536870912),y):null}function tl(i){if(50<Fa)throw Fa=0,Eh=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var rr={};function pv(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(i,s,u,h){return new pv(i,s,u,h)}function vc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function yi(i,s){var u=i.alternate;return u===null?(u=pn(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Hp(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function el(i,s,u,h,g,y){var x=0;if(h=i,typeof i=="function")vc(i)&&(x=1);else if(typeof i=="string")x=mS(i,u,lt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case V:return i=pn(31,u,s,g),i.elementType=V,i.lanes=y,i;case w:return ys(u.children,g,y,s);case S:x=8,g|=24;break;case C:return i=pn(12,u,s,g|2),i.elementType=C,i.lanes=y,i;case D:return i=pn(13,u,s,g),i.elementType=D,i.lanes=y,i;case M:return i=pn(19,u,s,g),i.elementType=M,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:case R:x=10;break t;case k:x=9;break t;case O:x=11;break t;case z:x=14;break t;case H:x=16,h=null;break t}x=29,u=Error(n(130,i===null?"null":typeof i,"")),h=null}return s=pn(x,u,s,g),s.elementType=i,s.type=h,s.lanes=y,s}function ys(i,s,u,h){return i=pn(7,i,h,s),i.lanes=u,i}function Sc(i,s,u){return i=pn(6,i,null,s),i.lanes=u,i}function Ac(i,s,u){return s=pn(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var ar=[],or=0,nl=null,il=0,Dn=[],Ln=0,bs=null,bi=1,vi="";function vs(i,s){ar[or++]=il,ar[or++]=nl,nl=i,il=s}function jp(i,s,u){Dn[Ln++]=bi,Dn[Ln++]=vi,Dn[Ln++]=bs,bs=i;var h=bi;i=vi;var g=32-gt(h)-1;h&=~(1<<g),u+=1;var y=32-gt(s)+g;if(30<y){var x=g-g%5;y=(h&(1<<x)-1).toString(32),h>>=x,g-=x,bi=1<<32-gt(s)+g|u<<g|h,vi=y+i}else bi=1<<y|u<<g|h,vi=i}function wc(i){i.return!==null&&(vs(i,1),jp(i,1,0))}function xc(i){for(;i===nl;)nl=ar[--or],ar[or]=null,il=ar[--or],ar[or]=null;for(;i===bs;)bs=Dn[--Ln],Dn[Ln]=null,vi=Dn[--Ln],Dn[Ln]=null,bi=Dn[--Ln],Dn[Ln]=null}var Ke=null,ge=null,Vt=!1,Ss=null,$n=!1,Ec=Error(n(519));function As(i){var s=Error(n(418,""));throw ya(kn(s,i)),Ec}function Vp(i){var s=i.stateNode,u=i.type,h=i.memoizedProps;switch(s[je]=i,s[Je]=h,u){case"dialog":Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":case"embed":Pt("load",s);break;case"video":case"audio":for(u=0;u<Ha.length;u++)Pt(Ha[u],s);break;case"source":Pt("error",s);break;case"img":case"image":case"link":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"input":Pt("invalid",s),sp(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Vo(s);break;case"select":Pt("invalid",s);break;case"textarea":Pt("invalid",s),ap(s,h.value,h.defaultValue,h.children),Vo(s)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||h.suppressHydrationWarning===!0||a0(s.textContent,u)?(h.popover!=null&&(Pt("beforetoggle",s),Pt("toggle",s)),h.onScroll!=null&&Pt("scroll",s),h.onScrollEnd!=null&&Pt("scrollend",s),h.onClick!=null&&(s.onclick=zl),s=!0):s=!1,s||As(i)}function Gp(i){for(Ke=i.return;Ke;)switch(Ke.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ke=Ke.return}}function ga(i){if(i!==Ke)return!1;if(!Vt)return Gp(i),Vt=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Uh(i.type,i.memoizedProps)),u=!u),u&&ge&&As(i),Gp(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){ge=Gn(i.nextSibling);break t}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}ge=null}}else s===27?(s=ge,ts(i.type)?(i=Gh,Gh=null,ge=i):ge=s):ge=Ke?Gn(i.stateNode.nextSibling):null;return!0}function ma(){ge=Ke=null,Vt=!1}function qp(){var i=Ss;return i!==null&&(sn===null?sn=i:sn.push.apply(sn,i),Ss=null),i}function ya(i){Ss===null?Ss=[i]:Ss.push(i)}var Cc=K(null),ws=null,Si=null;function Fi(i,s,u){T(Cc,s._currentValue),s._currentValue=u}function Ai(i){i._currentValue=Cc.current,st(Cc)}function _c(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function Tc(i,s,u,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var x=g.child;y=y.firstContext;t:for(;y!==null;){var _=y;y=g;for(var L=0;L<s.length;L++)if(_.context===s[L]){y.lanes|=u,_=y.alternate,_!==null&&(_.lanes|=u),_c(y.return,u,i),h||(x=null);break t}y=_.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(n(341));x.lanes|=u,y=x.alternate,y!==null&&(y.lanes|=u),_c(x,u,i),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===i){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function ba(i,s,u,h){i=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(n(387));if(x=x.memoizedProps,x!==null){var _=g.type;fn(g.pendingProps.value,x.value)||(i!==null?i.push(_):i=[_])}}else if(g===Et.current){if(x=g.alternate,x===null)throw Error(n(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Ya):i=[Ya])}g=g.return}i!==null&&Tc(s,i,u,h),s.flags|=262144}function sl(i){for(i=i.firstContext;i!==null;){if(!fn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function xs(i){ws=i,Si=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ve(i){return Xp(ws,i)}function rl(i,s){return ws===null&&xs(i),Xp(i,s)}function Xp(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Si===null){if(i===null)throw Error(n(308));Si=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Si=Si.next=s;return u}var gv=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},mv=r.unstable_scheduleCallback,yv=r.unstable_NormalPriority,Te={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rc(){return{controller:new gv,data:new Map,refCount:0}}function va(i){i.refCount--,i.refCount===0&&mv(yv,function(){i.controller.abort()})}var Sa=null,kc=0,lr=0,ur=null;function bv(i,s){if(Sa===null){var u=Sa=[];kc=0,lr=Dh(),ur={status:"pending",value:void 0,then:function(h){u.push(h)}}}return kc++,s.then(Yp,Yp),s}function Yp(){if(--kc===0&&Sa!==null){ur!==null&&(ur.status="fulfilled");var i=Sa;Sa=null,lr=0,ur=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function vv(i,s){var u=[],h={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<u.length;g++)(0,u[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),h}var $p=P.S;P.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&bv(i,s),$p!==null&&$p(i,s)};var Es=K(null);function Mc(){var i=Es.current;return i!==null?i:ne.pooledCache}function al(i,s){s===null?T(Es,Es.current):T(Es,s.pool)}function Kp(){var i=Mc();return i===null?null:{parent:Te._currentValue,pool:i}}var Aa=Error(n(460)),Wp=Error(n(474)),ol=Error(n(542)),Dc={then:function(){}};function Qp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ll(){}function Zp(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(ll,ll),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,tg(i),i;default:if(typeof s.status=="string")s.then(ll,ll);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,tg(i),i}throw wa=s,Aa}}var wa=null;function Jp(){if(wa===null)throw Error(n(459));var i=wa;return wa=null,i}function tg(i){if(i===Aa||i===ol)throw Error(n(483))}var Ui=!1;function Lc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oc(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Hi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ji(i,s,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Xt&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=tl(i),Up(i,null,u),s}return Jo(i,h,s,u),tl(i)}function xa(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Yf(i,u)}}function Nc(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var x={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?g=y=x:y=y.next=x,u=u.next}while(u!==null);y===null?g=y=s:y=y.next=s}else g=y=s;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var Pc=!1;function Ea(){if(Pc){var i=ur;if(i!==null)throw i}}function Ca(i,s,u,h){Pc=!1;var g=i.updateQueue;Ui=!1;var y=g.firstBaseUpdate,x=g.lastBaseUpdate,_=g.shared.pending;if(_!==null){g.shared.pending=null;var L=_,j=L.next;L.next=null,x===null?y=j:x.next=j,x=L;var Q=i.alternate;Q!==null&&(Q=Q.updateQueue,_=Q.lastBaseUpdate,_!==x&&(_===null?Q.firstBaseUpdate=j:_.next=j,Q.lastBaseUpdate=L))}if(y!==null){var tt=g.baseState;x=0,Q=j=L=null,_=y;do{var q=_.lane&-536870913,X=q!==_.lane;if(X?(Ft&q)===q:(h&q)===q){q!==0&&q===lr&&(Pc=!0),Q!==null&&(Q=Q.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var wt=i,vt=_;q=s;var Wt=u;switch(vt.tag){case 1:if(wt=vt.payload,typeof wt=="function"){tt=wt.call(Wt,tt,q);break t}tt=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=vt.payload,q=typeof wt=="function"?wt.call(Wt,tt,q):wt,q==null)break t;tt=p({},tt,q);break t;case 2:Ui=!0}}q=_.callback,q!==null&&(i.flags|=64,X&&(i.flags|=8192),X=g.callbacks,X===null?g.callbacks=[q]:X.push(q))}else X={lane:q,tag:_.tag,payload:_.payload,callback:_.callback,next:null},Q===null?(j=Q=X,L=tt):Q=Q.next=X,x|=q;if(_=_.next,_===null){if(_=g.shared.pending,_===null)break;X=_,_=X.next,X.next=null,g.lastBaseUpdate=X,g.shared.pending=null}}while(!0);Q===null&&(L=tt),g.baseState=L,g.firstBaseUpdate=j,g.lastBaseUpdate=Q,y===null&&(g.shared.lanes=0),Wi|=x,i.lanes=x,i.memoizedState=tt}}function eg(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function ng(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)eg(u[i],s)}var cr=K(null),ul=K(0);function ig(i,s){i=Ri,T(ul,i),T(cr,s),Ri=i|s.baseLanes}function Bc(){T(ul,Ri),T(cr,cr.current)}function zc(){Ri=ul.current,st(cr),st(ul)}var Vi=0,Dt=null,$t=null,we=null,cl=!1,hr=!1,Cs=!1,hl=0,_a=0,dr=null,Sv=0;function ye(){throw Error(n(321))}function Ic(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!fn(i[u],s[u]))return!1;return!0}function Fc(i,s,u,h,g,y){return Vi=y,Dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,P.H=i===null||i.memoizedState===null?Ug:Hg,Cs=!1,y=u(h,g),Cs=!1,hr&&(y=rg(s,u,h,g)),sg(i),y}function sg(i){P.H=yl;var s=$t!==null&&$t.next!==null;if(Vi=0,we=$t=Dt=null,cl=!1,_a=0,dr=null,s)throw Error(n(300));i===null||De||(i=i.dependencies,i!==null&&sl(i)&&(De=!0))}function rg(i,s,u,h){Dt=i;var g=0;do{if(hr&&(dr=null),_a=0,hr=!1,25<=g)throw Error(n(301));if(g+=1,we=$t=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}P.H=Tv,y=s(u,h)}while(hr);return y}function Av(){var i=P.H,s=i.useState()[0];return s=typeof s.then=="function"?Ta(s):s,i=i.useState()[0],($t!==null?$t.memoizedState:null)!==i&&(Dt.flags|=1024),s}function Uc(){var i=hl!==0;return hl=0,i}function Hc(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function jc(i){if(cl){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}cl=!1}Vi=0,we=$t=Dt=null,hr=!1,_a=hl=0,dr=null}function en(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Dt.memoizedState=we=i:we=we.next=i,we}function xe(){if($t===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var s=we===null?Dt.memoizedState:we.next;if(s!==null)we=s,$t=i;else{if(i===null)throw Dt.alternate===null?Error(n(467)):Error(n(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},we===null?Dt.memoizedState=we=i:we=we.next=i}return we}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ta(i){var s=_a;return _a+=1,dr===null&&(dr=[]),i=Zp(dr,i,s),s=Dt,(we===null?s.memoizedState:we.next)===null&&(s=s.alternate,P.H=s===null||s.memoizedState===null?Ug:Hg),i}function dl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ta(i);if(i.$$typeof===R)return Ve(i)}throw Error(n(438,String(i)))}function Gc(i){var s=null,u=Dt.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var h=Dt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Vc(),Dt.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),h=0;h<i;h++)u[h]=$;return s.index++,u}function wi(i,s){return typeof s=="function"?s(i):s}function fl(i){var s=xe();return qc(s,$t,i)}function qc(i,s,u){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=u;var g=i.baseQueue,y=h.pending;if(y!==null){if(g!==null){var x=g.next;g.next=y.next,y.next=x}s.baseQueue=g=y,h.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{s=g.next;var _=x=null,L=null,j=s,Q=!1;do{var tt=j.lane&-536870913;if(tt!==j.lane?(Ft&tt)===tt:(Vi&tt)===tt){var q=j.revertLane;if(q===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),tt===lr&&(Q=!0);else if((Vi&q)===q){j=j.next,q===lr&&(Q=!0);continue}else tt={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},L===null?(_=L=tt,x=y):L=L.next=tt,Dt.lanes|=q,Wi|=q;tt=j.action,Cs&&u(y,tt),y=j.hasEagerState?j.eagerState:u(y,tt)}else q={lane:tt,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},L===null?(_=L=q,x=y):L=L.next=q,Dt.lanes|=tt,Wi|=tt;j=j.next}while(j!==null&&j!==s);if(L===null?x=y:L.next=_,!fn(y,i.memoizedState)&&(De=!0,Q&&(u=ur,u!==null)))throw u;i.memoizedState=y,i.baseState=x,i.baseQueue=L,h.lastRenderedState=y}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Xc(i){var s=xe(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=u.dispatch,g=u.pending,y=s.memoizedState;if(g!==null){u.pending=null;var x=g=g.next;do y=i(y,x.action),x=x.next;while(x!==g);fn(y,s.memoizedState)||(De=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),u.lastRenderedState=y}return[y,h]}function ag(i,s,u){var h=Dt,g=xe(),y=Vt;if(y){if(u===void 0)throw Error(n(407));u=u()}else u=s();var x=!fn(($t||g).memoizedState,u);x&&(g.memoizedState=u,De=!0),g=g.queue;var _=ug.bind(null,h,g,i);if(Ra(2048,8,_,[i]),g.getSnapshot!==s||x||we!==null&&we.memoizedState.tag&1){if(h.flags|=2048,fr(9,pl(),lg.bind(null,h,g,u,s),null),ne===null)throw Error(n(349));y||(Vi&124)!==0||og(h,s,u)}return u}function og(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Dt.updateQueue,s===null?(s=Vc(),Dt.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function lg(i,s,u,h){s.value=u,s.getSnapshot=h,cg(s)&&hg(i)}function ug(i,s,u){return u(function(){cg(s)&&hg(i)})}function cg(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!fn(i,u)}catch{return!0}}function hg(i){var s=sr(i,2);s!==null&&vn(s,i,2)}function Yc(i){var s=en();if(typeof i=="function"){var u=i;if(i=u(),Cs){pt(!0);try{u()}finally{pt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:i},s}function dg(i,s,u,h){return i.baseState=u,qc(i,$t,typeof h=="function"?h:wi)}function wv(i,s,u,h,g){if(ml(i))throw Error(n(485));if(i=s.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};P.T!==null?u(!0):y.isTransition=!1,h(y),u=s.pending,u===null?(y.next=s.pending=y,fg(s,y)):(y.next=u.next,s.pending=u.next=y)}}function fg(i,s){var u=s.action,h=s.payload,g=i.state;if(s.isTransition){var y=P.T,x={};P.T=x;try{var _=u(g,h),L=P.S;L!==null&&L(x,_),pg(i,s,_)}catch(j){$c(i,s,j)}finally{P.T=y}}else try{y=u(g,h),pg(i,s,y)}catch(j){$c(i,s,j)}}function pg(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){gg(i,s,h)},function(h){return $c(i,s,h)}):gg(i,s,u)}function gg(i,s,u){s.status="fulfilled",s.value=u,mg(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,fg(i,u)))}function $c(i,s,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=u,mg(s),s=s.next;while(s!==h)}i.action=null}function mg(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function yg(i,s){return s}function bg(i,s){if(Vt){var u=ne.formState;if(u!==null){t:{var h=Dt;if(Vt){if(ge){e:{for(var g=ge,y=$n;g.nodeType!==8;){if(!y){g=null;break e}if(g=Gn(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ge=Gn(g.nextSibling),h=g.data==="F!";break t}}As(h)}h=!1}h&&(s=u[0])}}return u=en(),u.memoizedState=u.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yg,lastRenderedState:s},u.queue=h,u=zg.bind(null,Dt,h),h.dispatch=u,h=Yc(!1),y=Jc.bind(null,Dt,!1,h.queue),h=en(),g={state:s,dispatch:null,action:i,pending:null},h.queue=g,u=wv.bind(null,Dt,g,y,u),g.dispatch=u,h.memoizedState=i,[s,u,!1]}function vg(i){var s=xe();return Sg(s,$t,i)}function Sg(i,s,u){if(s=qc(i,s,yg)[0],i=fl(wi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Ta(s)}catch(x){throw x===Aa?ol:x}else h=s;s=xe();var g=s.queue,y=g.dispatch;return u!==s.memoizedState&&(Dt.flags|=2048,fr(9,pl(),xv.bind(null,g,u),null)),[h,y,i]}function xv(i,s){i.action=s}function Ag(i){var s=xe(),u=$t;if(u!==null)return Sg(s,u,i);xe(),s=s.memoizedState,u=xe();var h=u.queue.dispatch;return u.memoizedState=i,[s,h,!1]}function fr(i,s,u,h){return i={tag:i,create:u,deps:h,inst:s,next:null},s=Dt.updateQueue,s===null&&(s=Vc(),Dt.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i),i}function pl(){return{destroy:void 0,resource:void 0}}function wg(){return xe().memoizedState}function gl(i,s,u,h){var g=en();h=h===void 0?null:h,Dt.flags|=i,g.memoizedState=fr(1|s,pl(),u,h)}function Ra(i,s,u,h){var g=xe();h=h===void 0?null:h;var y=g.memoizedState.inst;$t!==null&&h!==null&&Ic(h,$t.memoizedState.deps)?g.memoizedState=fr(s,y,u,h):(Dt.flags|=i,g.memoizedState=fr(1|s,y,u,h))}function xg(i,s){gl(8390656,8,i,s)}function Eg(i,s){Ra(2048,8,i,s)}function Cg(i,s){return Ra(4,2,i,s)}function _g(i,s){return Ra(4,4,i,s)}function Tg(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Rg(i,s,u){u=u!=null?u.concat([i]):null,Ra(4,4,Tg.bind(null,s,i),u)}function Kc(){}function kg(i,s){var u=xe();s=s===void 0?null:s;var h=u.memoizedState;return s!==null&&Ic(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function Mg(i,s){var u=xe();s=s===void 0?null:s;var h=u.memoizedState;if(s!==null&&Ic(s,h[1]))return h[0];if(h=i(),Cs){pt(!0);try{i()}finally{pt(!1)}}return u.memoizedState=[h,s],h}function Wc(i,s,u){return u===void 0||(Vi&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=Om(),Dt.lanes|=i,Wi|=i,u)}function Dg(i,s,u,h){return fn(u,s)?u:cr.current!==null?(i=Wc(i,u,h),fn(i,s)||(De=!0),i):(Vi&42)===0?(De=!0,i.memoizedState=u):(i=Om(),Dt.lanes|=i,Wi|=i,s)}function Lg(i,s,u,h,g){var y=G.p;G.p=y!==0&&8>y?y:8;var x=P.T,_={};P.T=_,Jc(i,!1,s,u);try{var L=g(),j=P.S;if(j!==null&&j(_,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Q=vv(L,h);ka(i,s,Q,bn(i))}else ka(i,s,h,bn(i))}catch(tt){ka(i,s,{then:function(){},status:"rejected",reason:tt},bn())}finally{G.p=y,P.T=x}}function Ev(){}function Qc(i,s,u,h){if(i.tag!==5)throw Error(n(476));var g=Og(i).queue;Lg(i,g,s,it,u===null?Ev:function(){return Ng(i),u(h)})}function Og(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:it},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Ng(i){var s=Og(i).next.queue;ka(i,s,{},bn())}function Zc(){return Ve(Ya)}function Pg(){return xe().memoizedState}function Bg(){return xe().memoizedState}function Cv(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=bn();i=Hi(u);var h=ji(s,i,u);h!==null&&(vn(h,s,u),xa(h,s,u)),s={cache:Rc()},i.payload=s;return}s=s.return}}function _v(i,s,u){var h=bn();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},ml(i)?Ig(s,u):(u=bc(i,s,u,h),u!==null&&(vn(u,i,h),Fg(u,s,h)))}function zg(i,s,u){var h=bn();ka(i,s,u,h)}function ka(i,s,u,h){var g={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(ml(i))Ig(s,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var x=s.lastRenderedState,_=y(x,u);if(g.hasEagerState=!0,g.eagerState=_,fn(_,x))return Jo(i,s,g,0),ne===null&&Zo(),!1}catch{}finally{}if(u=bc(i,s,g,h),u!==null)return vn(u,i,h),Fg(u,s,h),!0}return!1}function Jc(i,s,u,h){if(h={lane:2,revertLane:Dh(),action:h,hasEagerState:!1,eagerState:null,next:null},ml(i)){if(s)throw Error(n(479))}else s=bc(i,u,h,2),s!==null&&vn(s,i,2)}function ml(i){var s=i.alternate;return i===Dt||s!==null&&s===Dt}function Ig(i,s){hr=cl=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Fg(i,s,u){if((u&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Yf(i,u)}}var yl={readContext:Ve,use:dl,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},Ug={readContext:Ve,use:dl,useCallback:function(i,s){return en().memoizedState=[i,s===void 0?null:s],i},useContext:Ve,useEffect:xg,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,gl(4194308,4,Tg.bind(null,s,i),u)},useLayoutEffect:function(i,s){return gl(4194308,4,i,s)},useInsertionEffect:function(i,s){gl(4,2,i,s)},useMemo:function(i,s){var u=en();s=s===void 0?null:s;var h=i();if(Cs){pt(!0);try{i()}finally{pt(!1)}}return u.memoizedState=[h,s],h},useReducer:function(i,s,u){var h=en();if(u!==void 0){var g=u(s);if(Cs){pt(!0);try{u(s)}finally{pt(!1)}}}else g=s;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=_v.bind(null,Dt,i),[h.memoizedState,i]},useRef:function(i){var s=en();return i={current:i},s.memoizedState=i},useState:function(i){i=Yc(i);var s=i.queue,u=zg.bind(null,Dt,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:Kc,useDeferredValue:function(i,s){var u=en();return Wc(u,i,s)},useTransition:function(){var i=Yc(!1);return i=Lg.bind(null,Dt,i.queue,!0,!1),en().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var h=Dt,g=en();if(Vt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),ne===null)throw Error(n(349));(Ft&124)!==0||og(h,s,u)}g.memoizedState=u;var y={value:u,getSnapshot:s};return g.queue=y,xg(ug.bind(null,h,y,i),[i]),h.flags|=2048,fr(9,pl(),lg.bind(null,h,y,u,s),null),u},useId:function(){var i=en(),s=ne.identifierPrefix;if(Vt){var u=vi,h=bi;u=(h&~(1<<32-gt(h)-1)).toString(32)+u,s=""+s+"R"+u,u=hl++,0<u&&(s+="H"+u.toString(32)),s+=""}else u=Sv++,s=""+s+"r"+u.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Zc,useFormState:bg,useActionState:bg,useOptimistic:function(i){var s=en();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Jc.bind(null,Dt,!0,u),u.dispatch=s,[i,s]},useMemoCache:Gc,useCacheRefresh:function(){return en().memoizedState=Cv.bind(null,Dt)}},Hg={readContext:Ve,use:dl,useCallback:kg,useContext:Ve,useEffect:Eg,useImperativeHandle:Rg,useInsertionEffect:Cg,useLayoutEffect:_g,useMemo:Mg,useReducer:fl,useRef:wg,useState:function(){return fl(wi)},useDebugValue:Kc,useDeferredValue:function(i,s){var u=xe();return Dg(u,$t.memoizedState,i,s)},useTransition:function(){var i=fl(wi)[0],s=xe().memoizedState;return[typeof i=="boolean"?i:Ta(i),s]},useSyncExternalStore:ag,useId:Pg,useHostTransitionStatus:Zc,useFormState:vg,useActionState:vg,useOptimistic:function(i,s){var u=xe();return dg(u,$t,i,s)},useMemoCache:Gc,useCacheRefresh:Bg},Tv={readContext:Ve,use:dl,useCallback:kg,useContext:Ve,useEffect:Eg,useImperativeHandle:Rg,useInsertionEffect:Cg,useLayoutEffect:_g,useMemo:Mg,useReducer:Xc,useRef:wg,useState:function(){return Xc(wi)},useDebugValue:Kc,useDeferredValue:function(i,s){var u=xe();return $t===null?Wc(u,i,s):Dg(u,$t.memoizedState,i,s)},useTransition:function(){var i=Xc(wi)[0],s=xe().memoizedState;return[typeof i=="boolean"?i:Ta(i),s]},useSyncExternalStore:ag,useId:Pg,useHostTransitionStatus:Zc,useFormState:Ag,useActionState:Ag,useOptimistic:function(i,s){var u=xe();return $t!==null?dg(u,$t,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Gc,useCacheRefresh:Bg},pr=null,Ma=0;function bl(i){var s=Ma;return Ma+=1,pr===null&&(pr=[]),Zp(pr,i,s)}function Da(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function vl(i,s){throw s.$$typeof===m?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function jg(i){var s=i._init;return s(i._payload)}function Vg(i){function s(F,B){if(i){var U=F.deletions;U===null?(F.deletions=[B],F.flags|=16):U.push(B)}}function u(F,B){if(!i)return null;for(;B!==null;)s(F,B),B=B.sibling;return null}function h(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function g(F,B){return F=yi(F,B),F.index=0,F.sibling=null,F}function y(F,B,U){return F.index=U,i?(U=F.alternate,U!==null?(U=U.index,U<B?(F.flags|=67108866,B):U):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function x(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function _(F,B,U,Z){return B===null||B.tag!==6?(B=Sc(U,F.mode,Z),B.return=F,B):(B=g(B,U),B.return=F,B)}function L(F,B,U,Z){var dt=U.type;return dt===w?Q(F,B,U.props.children,Z,U.key):B!==null&&(B.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===H&&jg(dt)===B.type)?(B=g(B,U.props),Da(B,U),B.return=F,B):(B=el(U.type,U.key,U.props,null,F.mode,Z),Da(B,U),B.return=F,B)}function j(F,B,U,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==U.containerInfo||B.stateNode.implementation!==U.implementation?(B=Ac(U,F.mode,Z),B.return=F,B):(B=g(B,U.children||[]),B.return=F,B)}function Q(F,B,U,Z,dt){return B===null||B.tag!==7?(B=ys(U,F.mode,Z,dt),B.return=F,B):(B=g(B,U),B.return=F,B)}function tt(F,B,U){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Sc(""+B,F.mode,U),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return U=el(B.type,B.key,B.props,null,F.mode,U),Da(U,B),U.return=F,U;case v:return B=Ac(B,F.mode,U),B.return=F,B;case H:var Z=B._init;return B=Z(B._payload),tt(F,B,U)}if(at(B)||et(B))return B=ys(B,F.mode,U,null),B.return=F,B;if(typeof B.then=="function")return tt(F,bl(B),U);if(B.$$typeof===R)return tt(F,rl(F,B),U);vl(F,B)}return null}function q(F,B,U,Z){var dt=B!==null?B.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return dt!==null?null:_(F,B,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return U.key===dt?L(F,B,U,Z):null;case v:return U.key===dt?j(F,B,U,Z):null;case H:return dt=U._init,U=dt(U._payload),q(F,B,U,Z)}if(at(U)||et(U))return dt!==null?null:Q(F,B,U,Z,null);if(typeof U.then=="function")return q(F,B,bl(U),Z);if(U.$$typeof===R)return q(F,B,rl(F,U),Z);vl(F,U)}return null}function X(F,B,U,Z,dt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return F=F.get(U)||null,_(B,F,""+Z,dt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return F=F.get(Z.key===null?U:Z.key)||null,L(B,F,Z,dt);case v:return F=F.get(Z.key===null?U:Z.key)||null,j(B,F,Z,dt);case H:var Lt=Z._init;return Z=Lt(Z._payload),X(F,B,U,Z,dt)}if(at(Z)||et(Z))return F=F.get(U)||null,Q(B,F,Z,dt,null);if(typeof Z.then=="function")return X(F,B,U,bl(Z),dt);if(Z.$$typeof===R)return X(F,B,U,rl(B,Z),dt);vl(B,Z)}return null}function wt(F,B,U,Z){for(var dt=null,Lt=null,mt=B,St=B=0,Oe=null;mt!==null&&St<U.length;St++){mt.index>St?(Oe=mt,mt=null):Oe=mt.sibling;var Ht=q(F,mt,U[St],Z);if(Ht===null){mt===null&&(mt=Oe);break}i&&mt&&Ht.alternate===null&&s(F,mt),B=y(Ht,B,St),Lt===null?dt=Ht:Lt.sibling=Ht,Lt=Ht,mt=Oe}if(St===U.length)return u(F,mt),Vt&&vs(F,St),dt;if(mt===null){for(;St<U.length;St++)mt=tt(F,U[St],Z),mt!==null&&(B=y(mt,B,St),Lt===null?dt=mt:Lt.sibling=mt,Lt=mt);return Vt&&vs(F,St),dt}for(mt=h(mt);St<U.length;St++)Oe=X(mt,F,St,U[St],Z),Oe!==null&&(i&&Oe.alternate!==null&&mt.delete(Oe.key===null?St:Oe.key),B=y(Oe,B,St),Lt===null?dt=Oe:Lt.sibling=Oe,Lt=Oe);return i&&mt.forEach(function(rs){return s(F,rs)}),Vt&&vs(F,St),dt}function vt(F,B,U,Z){if(U==null)throw Error(n(151));for(var dt=null,Lt=null,mt=B,St=B=0,Oe=null,Ht=U.next();mt!==null&&!Ht.done;St++,Ht=U.next()){mt.index>St?(Oe=mt,mt=null):Oe=mt.sibling;var rs=q(F,mt,Ht.value,Z);if(rs===null){mt===null&&(mt=Oe);break}i&&mt&&rs.alternate===null&&s(F,mt),B=y(rs,B,St),Lt===null?dt=rs:Lt.sibling=rs,Lt=rs,mt=Oe}if(Ht.done)return u(F,mt),Vt&&vs(F,St),dt;if(mt===null){for(;!Ht.done;St++,Ht=U.next())Ht=tt(F,Ht.value,Z),Ht!==null&&(B=y(Ht,B,St),Lt===null?dt=Ht:Lt.sibling=Ht,Lt=Ht);return Vt&&vs(F,St),dt}for(mt=h(mt);!Ht.done;St++,Ht=U.next())Ht=X(mt,F,St,Ht.value,Z),Ht!==null&&(i&&Ht.alternate!==null&&mt.delete(Ht.key===null?St:Ht.key),B=y(Ht,B,St),Lt===null?dt=Ht:Lt.sibling=Ht,Lt=Ht);return i&&mt.forEach(function(RS){return s(F,RS)}),Vt&&vs(F,St),dt}function Wt(F,B,U,Z){if(typeof U=="object"&&U!==null&&U.type===w&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case b:t:{for(var dt=U.key;B!==null;){if(B.key===dt){if(dt=U.type,dt===w){if(B.tag===7){u(F,B.sibling),Z=g(B,U.props.children),Z.return=F,F=Z;break t}}else if(B.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===H&&jg(dt)===B.type){u(F,B.sibling),Z=g(B,U.props),Da(Z,U),Z.return=F,F=Z;break t}u(F,B);break}else s(F,B);B=B.sibling}U.type===w?(Z=ys(U.props.children,F.mode,Z,U.key),Z.return=F,F=Z):(Z=el(U.type,U.key,U.props,null,F.mode,Z),Da(Z,U),Z.return=F,F=Z)}return x(F);case v:t:{for(dt=U.key;B!==null;){if(B.key===dt)if(B.tag===4&&B.stateNode.containerInfo===U.containerInfo&&B.stateNode.implementation===U.implementation){u(F,B.sibling),Z=g(B,U.children||[]),Z.return=F,F=Z;break t}else{u(F,B);break}else s(F,B);B=B.sibling}Z=Ac(U,F.mode,Z),Z.return=F,F=Z}return x(F);case H:return dt=U._init,U=dt(U._payload),Wt(F,B,U,Z)}if(at(U))return wt(F,B,U,Z);if(et(U)){if(dt=et(U),typeof dt!="function")throw Error(n(150));return U=dt.call(U),vt(F,B,U,Z)}if(typeof U.then=="function")return Wt(F,B,bl(U),Z);if(U.$$typeof===R)return Wt(F,B,rl(F,U),Z);vl(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,B!==null&&B.tag===6?(u(F,B.sibling),Z=g(B,U),Z.return=F,F=Z):(u(F,B),Z=Sc(U,F.mode,Z),Z.return=F,F=Z),x(F)):u(F,B)}return function(F,B,U,Z){try{Ma=0;var dt=Wt(F,B,U,Z);return pr=null,dt}catch(mt){if(mt===Aa||mt===ol)throw mt;var Lt=pn(29,mt,null,F.mode);return Lt.lanes=Z,Lt.return=F,Lt}finally{}}}var gr=Vg(!0),Gg=Vg(!1),On=K(null),Kn=null;function Gi(i){var s=i.alternate;T(Re,Re.current&1),T(On,i),Kn===null&&(s===null||cr.current!==null||s.memoizedState!==null)&&(Kn=i)}function qg(i){if(i.tag===22){if(T(Re,Re.current),T(On,i),Kn===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Kn=i)}}else qi()}function qi(){T(Re,Re.current),T(On,On.current)}function xi(i){st(On),Kn===i&&(Kn=null),st(Re)}var Re=K(0);function Sl(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Vh(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function th(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:p({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var eh={enqueueSetState:function(i,s,u){i=i._reactInternals;var h=bn(),g=Hi(h);g.payload=s,u!=null&&(g.callback=u),s=ji(i,g,h),s!==null&&(vn(s,i,h),xa(s,i,h))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=bn(),g=Hi(h);g.tag=1,g.payload=s,u!=null&&(g.callback=u),s=ji(i,g,h),s!==null&&(vn(s,i,h),xa(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=bn(),h=Hi(u);h.tag=2,s!=null&&(h.callback=s),s=ji(i,h,u),s!==null&&(vn(s,i,u),xa(s,i,u))}};function Xg(i,s,u,h,g,y,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,x):s.prototype&&s.prototype.isPureReactComponent?!fa(u,h)||!fa(g,y):!0}function Yg(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&eh.enqueueReplaceState(s,s.state,null)}function _s(i,s){var u=s;if("ref"in s){u={};for(var h in s)h!=="ref"&&(u[h]=s[h])}if(i=i.defaultProps){u===s&&(u=p({},u));for(var g in i)u[g]===void 0&&(u[g]=i[g])}return u}var Al=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function $g(i){Al(i)}function Kg(i){console.error(i)}function Wg(i){Al(i)}function wl(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function Qg(i,s,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function nh(i,s,u){return u=Hi(u),u.tag=3,u.payload={element:null},u.callback=function(){wl(i,s)},u}function Zg(i){return i=Hi(i),i.tag=3,i}function Jg(i,s,u,h){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;i.payload=function(){return g(y)},i.callback=function(){Qg(s,u,h)}}var x=u.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){Qg(s,u,h),typeof g!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var _=h.stack;this.componentDidCatch(h.value,{componentStack:_!==null?_:""})})}function Rv(i,s,u,h,g){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=u.alternate,s!==null&&ba(s,u,g,!0),u=On.current,u!==null){switch(u.tag){case 13:return Kn===null?_h():u.alternate===null&&me===0&&(me=3),u.flags&=-257,u.flags|=65536,u.lanes=g,h===Dc?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([h]):s.add(h),Rh(i,h,g)),!1;case 22:return u.flags|=65536,h===Dc?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([h]):u.add(h)),Rh(i,h,g)),!1}throw Error(n(435,u.tag))}return Rh(i,h,g),_h(),!1}if(Vt)return s=On.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==Ec&&(i=Error(n(422),{cause:h}),ya(kn(i,u)))):(h!==Ec&&(s=Error(n(423),{cause:h}),ya(kn(s,u))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=kn(h,u),g=nh(i.stateNode,h,g),Nc(i,g),me!==4&&(me=2)),!1;var y=Error(n(520),{cause:h});if(y=kn(y,u),Ia===null?Ia=[y]:Ia.push(y),me!==4&&(me=2),s===null)return!0;h=kn(h,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=g&-g,u.lanes|=i,i=nh(u.stateNode,h,i),Nc(u,i),!1;case 1:if(s=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Qi===null||!Qi.has(y))))return u.flags|=65536,g&=-g,u.lanes|=g,g=Zg(g),Jg(g,i,u,h),Nc(u,g),!1}u=u.return}while(u!==null);return!1}var tm=Error(n(461)),De=!1;function ze(i,s,u,h){s.child=i===null?Gg(s,null,u,h):gr(s,i.child,u,h)}function em(i,s,u,h,g){u=u.render;var y=s.ref;if("ref"in h){var x={};for(var _ in h)_!=="ref"&&(x[_]=h[_])}else x=h;return xs(s),h=Fc(i,s,u,x,y,g),_=Uc(),i!==null&&!De?(Hc(i,s,g),Ei(i,s,g)):(Vt&&_&&wc(s),s.flags|=1,ze(i,s,h,g),s.child)}function nm(i,s,u,h,g){if(i===null){var y=u.type;return typeof y=="function"&&!vc(y)&&y.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=y,im(i,s,y,h,g)):(i=el(u.type,null,h,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!ch(i,g)){var x=y.memoizedProps;if(u=u.compare,u=u!==null?u:fa,u(x,h)&&i.ref===s.ref)return Ei(i,s,g)}return s.flags|=1,i=yi(y,h),i.ref=s.ref,i.return=s,s.child=i}function im(i,s,u,h,g){if(i!==null){var y=i.memoizedProps;if(fa(y,h)&&i.ref===s.ref)if(De=!1,s.pendingProps=h=y,ch(i,g))(i.flags&131072)!==0&&(De=!0);else return s.lanes=i.lanes,Ei(i,s,g)}return ih(i,s,u,h,g)}function sm(i,s,u){var h=s.pendingProps,g=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=y!==null?y.baseLanes|u:u,i!==null){for(g=s.child=i.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;s.childLanes=y&~h}else s.childLanes=0,s.child=null;return rm(i,s,h,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&al(s,y!==null?y.cachePool:null),y!==null?ig(s,y):Bc(),qg(s);else return s.lanes=s.childLanes=536870912,rm(i,s,y!==null?y.baseLanes|u:u,u)}else y!==null?(al(s,y.cachePool),ig(s,y),qi(),s.memoizedState=null):(i!==null&&al(s,null),Bc(),qi());return ze(i,s,g,u),s.child}function rm(i,s,u,h){var g=Mc();return g=g===null?null:{parent:Te._currentValue,pool:g},s.memoizedState={baseLanes:u,cachePool:g},i!==null&&al(s,null),Bc(),qg(s),i!==null&&ba(i,s,h,!0),null}function xl(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function ih(i,s,u,h,g){return xs(s),u=Fc(i,s,u,h,void 0,g),h=Uc(),i!==null&&!De?(Hc(i,s,g),Ei(i,s,g)):(Vt&&h&&wc(s),s.flags|=1,ze(i,s,u,g),s.child)}function am(i,s,u,h,g,y){return xs(s),s.updateQueue=null,u=rg(s,h,u,g),sg(i),h=Uc(),i!==null&&!De?(Hc(i,s,y),Ei(i,s,y)):(Vt&&h&&wc(s),s.flags|=1,ze(i,s,u,y),s.child)}function om(i,s,u,h,g){if(xs(s),s.stateNode===null){var y=rr,x=u.contextType;typeof x=="object"&&x!==null&&(y=Ve(x)),y=new u(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=eh,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},Lc(s),x=u.contextType,y.context=typeof x=="object"&&x!==null?Ve(x):rr,y.state=s.memoizedState,x=u.getDerivedStateFromProps,typeof x=="function"&&(th(s,u,x,h),y.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&eh.enqueueReplaceState(y,y.state,null),Ca(s,h,y,g),Ea(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){y=s.stateNode;var _=s.memoizedProps,L=_s(u,_);y.props=L;var j=y.context,Q=u.contextType;x=rr,typeof Q=="object"&&Q!==null&&(x=Ve(Q));var tt=u.getDerivedStateFromProps;Q=typeof tt=="function"||typeof y.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_||j!==x)&&Yg(s,y,h,x),Ui=!1;var q=s.memoizedState;y.state=q,Ca(s,h,y,g),Ea(),j=s.memoizedState,_||q!==j||Ui?(typeof tt=="function"&&(th(s,u,tt,h),j=s.memoizedState),(L=Ui||Xg(s,u,L,h,q,j,x))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=j),y.props=h,y.state=j,y.context=x,h=L):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,Oc(i,s),x=s.memoizedProps,Q=_s(u,x),y.props=Q,tt=s.pendingProps,q=y.context,j=u.contextType,L=rr,typeof j=="object"&&j!==null&&(L=Ve(j)),_=u.getDerivedStateFromProps,(j=typeof _=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==tt||q!==L)&&Yg(s,y,h,L),Ui=!1,q=s.memoizedState,y.state=q,Ca(s,h,y,g),Ea();var X=s.memoizedState;x!==tt||q!==X||Ui||i!==null&&i.dependencies!==null&&sl(i.dependencies)?(typeof _=="function"&&(th(s,u,_,h),X=s.memoizedState),(Q=Ui||Xg(s,u,Q,h,q,X,L)||i!==null&&i.dependencies!==null&&sl(i.dependencies))?(j||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,X,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,X,L)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&q===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&q===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=X),y.props=h,y.state=X,y.context=L,h=Q):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&q===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&q===i.memoizedState||(s.flags|=1024),h=!1)}return y=h,xl(i,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&h?(s.child=gr(s,i.child,null,g),s.child=gr(s,null,u,g)):ze(i,s,u,g),s.memoizedState=y.state,i=s.child):i=Ei(i,s,g),i}function lm(i,s,u,h){return ma(),s.flags|=256,ze(i,s,u,h),s.child}var sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rh(i){return{baseLanes:i,cachePool:Kp()}}function ah(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=Nn),i}function um(i,s,u){var h=s.pendingProps,g=!1,y=(s.flags&128)!==0,x;if((x=y)||(x=i!==null&&i.memoizedState===null?!1:(Re.current&2)!==0),x&&(g=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,i===null){if(Vt){if(g?Gi(s):qi(),Vt){var _=ge,L;if(L=_){t:{for(L=_,_=$n;L.nodeType!==8;){if(!_){_=null;break t}if(L=Gn(L.nextSibling),L===null){_=null;break t}}_=L}_!==null?(s.memoizedState={dehydrated:_,treeContext:bs!==null?{id:bi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},L=pn(18,null,null,0),L.stateNode=_,L.return=s,s.child=L,Ke=s,ge=null,L=!0):L=!1}L||As(s)}if(_=s.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Vh(_)?s.lanes=32:s.lanes=536870912,null;xi(s)}return _=h.children,h=h.fallback,g?(qi(),g=s.mode,_=El({mode:"hidden",children:_},g),h=ys(h,g,u,null),_.return=s,h.return=s,_.sibling=h,s.child=_,g=s.child,g.memoizedState=rh(u),g.childLanes=ah(i,x,u),s.memoizedState=sh,h):(Gi(s),oh(s,_))}if(L=i.memoizedState,L!==null&&(_=L.dehydrated,_!==null)){if(y)s.flags&256?(Gi(s),s.flags&=-257,s=lh(i,s,u)):s.memoizedState!==null?(qi(),s.child=i.child,s.flags|=128,s=null):(qi(),g=h.fallback,_=s.mode,h=El({mode:"visible",children:h.children},_),g=ys(g,_,u,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,gr(s,i.child,null,u),h=s.child,h.memoizedState=rh(u),h.childLanes=ah(i,x,u),s.memoizedState=sh,s=g);else if(Gi(s),Vh(_)){if(x=_.nextSibling&&_.nextSibling.dataset,x)var j=x.dgst;x=j,h=Error(n(419)),h.stack="",h.digest=x,ya({value:h,source:null,stack:null}),s=lh(i,s,u)}else if(De||ba(i,s,u,!1),x=(u&i.childLanes)!==0,De||x){if(x=ne,x!==null&&(h=u&-u,h=(h&42)!==0?1:Gu(h),h=(h&(x.suspendedLanes|u))!==0?0:h,h!==0&&h!==L.retryLane))throw L.retryLane=h,sr(i,h),vn(x,i,h),tm;_.data==="$?"||_h(),s=lh(i,s,u)}else _.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=L.treeContext,ge=Gn(_.nextSibling),Ke=s,Vt=!0,Ss=null,$n=!1,i!==null&&(Dn[Ln++]=bi,Dn[Ln++]=vi,Dn[Ln++]=bs,bi=i.id,vi=i.overflow,bs=s),s=oh(s,h.children),s.flags|=4096);return s}return g?(qi(),g=h.fallback,_=s.mode,L=i.child,j=L.sibling,h=yi(L,{mode:"hidden",children:h.children}),h.subtreeFlags=L.subtreeFlags&65011712,j!==null?g=yi(j,g):(g=ys(g,_,u,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,_=i.child.memoizedState,_===null?_=rh(u):(L=_.cachePool,L!==null?(j=Te._currentValue,L=L.parent!==j?{parent:j,pool:j}:L):L=Kp(),_={baseLanes:_.baseLanes|u,cachePool:L}),g.memoizedState=_,g.childLanes=ah(i,x,u),s.memoizedState=sh,h):(Gi(s),u=i.child,i=u.sibling,u=yi(u,{mode:"visible",children:h.children}),u.return=s,u.sibling=null,i!==null&&(x=s.deletions,x===null?(s.deletions=[i],s.flags|=16):x.push(i)),s.child=u,s.memoizedState=null,u)}function oh(i,s){return s=El({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function El(i,s){return i=pn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function lh(i,s,u){return gr(s,i.child,null,u),i=oh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function cm(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),_c(i.return,s,u)}function uh(i,s,u,h,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=g)}function hm(i,s,u){var h=s.pendingProps,g=h.revealOrder,y=h.tail;if(ze(i,s,h.children,u),h=Re.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cm(i,u,s);else if(i.tag===19)cm(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(T(Re,h),g){case"forwards":for(u=s.child,g=null;u!==null;)i=u.alternate,i!==null&&Sl(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=s.child,s.child=null):(g=u.sibling,u.sibling=null),uh(s,!1,g,u,y);break;case"backwards":for(u=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Sl(i)===null){s.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}uh(s,!0,u,null,y);break;case"together":uh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ei(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Wi|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(ba(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,u=yi(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=yi(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function ch(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&sl(i)))}function kv(i,s,u){switch(s.tag){case 3:Ct(s,s.stateNode.containerInfo),Fi(s,Te,i.memoizedState.cache),ma();break;case 27:case 5:It(s);break;case 4:Ct(s,s.stateNode.containerInfo);break;case 10:Fi(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Gi(s),s.flags|=128,null):(u&s.child.childLanes)!==0?um(i,s,u):(Gi(s),i=Ei(i,s,u),i!==null?i.sibling:null);Gi(s);break;case 19:var g=(i.flags&128)!==0;if(h=(u&s.childLanes)!==0,h||(ba(i,s,u,!1),h=(u&s.childLanes)!==0),g){if(h)return hm(i,s,u);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),T(Re,Re.current),h)break;return null;case 22:case 23:return s.lanes=0,sm(i,s,u);case 24:Fi(s,Te,i.memoizedState.cache)}return Ei(i,s,u)}function dm(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)De=!0;else{if(!ch(i,u)&&(s.flags&128)===0)return De=!1,kv(i,s,u);De=(i.flags&131072)!==0}else De=!1,Vt&&(s.flags&1048576)!==0&&jp(s,il,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var h=s.elementType,g=h._init;if(h=g(h._payload),s.type=h,typeof h=="function")vc(h)?(i=_s(h,i),s.tag=1,s=om(null,s,h,i,u)):(s.tag=0,s=ih(null,s,h,i,u));else{if(h!=null){if(g=h.$$typeof,g===O){s.tag=11,s=em(null,s,h,i,u);break t}else if(g===z){s.tag=14,s=nm(null,s,h,i,u);break t}}throw s=J(h)||h,Error(n(306,s,""))}}return s;case 0:return ih(i,s,s.type,s.pendingProps,u);case 1:return h=s.type,g=_s(h,s.pendingProps),om(i,s,h,g,u);case 3:t:{if(Ct(s,s.stateNode.containerInfo),i===null)throw Error(n(387));h=s.pendingProps;var y=s.memoizedState;g=y.element,Oc(i,s),Ca(s,h,null,u);var x=s.memoizedState;if(h=x.cache,Fi(s,Te,h),h!==y.cache&&Tc(s,[Te],u,!0),Ea(),h=x.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=lm(i,s,h,u);break t}else if(h!==g){g=kn(Error(n(424)),s),ya(g),s=lm(i,s,h,u);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ge=Gn(i.firstChild),Ke=s,Vt=!0,Ss=null,$n=!0,u=Gg(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ma(),h===g){s=Ei(i,s,u);break t}ze(i,s,h,u)}s=s.child}return s;case 26:return xl(i,s),i===null?(u=m0(s.type,null,s.pendingProps,null))?s.memoizedState=u:Vt||(u=s.type,i=s.pendingProps,h=Il(ut.current).createElement(u),h[je]=s,h[Je]=i,Fe(h,u,i),Me(h),s.stateNode=h):s.memoizedState=m0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return It(s),i===null&&Vt&&(h=s.stateNode=f0(s.type,s.pendingProps,ut.current),Ke=s,$n=!0,g=ge,ts(s.type)?(Gh=g,ge=Gn(h.firstChild)):ge=g),ze(i,s,s.pendingProps.children,u),xl(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Vt&&((g=h=ge)&&(h=iS(h,s.type,s.pendingProps,$n),h!==null?(s.stateNode=h,Ke=s,ge=Gn(h.firstChild),$n=!1,g=!0):g=!1),g||As(s)),It(s),g=s.type,y=s.pendingProps,x=i!==null?i.memoizedProps:null,h=y.children,Uh(g,y)?h=null:x!==null&&Uh(g,x)&&(s.flags|=32),s.memoizedState!==null&&(g=Fc(i,s,Av,null,null,u),Ya._currentValue=g),xl(i,s),ze(i,s,h,u),s.child;case 6:return i===null&&Vt&&((i=u=ge)&&(u=sS(u,s.pendingProps,$n),u!==null?(s.stateNode=u,Ke=s,ge=null,i=!0):i=!1),i||As(s)),null;case 13:return um(i,s,u);case 4:return Ct(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=gr(s,null,h,u):ze(i,s,h,u),s.child;case 11:return em(i,s,s.type,s.pendingProps,u);case 7:return ze(i,s,s.pendingProps,u),s.child;case 8:return ze(i,s,s.pendingProps.children,u),s.child;case 12:return ze(i,s,s.pendingProps.children,u),s.child;case 10:return h=s.pendingProps,Fi(s,s.type,h.value),ze(i,s,h.children,u),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,xs(s),g=Ve(g),h=h(g),s.flags|=1,ze(i,s,h,u),s.child;case 14:return nm(i,s,s.type,s.pendingProps,u);case 15:return im(i,s,s.type,s.pendingProps,u);case 19:return hm(i,s,u);case 31:return h=s.pendingProps,u=s.mode,h={mode:h.mode,children:h.children},i===null?(u=El(h,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=yi(i.child,h),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return sm(i,s,u);case 24:return xs(s),h=Ve(Te),i===null?(g=Mc(),g===null&&(g=ne,y=Rc(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=u),g=y),s.memoizedState={parent:h,cache:g},Lc(s),Fi(s,Te,g)):((i.lanes&u)!==0&&(Oc(i,s),Ca(s,null,null,u),Ea()),g=i.memoizedState,y=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Fi(s,Te,h)):(h=y.cache,Fi(s,Te,h),h!==g.cache&&Tc(s,[Te],u,!0))),ze(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Ci(i){i.flags|=4}function fm(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!A0(s)){if(s=On.current,s!==null&&((Ft&4194048)===Ft?Kn!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||s!==Kn))throw wa=Dc,Wp;i.flags|=8192}}function Cl(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?qf():536870912,i.lanes|=s,vr|=s)}function La(i,s){if(!Vt)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function ce(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function Mv(i,s,u){var h=s.pendingProps;switch(xc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(s),null;case 1:return ce(s),null;case 3:return u=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Ai(Te),jt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ga(s)?Ci(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qp())),ce(s),null;case 26:return u=s.memoizedState,i===null?(Ci(s),u!==null?(ce(s),fm(s,u)):(ce(s),s.flags&=-16777217)):u?u!==i.memoizedState?(Ci(s),ce(s),fm(s,u)):(ce(s),s.flags&=-16777217):(i.memoizedProps!==h&&Ci(s),ce(s),s.flags&=-16777217),null;case 27:_e(s),u=ut.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Ci(s);else{if(!h){if(s.stateNode===null)throw Error(n(166));return ce(s),null}i=lt.current,ga(s)?Vp(s):(i=f0(g,h,u),s.stateNode=i,Ci(s))}return ce(s),null;case 5:if(_e(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Ci(s);else{if(!h){if(s.stateNode===null)throw Error(n(166));return ce(s),null}if(i=lt.current,ga(s))Vp(s);else{switch(g=Il(ut.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(u,{is:h.is}):g.createElement(u)}}i[je]=s,i[Je]=h;t:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break t;for(;g.sibling===null;){if(g.return===null||g.return===s)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;t:switch(Fe(i,u,h),u){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Ci(s)}}return ce(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Ci(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(i=ut.current,ga(s)){if(i=s.stateNode,u=s.memoizedProps,h=null,g=Ke,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[je]=s,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||a0(i.nodeValue,u)),i||As(s)}else i=Il(i).createTextNode(h),i[je]=s,s.stateNode=i}return ce(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=ga(s),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[je]=s}else ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ce(s),g=!1}else g=qp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(xi(s),s):(xi(s),null)}if(xi(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=h!==null,i=i!==null&&i.memoizedState!==null,u){h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),Cl(s,s.updateQueue),ce(s),null;case 4:return jt(),i===null&&Ph(s.stateNode.containerInfo),ce(s),null;case 10:return Ai(s.type),ce(s),null;case 19:if(st(Re),g=s.memoizedState,g===null)return ce(s),null;if(h=(s.flags&128)!==0,y=g.rendering,y===null)if(h)La(g,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Sl(i),y!==null){for(s.flags|=128,La(g,!1),i=y.updateQueue,s.updateQueue=i,Cl(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)Hp(u,i),u=u.sibling;return T(Re,Re.current&1|2),s.child}i=i.sibling}g.tail!==null&&Ae()>Rl&&(s.flags|=128,h=!0,La(g,!1),s.lanes=4194304)}else{if(!h)if(i=Sl(y),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,Cl(s,i),La(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Vt)return ce(s),null}else 2*Ae()-g.renderingStartTime>Rl&&u!==536870912&&(s.flags|=128,h=!0,La(g,!1),s.lanes=4194304);g.isBackwards?(y.sibling=s.child,s.child=y):(i=g.last,i!==null?i.sibling=y:s.child=y,g.last=y)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ae(),s.sibling=null,i=Re.current,T(Re,h?i&1|2:i&1),s):(ce(s),null);case 22:case 23:return xi(s),zc(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(u&536870912)!==0&&(s.flags&128)===0&&(ce(s),s.subtreeFlags&6&&(s.flags|=8192)):ce(s),u=s.updateQueue,u!==null&&Cl(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048),i!==null&&st(Es),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ai(Te),ce(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function Dv(i,s){switch(xc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ai(Te),jt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return _e(s),null;case 13:if(xi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ma()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return st(Re),null;case 4:return jt(),null;case 10:return Ai(s.type),null;case 22:case 23:return xi(s),zc(),i!==null&&st(Es),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ai(Te),null;case 25:return null;default:return null}}function pm(i,s){switch(xc(s),s.tag){case 3:Ai(Te),jt();break;case 26:case 27:case 5:_e(s);break;case 4:jt();break;case 13:xi(s);break;case 19:st(Re);break;case 10:Ai(s.type);break;case 22:case 23:xi(s),zc(),i!==null&&st(Es);break;case 24:Ai(Te)}}function Oa(i,s){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&i)===i){h=void 0;var y=u.create,x=u.inst;h=y(),x.destroy=h}u=u.next}while(u!==g)}}catch(_){Jt(s,s.return,_)}}function Xi(i,s,u){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&i)===i){var x=h.inst,_=x.destroy;if(_!==void 0){x.destroy=void 0,g=s;var L=u,j=_;try{j()}catch(Q){Jt(g,L,Q)}}}h=h.next}while(h!==y)}}catch(Q){Jt(s,s.return,Q)}}function gm(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{ng(s,u)}catch(h){Jt(i,i.return,h)}}}function mm(i,s,u){u.props=_s(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){Jt(i,s,h)}}function Na(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(g){Jt(i,s,g)}}function Wn(i,s){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(g){Jt(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){Jt(i,s,g)}else u.current=null}function ym(i){var s=i.type,u=i.memoizedProps,h=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break t;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(g){Jt(i,i.return,g)}}function hh(i,s,u){try{var h=i.stateNode;Zv(h,i.type,u,s),h[Je]=s}catch(g){Jt(i,i.return,g)}}function bm(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ts(i.type)||i.tag===4}function dh(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||bm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ts(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fh(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=zl));else if(h!==4&&(h===27&&ts(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(fh(i,s,u),i=i.sibling;i!==null;)fh(i,s,u),i=i.sibling}function _l(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(h!==4&&(h===27&&ts(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(_l(i,s,u),i=i.sibling;i!==null;)_l(i,s,u),i=i.sibling}function vm(i){var s=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Fe(s,h,u),s[je]=i,s[Je]=u}catch(y){Jt(i,i.return,y)}}var _i=!1,be=!1,ph=!1,Sm=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Lv(i,s){if(i=i.containerInfo,Ih=Gl,i=Dp(i),dc(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else t:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break t}var x=0,_=-1,L=-1,j=0,Q=0,tt=i,q=null;e:for(;;){for(var X;tt!==u||g!==0&&tt.nodeType!==3||(_=x+g),tt!==y||h!==0&&tt.nodeType!==3||(L=x+h),tt.nodeType===3&&(x+=tt.nodeValue.length),(X=tt.firstChild)!==null;)q=tt,tt=X;for(;;){if(tt===i)break e;if(q===u&&++j===g&&(_=x),q===y&&++Q===h&&(L=x),(X=tt.nextSibling)!==null)break;tt=q,q=tt.parentNode}tt=X}u=_===-1||L===-1?null:{start:_,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(Fh={focusedElem:i,selectionRange:u},Gl=!1,Le=s;Le!==null;)if(s=Le,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Le=i;else for(;Le!==null;){switch(s=Le,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=s,g=y.memoizedProps,y=y.memoizedState,h=u.stateNode;try{var wt=_s(u.type,g,u.elementType===u.type);i=h.getSnapshotBeforeUpdate(wt,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Jt(u,u.return,vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)jh(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Le=i;break}Le=s.return}}function Am(i,s,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Yi(i,u),h&4&&Oa(5,u);break;case 1:if(Yi(i,u),h&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(x){Jt(u,u.return,x)}else{var g=_s(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(x){Jt(u,u.return,x)}}h&64&&gm(u),h&512&&Na(u,u.return);break;case 3:if(Yi(i,u),h&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{ng(i,s)}catch(x){Jt(u,u.return,x)}}break;case 27:s===null&&h&4&&vm(u);case 26:case 5:Yi(i,u),s===null&&h&4&&ym(u),h&512&&Na(u,u.return);break;case 12:Yi(i,u);break;case 13:Yi(i,u),h&4&&Em(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=Hv.bind(null,u),rS(i,u))));break;case 22:if(h=u.memoizedState!==null||_i,!h){s=s!==null&&s.memoizedState!==null||be,g=_i;var y=be;_i=h,(be=s)&&!y?$i(i,u,(u.subtreeFlags&8772)!==0):Yi(i,u),_i=g,be=y}break;case 30:break;default:Yi(i,u)}}function wm(i){var s=i.alternate;s!==null&&(i.alternate=null,wm(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Yu(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ae=null,nn=!1;function Ti(i,s,u){for(u=u.child;u!==null;)xm(i,s,u),u=u.sibling}function xm(i,s,u){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(W,u)}catch{}switch(u.tag){case 26:be||Wn(u,s),Ti(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:be||Wn(u,s);var h=ae,g=nn;ts(u.type)&&(ae=u.stateNode,nn=!1),Ti(i,s,u),Va(u.stateNode),ae=h,nn=g;break;case 5:be||Wn(u,s);case 6:if(h=ae,g=nn,ae=null,Ti(i,s,u),ae=h,nn=g,ae!==null)if(nn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(u.stateNode)}catch(y){Jt(u,s,y)}else try{ae.removeChild(u.stateNode)}catch(y){Jt(u,s,y)}break;case 18:ae!==null&&(nn?(i=ae,h0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Qa(i)):h0(ae,u.stateNode));break;case 4:h=ae,g=nn,ae=u.stateNode.containerInfo,nn=!0,Ti(i,s,u),ae=h,nn=g;break;case 0:case 11:case 14:case 15:be||Xi(2,u,s),be||Xi(4,u,s),Ti(i,s,u);break;case 1:be||(Wn(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"&&mm(u,s,h)),Ti(i,s,u);break;case 21:Ti(i,s,u);break;case 22:be=(h=be)||u.memoizedState!==null,Ti(i,s,u),be=h;break;default:Ti(i,s,u)}}function Em(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Qa(i)}catch(u){Jt(s,s.return,u)}}function Ov(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Sm),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Sm),s;default:throw Error(n(435,i.tag))}}function gh(i,s){var u=Ov(i);s.forEach(function(h){var g=jv.bind(null,i,h);u.has(h)||(u.add(h),h.then(g,g))})}function gn(i,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h],y=i,x=s,_=x;t:for(;_!==null;){switch(_.tag){case 27:if(ts(_.type)){ae=_.stateNode,nn=!1;break t}break;case 5:ae=_.stateNode,nn=!1;break t;case 3:case 4:ae=_.stateNode.containerInfo,nn=!0;break t}_=_.return}if(ae===null)throw Error(n(160));xm(y,x,g),ae=null,nn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Cm(s,i),s=s.sibling}var Vn=null;function Cm(i,s){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:gn(s,i),mn(i),h&4&&(Xi(3,i,i.return),Oa(3,i),Xi(5,i,i.return));break;case 1:gn(s,i),mn(i),h&512&&(be||u===null||Wn(u,u.return)),h&64&&_i&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var g=Vn;if(gn(s,i),mn(i),h&512&&(be||u===null||Wn(u,u.return)),h&4){var y=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){t:{h=i.type,u=i.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[sa]||y[je]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Fe(y,h,u),y[je]=i,Me(y),h=y;break t;case"link":var x=v0("link","href",g).get(h+(u.href||""));if(x){for(var _=0;_<x.length;_++)if(y=x[_],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){x.splice(_,1);break e}}y=g.createElement(h),Fe(y,h,u),g.head.appendChild(y);break;case"meta":if(x=v0("meta","content",g).get(h+(u.content||""))){for(_=0;_<x.length;_++)if(y=x[_],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){x.splice(_,1);break e}}y=g.createElement(h),Fe(y,h,u),g.head.appendChild(y);break;default:throw Error(n(468,h))}y[je]=i,Me(y),h=y}i.stateNode=h}else S0(g,i.type,i.stateNode);else i.stateNode=b0(g,h,i.memoizedProps);else y!==h?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,h===null?S0(g,i.type,i.stateNode):b0(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&hh(i,i.memoizedProps,u.memoizedProps)}break;case 27:gn(s,i),mn(i),h&512&&(be||u===null||Wn(u,u.return)),u!==null&&h&4&&hh(i,i.memoizedProps,u.memoizedProps);break;case 5:if(gn(s,i),mn(i),h&512&&(be||u===null||Wn(u,u.return)),i.flags&32){g=i.stateNode;try{Qs(g,"")}catch(X){Jt(i,i.return,X)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,hh(i,g,u!==null?u.memoizedProps:g)),h&1024&&(ph=!0);break;case 6:if(gn(s,i),mn(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(X){Jt(i,i.return,X)}}break;case 3:if(Hl=null,g=Vn,Vn=Fl(s.containerInfo),gn(s,i),Vn=g,mn(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Qa(s.containerInfo)}catch(X){Jt(i,i.return,X)}ph&&(ph=!1,_m(i));break;case 4:h=Vn,Vn=Fl(i.stateNode.containerInfo),gn(s,i),mn(i),Vn=h;break;case 12:gn(s,i),mn(i);break;case 13:gn(s,i),mn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ah=Ae()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,gh(i,h)));break;case 22:g=i.memoizedState!==null;var L=u!==null&&u.memoizedState!==null,j=_i,Q=be;if(_i=j||g,be=Q||L,gn(s,i),be=Q,_i=j,mn(i),h&8192)t:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(u===null||L||_i||be||Ts(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){L=u=s;try{if(y=L.stateNode,g)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{_=L.stateNode;var tt=L.memoizedProps.style,q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;_.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(X){Jt(L,L.return,X)}}}else if(s.tag===6){if(u===null){L=s;try{L.stateNode.nodeValue=g?"":L.memoizedProps}catch(X){Jt(L,L.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,gh(i,u))));break;case 19:gn(s,i),mn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,gh(i,h)));break;case 30:break;case 21:break;default:gn(s,i),mn(i)}}function mn(i){var s=i.flags;if(s&2){try{for(var u,h=i.return;h!==null;){if(bm(h)){u=h;break}h=h.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var g=u.stateNode,y=dh(i);_l(i,y,g);break;case 5:var x=u.stateNode;u.flags&32&&(Qs(x,""),u.flags&=-33);var _=dh(i);_l(i,_,x);break;case 3:case 4:var L=u.stateNode.containerInfo,j=dh(i);fh(i,j,L);break;default:throw Error(n(161))}}catch(Q){Jt(i,i.return,Q)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function _m(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;_m(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Yi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Am(i,s.alternate,s),s=s.sibling}function Ts(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Xi(4,s,s.return),Ts(s);break;case 1:Wn(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&mm(s,s.return,u),Ts(s);break;case 27:Va(s.stateNode);case 26:case 5:Wn(s,s.return),Ts(s);break;case 22:s.memoizedState===null&&Ts(s);break;case 30:Ts(s);break;default:Ts(s)}i=i.sibling}}function $i(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=i,y=s,x=y.flags;switch(y.tag){case 0:case 11:case 15:$i(g,y,u),Oa(4,y);break;case 1:if($i(g,y,u),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(j){Jt(h,h.return,j)}if(h=y,g=h.updateQueue,g!==null){var _=h.stateNode;try{var L=g.shared.hiddenCallbacks;if(L!==null)for(g.shared.hiddenCallbacks=null,g=0;g<L.length;g++)eg(L[g],_)}catch(j){Jt(h,h.return,j)}}u&&x&64&&gm(y),Na(y,y.return);break;case 27:vm(y);case 26:case 5:$i(g,y,u),u&&h===null&&x&4&&ym(y),Na(y,y.return);break;case 12:$i(g,y,u);break;case 13:$i(g,y,u),u&&x&4&&Em(g,y);break;case 22:y.memoizedState===null&&$i(g,y,u),Na(y,y.return);break;case 30:break;default:$i(g,y,u)}s=s.sibling}}function mh(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&va(u))}function yh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&va(i))}function Qn(i,s,u,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Tm(i,s,u,h),s=s.sibling}function Tm(i,s,u,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Qn(i,s,u,h),g&2048&&Oa(9,s);break;case 1:Qn(i,s,u,h);break;case 3:Qn(i,s,u,h),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&va(i)));break;case 12:if(g&2048){Qn(i,s,u,h),i=s.stateNode;try{var y=s.memoizedProps,x=y.id,_=y.onPostCommit;typeof _=="function"&&_(x,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){Jt(s,s.return,L)}}else Qn(i,s,u,h);break;case 13:Qn(i,s,u,h);break;case 23:break;case 22:y=s.stateNode,x=s.alternate,s.memoizedState!==null?y._visibility&2?Qn(i,s,u,h):Pa(i,s):y._visibility&2?Qn(i,s,u,h):(y._visibility|=2,mr(i,s,u,h,(s.subtreeFlags&10256)!==0)),g&2048&&mh(x,s);break;case 24:Qn(i,s,u,h),g&2048&&yh(s.alternate,s);break;default:Qn(i,s,u,h)}}function mr(i,s,u,h,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,x=s,_=u,L=h,j=x.flags;switch(x.tag){case 0:case 11:case 15:mr(y,x,_,L,g),Oa(8,x);break;case 23:break;case 22:var Q=x.stateNode;x.memoizedState!==null?Q._visibility&2?mr(y,x,_,L,g):Pa(y,x):(Q._visibility|=2,mr(y,x,_,L,g)),g&&j&2048&&mh(x.alternate,x);break;case 24:mr(y,x,_,L,g),g&&j&2048&&yh(x.alternate,x);break;default:mr(y,x,_,L,g)}s=s.sibling}}function Pa(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,h=s,g=h.flags;switch(h.tag){case 22:Pa(u,h),g&2048&&mh(h.alternate,h);break;case 24:Pa(u,h),g&2048&&yh(h.alternate,h);break;default:Pa(u,h)}s=s.sibling}}var Ba=8192;function yr(i){if(i.subtreeFlags&Ba)for(i=i.child;i!==null;)Rm(i),i=i.sibling}function Rm(i){switch(i.tag){case 26:yr(i),i.flags&Ba&&i.memoizedState!==null&&bS(Vn,i.memoizedState,i.memoizedProps);break;case 5:yr(i);break;case 3:case 4:var s=Vn;Vn=Fl(i.stateNode.containerInfo),yr(i),Vn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Ba,Ba=16777216,yr(i),Ba=s):yr(i));break;default:yr(i)}}function km(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function za(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Le=h,Dm(h,i)}km(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Mm(i),i=i.sibling}function Mm(i){switch(i.tag){case 0:case 11:case 15:za(i),i.flags&2048&&Xi(9,i,i.return);break;case 3:za(i);break;case 12:za(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Tl(i)):za(i);break;default:za(i)}}function Tl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Le=h,Dm(h,i)}km(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Xi(8,s,s.return),Tl(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Tl(s));break;default:Tl(s)}i=i.sibling}}function Dm(i,s){for(;Le!==null;){var u=Le;switch(u.tag){case 0:case 11:case 15:Xi(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:va(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Le=h;else t:for(u=i;Le!==null;){h=Le;var g=h.sibling,y=h.return;if(wm(h),h===u){Le=null;break t}if(g!==null){g.return=y,Le=g;break t}Le=y}}}var Nv={getCacheForType:function(i){var s=Ve(Te),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},Pv=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ne=null,Nt=null,Ft=0,Yt=0,yn=null,Ki=!1,br=!1,bh=!1,Ri=0,me=0,Wi=0,Rs=0,vh=0,Nn=0,vr=0,Ia=null,sn=null,Sh=!1,Ah=0,Rl=1/0,kl=null,Qi=null,Ie=0,Zi=null,Sr=null,Ar=0,wh=0,xh=null,Lm=null,Fa=0,Eh=null;function bn(){if((Xt&2)!==0&&Ft!==0)return Ft&-Ft;if(P.T!==null){var i=lr;return i!==0?i:Dh()}return $f()}function Om(){Nn===0&&(Nn=(Ft&536870912)===0||Vt?Gf():536870912);var i=On.current;return i!==null&&(i.flags|=32),Nn}function vn(i,s,u){(i===ne&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)&&(wr(i,0),Ji(i,Ft,Nn,!1)),ia(i,u),((Xt&2)===0||i!==ne)&&(i===ne&&((Xt&2)===0&&(Rs|=u),me===4&&Ji(i,Ft,Nn,!1)),Zn(i))}function Nm(i,s,u){if((Xt&6)!==0)throw Error(n(327));var h=!u&&(s&124)===0&&(s&i.expiredLanes)===0||_n(i,s),g=h?Iv(i,s):Th(i,s,!0),y=h;do{if(g===0){br&&!h&&Ji(i,s,0,!1);break}else{if(u=i.current.alternate,y&&!Bv(u)){g=Th(i,s,!1),y=!1;continue}if(g===2){if(y=s,i.errorRecoveryDisabledLanes&y)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;t:{var _=i;g=Ia;var L=_.current.memoizedState.isDehydrated;if(L&&(wr(_,x).flags|=256),x=Th(_,x,!1),x!==2){if(bh&&!L){_.errorRecoveryDisabledLanes|=y,Rs|=y,g=4;break t}y=sn,sn=g,y!==null&&(sn===null?sn=y:sn.push.apply(sn,y))}g=x}if(y=!1,g!==2)continue}}if(g===1){wr(i,0),Ji(i,s,0,!0);break}t:{switch(h=i,y=g,y){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Ji(h,s,Nn,!Ki);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(g=Ah+300-Ae(),10<g)){if(Ji(h,s,Nn,!Ki),ke(h,0,!0)!==0)break t;h.timeoutHandle=u0(Pm.bind(null,h,u,sn,kl,Sh,s,Nn,Rs,vr,Ki,y,2,-0,0),g);break t}Pm(h,u,sn,kl,Sh,s,Nn,Rs,vr,Ki,y,0,-0,0)}}break}while(!0);Zn(i)}function Pm(i,s,u,h,g,y,x,_,L,j,Q,tt,q,X){if(i.timeoutHandle=-1,tt=s.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Xa={stylesheets:null,count:0,unsuspend:yS},Rm(s),tt=vS(),tt!==null)){i.cancelPendingCommit=tt(jm.bind(null,i,s,y,u,h,g,x,_,L,Q,1,q,X)),Ji(i,y,x,!j);return}jm(i,s,y,u,h,g,x,_,L)}function Bv(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var g=u[h],y=g.getSnapshot;g=g.value;try{if(!fn(y(),g))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ji(i,s,u,h){s&=~vh,s&=~Rs,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var g=s;0<g;){var y=31-gt(g),x=1<<y;h[y]=-1,g&=~x}u!==0&&Xf(i,u,s)}function Ml(){return(Xt&6)===0?(Ua(0),!1):!0}function Ch(){if(Nt!==null){if(Yt===0)var i=Nt.return;else i=Nt,Si=ws=null,jc(i),pr=null,Ma=0,i=Nt;for(;i!==null;)pm(i.alternate,i),i=i.return;Nt=null}}function wr(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,tS(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ch(),ne=i,Nt=u=yi(i.current,null),Ft=s,Yt=0,yn=null,Ki=!1,br=_n(i,s),bh=!1,vr=Nn=vh=Rs=Wi=me=0,sn=Ia=null,Sh=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var g=31-gt(h),y=1<<g;s|=i[g],h&=~y}return Ri=s,Zo(),u}function Bm(i,s){Dt=null,P.H=yl,s===Aa||s===ol?(s=Jp(),Yt=3):s===Wp?(s=Jp(),Yt=4):Yt=s===tm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,yn=s,Nt===null&&(me=1,wl(i,kn(s,i.current)))}function zm(){var i=P.H;return P.H=yl,i===null?yl:i}function Im(){var i=P.A;return P.A=Nv,i}function _h(){me=4,Ki||(Ft&4194048)!==Ft&&On.current!==null||(br=!0),(Wi&134217727)===0&&(Rs&134217727)===0||ne===null||Ji(ne,Ft,Nn,!1)}function Th(i,s,u){var h=Xt;Xt|=2;var g=zm(),y=Im();(ne!==i||Ft!==s)&&(kl=null,wr(i,s)),s=!1;var x=me;t:do try{if(Yt!==0&&Nt!==null){var _=Nt,L=yn;switch(Yt){case 8:Ch(),x=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(s=!0);var j=Yt;if(Yt=0,yn=null,xr(i,_,L,j),u&&br){x=0;break t}break;default:j=Yt,Yt=0,yn=null,xr(i,_,L,j)}}zv(),x=me;break}catch(Q){Bm(i,Q)}while(!0);return s&&i.shellSuspendCounter++,Si=ws=null,Xt=h,P.H=g,P.A=y,Nt===null&&(ne=null,Ft=0,Zo()),x}function zv(){for(;Nt!==null;)Fm(Nt)}function Iv(i,s){var u=Xt;Xt|=2;var h=zm(),g=Im();ne!==i||Ft!==s?(kl=null,Rl=Ae()+500,wr(i,s)):br=_n(i,s);t:do try{if(Yt!==0&&Nt!==null){s=Nt;var y=yn;e:switch(Yt){case 1:Yt=0,yn=null,xr(i,s,y,1);break;case 2:case 9:if(Qp(y)){Yt=0,yn=null,Um(s);break}s=function(){Yt!==2&&Yt!==9||ne!==i||(Yt=7),Zn(i)},y.then(s,s);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Qp(y)?(Yt=0,yn=null,Um(s)):(Yt=0,yn=null,xr(i,s,y,7));break;case 5:var x=null;switch(Nt.tag){case 26:x=Nt.memoizedState;case 5:case 27:var _=Nt;if(!x||A0(x)){Yt=0,yn=null;var L=_.sibling;if(L!==null)Nt=L;else{var j=_.return;j!==null?(Nt=j,Dl(j)):Nt=null}break e}}Yt=0,yn=null,xr(i,s,y,5);break;case 6:Yt=0,yn=null,xr(i,s,y,6);break;case 8:Ch(),me=6;break t;default:throw Error(n(462))}}Fv();break}catch(Q){Bm(i,Q)}while(!0);return Si=ws=null,P.H=h,P.A=g,Xt=u,Nt!==null?0:(ne=null,Ft=0,Zo(),me)}function Fv(){for(;Nt!==null&&!re();)Fm(Nt)}function Fm(i){var s=dm(i.alternate,i,Ri);i.memoizedProps=i.pendingProps,s===null?Dl(i):Nt=s}function Um(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=am(u,s,s.pendingProps,s.type,void 0,Ft);break;case 11:s=am(u,s,s.pendingProps,s.type.render,s.ref,Ft);break;case 5:jc(s);default:pm(u,s),s=Nt=Hp(s,Ri),s=dm(u,s,Ri)}i.memoizedProps=i.pendingProps,s===null?Dl(i):Nt=s}function xr(i,s,u,h){Si=ws=null,jc(s),pr=null,Ma=0;var g=s.return;try{if(Rv(i,g,s,u,Ft)){me=1,wl(i,kn(u,i.current)),Nt=null;return}}catch(y){if(g!==null)throw Nt=g,y;me=1,wl(i,kn(u,i.current)),Nt=null;return}s.flags&32768?(Vt||h===1?i=!0:br||(Ft&536870912)!==0?i=!1:(Ki=i=!0,(h===2||h===9||h===3||h===6)&&(h=On.current,h!==null&&h.tag===13&&(h.flags|=16384))),Hm(s,i)):Dl(s)}function Dl(i){var s=i;do{if((s.flags&32768)!==0){Hm(s,Ki);return}i=s.return;var u=Mv(s.alternate,s,Ri);if(u!==null){Nt=u;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=i}while(s!==null);me===0&&(me=5)}function Hm(i,s){do{var u=Dv(i.alternate,i);if(u!==null){u.flags&=32767,Nt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=u}while(i!==null);me=6,Nt=null}function jm(i,s,u,h,g,y,x,_,L){i.cancelPendingCommit=null;do Ll();while(Ie!==0);if((Xt&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(y=s.lanes|s.childLanes,y|=yc,y2(i,u,y,x,_,L),i===ne&&(Nt=ne=null,Ft=0),Sr=s,Zi=i,Ar=u,wh=y,xh=g,Lm=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Vv(Un,function(){return Ym(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=P.T,P.T=null,g=G.p,G.p=2,x=Xt,Xt|=4;try{Lv(i,s,u)}finally{Xt=x,G.p=g,P.T=h}}Ie=1,Vm(),Gm(),qm()}}function Vm(){if(Ie===1){Ie=0;var i=Zi,s=Sr,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=P.T,P.T=null;var h=G.p;G.p=2;var g=Xt;Xt|=4;try{Cm(s,i);var y=Fh,x=Dp(i.containerInfo),_=y.focusedElem,L=y.selectionRange;if(x!==_&&_&&_.ownerDocument&&Mp(_.ownerDocument.documentElement,_)){if(L!==null&&dc(_)){var j=L.start,Q=L.end;if(Q===void 0&&(Q=j),"selectionStart"in _)_.selectionStart=j,_.selectionEnd=Math.min(Q,_.value.length);else{var tt=_.ownerDocument||document,q=tt&&tt.defaultView||window;if(q.getSelection){var X=q.getSelection(),wt=_.textContent.length,vt=Math.min(L.start,wt),Wt=L.end===void 0?vt:Math.min(L.end,wt);!X.extend&&vt>Wt&&(x=Wt,Wt=vt,vt=x);var F=kp(_,vt),B=kp(_,Wt);if(F&&B&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var U=tt.createRange();U.setStart(F.node,F.offset),X.removeAllRanges(),vt>Wt?(X.addRange(U),X.extend(B.node,B.offset)):(U.setEnd(B.node,B.offset),X.addRange(U))}}}}for(tt=[],X=_;X=X.parentNode;)X.nodeType===1&&tt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<tt.length;_++){var Z=tt[_];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Gl=!!Ih,Fh=Ih=null}finally{Xt=g,G.p=h,P.T=u}}i.current=s,Ie=2}}function Gm(){if(Ie===2){Ie=0;var i=Zi,s=Sr,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=P.T,P.T=null;var h=G.p;G.p=2;var g=Xt;Xt|=4;try{Am(i,s.alternate,s)}finally{Xt=g,G.p=h,P.T=u}}Ie=3}}function qm(){if(Ie===4||Ie===3){Ie=0,ue();var i=Zi,s=Sr,u=Ar,h=Lm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ie=5:(Ie=0,Sr=Zi=null,Xm(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Qi=null),qu(u),s=s.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(W,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=P.T,g=G.p,G.p=2,P.T=null;try{for(var y=i.onRecoverableError,x=0;x<h.length;x++){var _=h[x];y(_.value,{componentStack:_.stack})}}finally{P.T=s,G.p=g}}(Ar&3)!==0&&Ll(),Zn(i),g=i.pendingLanes,(u&4194090)!==0&&(g&42)!==0?i===Eh?Fa++:(Fa=0,Eh=i):Fa=0,Ua(0)}}function Xm(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,va(s)))}function Ll(i){return Vm(),Gm(),qm(),Ym()}function Ym(){if(Ie!==5)return!1;var i=Zi,s=wh;wh=0;var u=qu(Ar),h=P.T,g=G.p;try{G.p=32>u?32:u,P.T=null,u=xh,xh=null;var y=Zi,x=Ar;if(Ie=0,Sr=Zi=null,Ar=0,(Xt&6)!==0)throw Error(n(331));var _=Xt;if(Xt|=4,Mm(y.current),Tm(y,y.current,x,u),Xt=_,Ua(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(W,y)}catch{}return!0}finally{G.p=g,P.T=h,Xm(i,s)}}function $m(i,s,u){s=kn(u,s),s=nh(i.stateNode,s,2),i=ji(i,s,2),i!==null&&(ia(i,2),Zn(i))}function Jt(i,s,u){if(i.tag===3)$m(i,i,u);else for(;s!==null;){if(s.tag===3){$m(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Qi===null||!Qi.has(h))){i=kn(u,i),u=Zg(2),h=ji(s,u,2),h!==null&&(Jg(u,h,s,i),ia(h,2),Zn(h));break}}s=s.return}}function Rh(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new Pv;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(u)||(bh=!0,g.add(u),i=Uv.bind(null,i,s,u),s.then(i,i))}function Uv(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,ne===i&&(Ft&u)===u&&(me===4||me===3&&(Ft&62914560)===Ft&&300>Ae()-Ah?(Xt&2)===0&&wr(i,0):vh|=u,vr===Ft&&(vr=0)),Zn(i)}function Km(i,s){s===0&&(s=qf()),i=sr(i,s),i!==null&&(ia(i,s),Zn(i))}function Hv(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),Km(i,u)}function jv(i,s){var u=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(s),Km(i,u)}function Vv(i,s){return Ot(i,s)}var Ol=null,Er=null,kh=!1,Nl=!1,Mh=!1,ks=0;function Zn(i){i!==Er&&i.next===null&&(Er===null?Ol=Er=i:Er=Er.next=i),Nl=!0,kh||(kh=!0,qv())}function Ua(i,s){if(!Mh&&Nl){Mh=!0;do for(var u=!1,h=Ol;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var x=h.suspendedLanes,_=h.pingedLanes;y=(1<<31-gt(42|i)+1)-1,y&=g&~(x&~_),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,Jm(h,y))}else y=Ft,y=ke(h,h===ne?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||_n(h,y)||(u=!0,Jm(h,y));h=h.next}while(u);Mh=!1}}function Gv(){Wm()}function Wm(){Nl=kh=!1;var i=0;ks!==0&&(Jv()&&(i=ks),ks=0);for(var s=Ae(),u=null,h=Ol;h!==null;){var g=h.next,y=Qm(h,s);y===0?(h.next=null,u===null?Ol=g:u.next=g,g===null&&(Er=u)):(u=h,(i!==0||(y&3)!==0)&&(Nl=!0)),h=g}Ua(i)}function Qm(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var x=31-gt(y),_=1<<x,L=g[x];L===-1?((_&u)===0||(_&h)!==0)&&(g[x]=Hn(_,s)):L<=s&&(i.expiredLanes|=_),y&=~_}if(s=ne,u=Ft,u=ke(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===s&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&qt(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||_n(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(h!==null&&qt(h),qu(u)){case 2:case 8:u=ds;break;case 32:u=Un;break;case 268435456:u=Vs;break;default:u=Un}return h=Zm.bind(null,i),u=Ot(u,h),i.callbackPriority=s,i.callbackNode=u,s}return h!==null&&h!==null&&qt(h),i.callbackPriority=2,i.callbackNode=null,2}function Zm(i,s){if(Ie!==0&&Ie!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Ll()&&i.callbackNode!==u)return null;var h=Ft;return h=ke(i,i===ne?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Nm(i,h,s),Qm(i,Ae()),i.callbackNode!=null&&i.callbackNode===u?Zm.bind(null,i):null)}function Jm(i,s){if(Ll())return null;Nm(i,s,!0)}function qv(){eS(function(){(Xt&6)!==0?Ot(fi,Gv):Wm()})}function Dh(){return ks===0&&(ks=Gf()),ks}function t0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qo(""+i)}function e0(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function Xv(i,s,u,h,g){if(s==="submit"&&u&&u.stateNode===g){var y=t0((g[Je]||null).action),x=h.submitter;x&&(s=(s=x[Je]||null)?t0(s.formAction):x.getAttribute("formAction"),s!==null&&(y=s,x=null));var _=new Ko("action","action",null,h,g);i.push({event:_,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ks!==0){var L=x?e0(g,x):new FormData(g);Qc(u,{pending:!0,data:L,method:g.method,action:y},null,L)}}else typeof y=="function"&&(_.preventDefault(),L=x?e0(g,x):new FormData(g),Qc(u,{pending:!0,data:L,method:g.method,action:y},y,L))},currentTarget:g}]})}}for(var Lh=0;Lh<mc.length;Lh++){var Oh=mc[Lh],Yv=Oh.toLowerCase(),$v=Oh[0].toUpperCase()+Oh.slice(1);jn(Yv,"on"+$v)}jn(Np,"onAnimationEnd"),jn(Pp,"onAnimationIteration"),jn(Bp,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(hv,"onTransitionRun"),jn(dv,"onTransitionStart"),jn(fv,"onTransitionCancel"),jn(zp,"onTransitionEnd"),$s("onMouseEnter",["mouseout","mouseover"]),$s("onMouseLeave",["mouseout","mouseover"]),$s("onPointerEnter",["pointerout","pointerover"]),$s("onPointerLeave",["pointerout","pointerover"]),fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ha));function n0(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],g=h.event;h=h.listeners;t:{var y=void 0;if(s)for(var x=h.length-1;0<=x;x--){var _=h[x],L=_.instance,j=_.currentTarget;if(_=_.listener,L!==y&&g.isPropagationStopped())break t;y=_,g.currentTarget=j;try{y(g)}catch(Q){Al(Q)}g.currentTarget=null,y=L}else for(x=0;x<h.length;x++){if(_=h[x],L=_.instance,j=_.currentTarget,_=_.listener,L!==y&&g.isPropagationStopped())break t;y=_,g.currentTarget=j;try{y(g)}catch(Q){Al(Q)}g.currentTarget=null,y=L}}}}function Pt(i,s){var u=s[Xu];u===void 0&&(u=s[Xu]=new Set);var h=i+"__bubble";u.has(h)||(i0(s,i,2,!1),u.add(h))}function Nh(i,s,u){var h=0;s&&(h|=4),i0(u,i,h,s)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Ph(i){if(!i[Pl]){i[Pl]=!0,Wf.forEach(function(u){u!=="selectionchange"&&(Kv.has(u)||Nh(u,!1,i),Nh(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Pl]||(s[Pl]=!0,Nh("selectionchange",!1,s))}}function i0(i,s,u,h){switch(T0(s)){case 2:var g=wS;break;case 8:g=xS;break;default:g=Kh}u=g.bind(null,s,u,i),g=void 0,!ic||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(s,u,{capture:!0,passive:g}):i.addEventListener(s,u,!0):g!==void 0?i.addEventListener(s,u,{passive:g}):i.addEventListener(s,u,!1)}function Bh(i,s,u,h,g){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var _=h.stateNode.containerInfo;if(_===g)break;if(x===4)for(x=h.return;x!==null;){var L=x.tag;if((L===3||L===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;_!==null;){if(x=qs(_),x===null)return;if(L=x.tag,L===5||L===6||L===26||L===27){h=y=x;continue t}_=_.parentNode}}h=h.return}cp(function(){var j=y,Q=ec(u),tt=[];t:{var q=Ip.get(i);if(q!==void 0){var X=Ko,wt=i;switch(i){case"keypress":if(Yo(u)===0)break t;case"keydown":case"keyup":X=V2;break;case"focusin":wt="focus",X=oc;break;case"focusout":wt="blur",X=oc;break;case"beforeblur":case"afterblur":X=oc;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=D2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=X2;break;case Np:case Pp:case Bp:X=N2;break;case zp:X=$2;break;case"scroll":case"scrollend":X=k2;break;case"wheel":X=W2;break;case"copy":case"cut":case"paste":X=B2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=gp;break;case"toggle":case"beforetoggle":X=Z2}var vt=(s&4)!==0,Wt=!vt&&(i==="scroll"||i==="scrollend"),F=vt?q!==null?q+"Capture":null:q;vt=[];for(var B=j,U;B!==null;){var Z=B;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||F===null||(Z=aa(B,F),Z!=null&&vt.push(ja(B,Z,U))),Wt)break;B=B.return}0<vt.length&&(q=new X(q,wt,null,u,Q),tt.push({event:q,listeners:vt}))}}if((s&7)===0){t:{if(q=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",q&&u!==tc&&(wt=u.relatedTarget||u.fromElement)&&(qs(wt)||wt[Gs]))break t;if((X||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,X?(wt=u.relatedTarget||u.toElement,X=j,wt=wt?qs(wt):null,wt!==null&&(Wt=o(wt),vt=wt.tag,wt!==Wt||vt!==5&&vt!==27&&vt!==6)&&(wt=null)):(X=null,wt=j),X!==wt)){if(vt=fp,Z="onMouseLeave",F="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(vt=gp,Z="onPointerLeave",F="onPointerEnter",B="pointer"),Wt=X==null?q:ra(X),U=wt==null?q:ra(wt),q=new vt(Z,B+"leave",X,u,Q),q.target=Wt,q.relatedTarget=U,Z=null,qs(Q)===j&&(vt=new vt(F,B+"enter",wt,u,Q),vt.target=U,vt.relatedTarget=Wt,Z=vt),Wt=Z,X&&wt)e:{for(vt=X,F=wt,B=0,U=vt;U;U=Cr(U))B++;for(U=0,Z=F;Z;Z=Cr(Z))U++;for(;0<B-U;)vt=Cr(vt),B--;for(;0<U-B;)F=Cr(F),U--;for(;B--;){if(vt===F||F!==null&&vt===F.alternate)break e;vt=Cr(vt),F=Cr(F)}vt=null}else vt=null;X!==null&&s0(tt,q,X,vt,!1),wt!==null&&Wt!==null&&s0(tt,Wt,wt,vt,!0)}}t:{if(q=j?ra(j):window,X=q.nodeName&&q.nodeName.toLowerCase(),X==="select"||X==="input"&&q.type==="file")var dt=xp;else if(Ap(q))if(Ep)dt=lv;else{dt=av;var Lt=rv}else X=q.nodeName,!X||X.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&Ju(j.elementType)&&(dt=xp):dt=ov;if(dt&&(dt=dt(i,j))){wp(tt,dt,u,Q);break t}Lt&&Lt(i,q,j),i==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&Zu(q,"number",q.value)}switch(Lt=j?ra(j):window,i){case"focusin":(Ap(Lt)||Lt.contentEditable==="true")&&(er=Lt,fc=j,pa=null);break;case"focusout":pa=fc=er=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,Lp(tt,u,Q);break;case"selectionchange":if(cv)break;case"keydown":case"keyup":Lp(tt,u,Q)}var mt;if(uc)t:{switch(i){case"compositionstart":var St="onCompositionStart";break t;case"compositionend":St="onCompositionEnd";break t;case"compositionupdate":St="onCompositionUpdate";break t}St=void 0}else tr?vp(i,u)&&(St="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(St="onCompositionStart");St&&(mp&&u.locale!=="ko"&&(tr||St!=="onCompositionStart"?St==="onCompositionEnd"&&tr&&(mt=hp()):(Ii=Q,sc="value"in Ii?Ii.value:Ii.textContent,tr=!0)),Lt=Bl(j,St),0<Lt.length&&(St=new pp(St,i,null,u,Q),tt.push({event:St,listeners:Lt}),mt?St.data=mt:(mt=Sp(u),mt!==null&&(St.data=mt)))),(mt=tv?ev(i,u):nv(i,u))&&(St=Bl(j,"onBeforeInput"),0<St.length&&(Lt=new pp("onBeforeInput","beforeinput",null,u,Q),tt.push({event:Lt,listeners:St}),Lt.data=mt)),Xv(tt,i,j,u,Q)}n0(tt,s)})}function ja(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Bl(i,s){for(var u=s+"Capture",h=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=aa(i,u),g!=null&&h.unshift(ja(i,g,y)),g=aa(i,s),g!=null&&h.push(ja(i,g,y))),i.tag===3)return h;i=i.return}return[]}function Cr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function s0(i,s,u,h,g){for(var y=s._reactName,x=[];u!==null&&u!==h;){var _=u,L=_.alternate,j=_.stateNode;if(_=_.tag,L!==null&&L===h)break;_!==5&&_!==26&&_!==27||j===null||(L=j,g?(j=aa(u,y),j!=null&&x.unshift(ja(u,j,L))):g||(j=aa(u,y),j!=null&&x.push(ja(u,j,L)))),u=u.return}x.length!==0&&i.push({event:s,listeners:x})}var Wv=/\r\n?/g,Qv=/\u0000|\uFFFD/g;function r0(i){return(typeof i=="string"?i:""+i).replace(Wv,`
`).replace(Qv,"")}function a0(i,s){return s=r0(s),r0(i)===s}function zl(){}function Kt(i,s,u,h,g,y){switch(u){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Qs(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Qs(i,""+h);break;case"className":jo(i,"class",h);break;case"tabIndex":jo(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":jo(i,u,h);break;case"style":lp(i,h,y);break;case"data":if(s!=="object"){jo(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=qo(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(s!=="input"&&Kt(i,s,"name",g.name,g,null),Kt(i,s,"formEncType",g.formEncType,g,null),Kt(i,s,"formMethod",g.formMethod,g,null),Kt(i,s,"formTarget",g.formTarget,g,null)):(Kt(i,s,"encType",g.encType,g,null),Kt(i,s,"method",g.method,g,null),Kt(i,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=qo(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=zl);break;case"onScroll":h!=null&&Pt("scroll",i);break;case"onScrollEnd":h!=null&&Pt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=qo(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":Pt("beforetoggle",i),Pt("toggle",i),Ho(i,"popover",h);break;case"xlinkActuate":gi(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":gi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":gi(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":gi(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":gi(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":gi(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":gi(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":gi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":gi(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ho(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=T2.get(u)||u,Ho(i,u,h))}}function zh(i,s,u,h,g,y){switch(u){case"style":lp(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof h=="string"?Qs(i,h):(typeof h=="number"||typeof h=="bigint")&&Qs(i,""+h);break;case"onScroll":h!=null&&Pt("scroll",i);break;case"onScrollEnd":h!=null&&Pt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=zl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qf.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),s=u.slice(2,g?u.length-7:void 0),y=i[Je]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(s,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,h,g);break t}u in i?i[u]=h:h===!0?i.setAttribute(u,""):Ho(i,u,h)}}}function Fe(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",i),Pt("load",i);var h=!1,g=!1,y;for(y in u)if(u.hasOwnProperty(y)){var x=u[y];if(x!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Kt(i,s,y,x,u,null)}}g&&Kt(i,s,"srcSet",u.srcSet,u,null),h&&Kt(i,s,"src",u.src,u,null);return;case"input":Pt("invalid",i);var _=y=x=g=null,L=null,j=null;for(h in u)if(u.hasOwnProperty(h)){var Q=u[h];if(Q!=null)switch(h){case"name":g=Q;break;case"type":x=Q;break;case"checked":L=Q;break;case"defaultChecked":j=Q;break;case"value":y=Q;break;case"defaultValue":_=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(137,s));break;default:Kt(i,s,h,Q,u,null)}}sp(i,y,_,L,j,x,g,!1),Vo(i);return;case"select":Pt("invalid",i),h=x=y=null;for(g in u)if(u.hasOwnProperty(g)&&(_=u[g],_!=null))switch(g){case"value":y=_;break;case"defaultValue":x=_;break;case"multiple":h=_;default:Kt(i,s,g,_,u,null)}s=y,u=x,i.multiple=!!h,s!=null?Ws(i,!!h,s,!1):u!=null&&Ws(i,!!h,u,!0);return;case"textarea":Pt("invalid",i),y=g=h=null;for(x in u)if(u.hasOwnProperty(x)&&(_=u[x],_!=null))switch(x){case"value":h=_;break;case"defaultValue":g=_;break;case"children":y=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(n(91));break;default:Kt(i,s,x,_,u,null)}ap(i,h,g,y),Vo(i);return;case"option":for(L in u)if(u.hasOwnProperty(L)&&(h=u[L],h!=null))switch(L){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Kt(i,s,L,h,u,null)}return;case"dialog":Pt("beforetoggle",i),Pt("toggle",i),Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":Pt("load",i);break;case"video":case"audio":for(h=0;h<Ha.length;h++)Pt(Ha[h],i);break;case"image":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"embed":case"source":case"link":Pt("error",i),Pt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in u)if(u.hasOwnProperty(j)&&(h=u[j],h!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Kt(i,s,j,h,u,null)}return;default:if(Ju(s)){for(Q in u)u.hasOwnProperty(Q)&&(h=u[Q],h!==void 0&&zh(i,s,Q,h,u,void 0));return}}for(_ in u)u.hasOwnProperty(_)&&(h=u[_],h!=null&&Kt(i,s,_,h,u,null))}function Zv(i,s,u,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,x=null,_=null,L=null,j=null,Q=null;for(X in u){var tt=u[X];if(u.hasOwnProperty(X)&&tt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":L=tt;default:h.hasOwnProperty(X)||Kt(i,s,X,null,h,tt)}}for(var q in h){var X=h[q];if(tt=u[q],h.hasOwnProperty(q)&&(X!=null||tt!=null))switch(q){case"type":y=X;break;case"name":g=X;break;case"checked":j=X;break;case"defaultChecked":Q=X;break;case"value":x=X;break;case"defaultValue":_=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,s));break;default:X!==tt&&Kt(i,s,q,X,h,tt)}}Qu(i,x,_,L,j,Q,y,g);return;case"select":X=x=_=q=null;for(y in u)if(L=u[y],u.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":X=L;default:h.hasOwnProperty(y)||Kt(i,s,y,null,h,L)}for(g in h)if(y=h[g],L=u[g],h.hasOwnProperty(g)&&(y!=null||L!=null))switch(g){case"value":q=y;break;case"defaultValue":_=y;break;case"multiple":x=y;default:y!==L&&Kt(i,s,g,y,h,L)}s=_,u=x,h=X,q!=null?Ws(i,!!u,q,!1):!!h!=!!u&&(s!=null?Ws(i,!!u,s,!0):Ws(i,!!u,u?[]:"",!1));return;case"textarea":X=q=null;for(_ in u)if(g=u[_],u.hasOwnProperty(_)&&g!=null&&!h.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Kt(i,s,_,null,h,g)}for(x in h)if(g=h[x],y=u[x],h.hasOwnProperty(x)&&(g!=null||y!=null))switch(x){case"value":q=g;break;case"defaultValue":X=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==y&&Kt(i,s,x,g,h,y)}rp(i,q,X);return;case"option":for(var wt in u)if(q=u[wt],u.hasOwnProperty(wt)&&q!=null&&!h.hasOwnProperty(wt))switch(wt){case"selected":i.selected=!1;break;default:Kt(i,s,wt,null,h,q)}for(L in h)if(q=h[L],X=u[L],h.hasOwnProperty(L)&&q!==X&&(q!=null||X!=null))switch(L){case"selected":i.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Kt(i,s,L,q,h,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in u)q=u[vt],u.hasOwnProperty(vt)&&q!=null&&!h.hasOwnProperty(vt)&&Kt(i,s,vt,null,h,q);for(j in h)if(q=h[j],X=u[j],h.hasOwnProperty(j)&&q!==X&&(q!=null||X!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(137,s));break;default:Kt(i,s,j,q,h,X)}return;default:if(Ju(s)){for(var Wt in u)q=u[Wt],u.hasOwnProperty(Wt)&&q!==void 0&&!h.hasOwnProperty(Wt)&&zh(i,s,Wt,void 0,h,q);for(Q in h)q=h[Q],X=u[Q],!h.hasOwnProperty(Q)||q===X||q===void 0&&X===void 0||zh(i,s,Q,q,h,X);return}}for(var F in u)q=u[F],u.hasOwnProperty(F)&&q!=null&&!h.hasOwnProperty(F)&&Kt(i,s,F,null,h,q);for(tt in h)q=h[tt],X=u[tt],!h.hasOwnProperty(tt)||q===X||q==null&&X==null||Kt(i,s,tt,q,h,X)}var Ih=null,Fh=null;function Il(i){return i.nodeType===9?i:i.ownerDocument}function o0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Uh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hh=null;function Jv(){var i=window.event;return i&&i.type==="popstate"?i===Hh?!1:(Hh=i,!0):(Hh=null,!1)}var u0=typeof setTimeout=="function"?setTimeout:void 0,tS=typeof clearTimeout=="function"?clearTimeout:void 0,c0=typeof Promise=="function"?Promise:void 0,eS=typeof queueMicrotask=="function"?queueMicrotask:typeof c0<"u"?function(i){return c0.resolve(null).then(i).catch(nS)}:u0;function nS(i){setTimeout(function(){throw i})}function ts(i){return i==="head"}function h0(i,s){var u=s,h=0,g=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(0<h&&8>h){u=h;var x=i.ownerDocument;if(u&1&&Va(x.documentElement),u&2&&Va(x.body),u&4)for(u=x.head,Va(u),x=u.firstChild;x;){var _=x.nextSibling,L=x.nodeName;x[sa]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=_}}if(g===0){i.removeChild(y),Qa(s);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:h=u.charCodeAt(0)-48;else h=0;u=y}while(u);Qa(s)}function jh(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":jh(u),Yu(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function iS(i,s,u,h){for(;i.nodeType===1;){var g=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[sa])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Gn(i.nextSibling),i===null)break}return null}function sS(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Gn(i.nextSibling),i===null))return null;return i}function Vh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function rS(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var h=function(){s(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Gn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Gh=null;function d0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function f0(i,s,u){switch(s=Il(u),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Va(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Yu(i)}var Pn=new Map,p0=new Set;function Fl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ki=G.d;G.d={f:aS,r:oS,D:lS,C:uS,L:cS,m:hS,X:fS,S:dS,M:pS};function aS(){var i=ki.f(),s=Ml();return i||s}function oS(i){var s=Xs(i);s!==null&&s.tag===5&&s.type==="form"?Ng(s):ki.r(i)}var _r=typeof document>"u"?null:document;function g0(i,s,u){var h=_r;if(h&&typeof s=="string"&&s){var g=Rn(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),p0.has(g)||(p0.add(g),i={rel:i,crossOrigin:u,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),Fe(s,"link",i),Me(s),h.head.appendChild(s)))}}function lS(i){ki.D(i),g0("dns-prefetch",i,null)}function uS(i,s){ki.C(i,s),g0("preconnect",i,s)}function cS(i,s,u){ki.L(i,s,u);var h=_r;if(h&&i&&s){var g='link[rel="preload"][as="'+Rn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+Rn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+Rn(u.imageSizes)+'"]')):g+='[href="'+Rn(i)+'"]';var y=g;switch(s){case"style":y=Tr(i);break;case"script":y=Rr(i)}Pn.has(y)||(i=p({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),Pn.set(y,i),h.querySelector(g)!==null||s==="style"&&h.querySelector(Ga(y))||s==="script"&&h.querySelector(qa(y))||(s=h.createElement("link"),Fe(s,"link",i),Me(s),h.head.appendChild(s)))}}function hS(i,s){ki.m(i,s);var u=_r;if(u&&i){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Rn(h)+'"][href="'+Rn(i)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Rr(i)}if(!Pn.has(y)&&(i=p({rel:"modulepreload",href:i},s),Pn.set(y,i),u.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(qa(y)))return}h=u.createElement("link"),Fe(h,"link",i),Me(h),u.head.appendChild(h)}}}function dS(i,s,u){ki.S(i,s,u);var h=_r;if(h&&i){var g=Ys(h).hoistableStyles,y=Tr(i);s=s||"default";var x=g.get(y);if(!x){var _={loading:0,preload:null};if(x=h.querySelector(Ga(y)))_.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":s},u),(u=Pn.get(y))&&qh(i,u);var L=x=h.createElement("link");Me(L),Fe(L,"link",i),L._p=new Promise(function(j,Q){L.onload=j,L.onerror=Q}),L.addEventListener("load",function(){_.loading|=1}),L.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ul(x,s,h)}x={type:"stylesheet",instance:x,count:1,state:_},g.set(y,x)}}}function fS(i,s){ki.X(i,s);var u=_r;if(u&&i){var h=Ys(u).hoistableScripts,g=Rr(i),y=h.get(g);y||(y=u.querySelector(qa(g)),y||(i=p({src:i,async:!0},s),(s=Pn.get(g))&&Xh(i,s),y=u.createElement("script"),Me(y),Fe(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function pS(i,s){ki.M(i,s);var u=_r;if(u&&i){var h=Ys(u).hoistableScripts,g=Rr(i),y=h.get(g);y||(y=u.querySelector(qa(g)),y||(i=p({src:i,async:!0,type:"module"},s),(s=Pn.get(g))&&Xh(i,s),y=u.createElement("script"),Me(y),Fe(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function m0(i,s,u,h){var g=(g=ut.current)?Fl(g):null;if(!g)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Tr(u.href),u=Ys(g).hoistableStyles,h=u.get(s),h||(h={type:"style",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Tr(u.href);var y=Ys(g).hoistableStyles,x=y.get(i);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,x),(y=g.querySelector(Ga(i)))&&!y._p&&(x.instance=y,x.state.loading=5),Pn.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Pn.set(i,u),y||gS(g,i,u,x.state))),s&&h===null)throw Error(n(528,""));return x}if(s&&h!==null)throw Error(n(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Rr(u),u=Ys(g).hoistableScripts,h=u.get(s),h||(h={type:"script",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Tr(i){return'href="'+Rn(i)+'"'}function Ga(i){return'link[rel="stylesheet"]['+i+"]"}function y0(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function gS(i,s,u,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Fe(s,"link",u),Me(s),i.head.appendChild(s))}function Rr(i){return'[src="'+Rn(i)+'"]'}function qa(i){return"script[async]"+i}function b0(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+Rn(u.href)+'"]');if(h)return s.instance=h,Me(h),h;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Me(h),Fe(h,"style",g),Ul(h,u.precedence,i),s.instance=h;case"stylesheet":g=Tr(u.href);var y=i.querySelector(Ga(g));if(y)return s.state.loading|=4,s.instance=y,Me(y),y;h=y0(u),(g=Pn.get(g))&&qh(h,g),y=(i.ownerDocument||i).createElement("link"),Me(y);var x=y;return x._p=new Promise(function(_,L){x.onload=_,x.onerror=L}),Fe(y,"link",h),s.state.loading|=4,Ul(y,u.precedence,i),s.instance=y;case"script":return y=Rr(u.src),(g=i.querySelector(qa(y)))?(s.instance=g,Me(g),g):(h=u,(g=Pn.get(y))&&(h=p({},u),Xh(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Me(g),Fe(g,"link",h),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Ul(h,u.precedence,i));return s.instance}function Ul(i,s,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,x=0;x<h.length;x++){var _=h[x];if(_.dataset.precedence===s)y=_;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function qh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Xh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Hl=null;function v0(i,s,u){if(Hl===null){var h=new Map,g=Hl=new Map;g.set(u,h)}else g=Hl,h=g.get(u),h||(h=new Map,g.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),g=0;g<u.length;g++){var y=u[g];if(!(y[sa]||y[je]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(s)||"";x=i+x;var _=h.get(x);_?_.push(y):h.set(x,[y])}}return h}function S0(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function mS(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function A0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Xa=null;function yS(){}function bS(i,s,u){if(Xa===null)throw Error(n(475));var h=Xa;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Tr(u.href),y=i.querySelector(Ga(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=jl.bind(h),i.then(h,h)),s.state.loading|=4,s.instance=y,Me(y);return}y=i.ownerDocument||i,u=y0(u),(g=Pn.get(g))&&qh(u,g),y=y.createElement("link"),Me(y);var x=y;x._p=new Promise(function(_,L){x.onload=_,x.onerror=L}),Fe(y,"link",u),s.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=jl.bind(h),i.addEventListener("load",s),i.addEventListener("error",s))}}function vS(){if(Xa===null)throw Error(n(475));var i=Xa;return i.stylesheets&&i.count===0&&Yh(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&Yh(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function jl(){if(this.count--,this.count===0){if(this.stylesheets)Yh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Vl=null;function Yh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Vl=new Map,s.forEach(SS,i),Vl=null,jl.call(i))}function SS(i,s){if(!(s.state.loading&4)){var u=Vl.get(i);if(u)var h=u.get(null);else{u=new Map,Vl.set(i,u);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var x=g[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(u.set(x.dataset.precedence,x),h=x)}h&&u.set(null,h)}g=s.instance,x=g.getAttribute("data-precedence"),y=u.get(x)||h,y===h&&u.set(null,g),u.set(x,g),this.count++,h=jl.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Ya={$$typeof:R,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function AS(i,s,u,h,g,y,x,_){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vu(0),this.hiddenUpdates=Vu(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function w0(i,s,u,h,g,y,x,_,L,j,Q,tt){return i=new AS(i,s,u,x,_,L,j,tt),s=1,y===!0&&(s|=24),y=pn(3,null,null,s),i.current=y,y.stateNode=i,s=Rc(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:u,cache:s},Lc(y),i}function x0(i){return i?(i=rr,i):rr}function E0(i,s,u,h,g,y){g=x0(g),h.context===null?h.context=g:h.pendingContext=g,h=Hi(s),h.payload={element:u},y=y===void 0?null:y,y!==null&&(h.callback=y),u=ji(i,h,s),u!==null&&(vn(u,i,s),xa(u,i,s))}function C0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function $h(i,s){C0(i,s),(i=i.alternate)&&C0(i,s)}function _0(i){if(i.tag===13){var s=sr(i,67108864);s!==null&&vn(s,i,67108864),$h(i,67108864)}}var Gl=!0;function wS(i,s,u,h){var g=P.T;P.T=null;var y=G.p;try{G.p=2,Kh(i,s,u,h)}finally{G.p=y,P.T=g}}function xS(i,s,u,h){var g=P.T;P.T=null;var y=G.p;try{G.p=8,Kh(i,s,u,h)}finally{G.p=y,P.T=g}}function Kh(i,s,u,h){if(Gl){var g=Wh(h);if(g===null)Bh(i,s,h,ql,u),R0(i,h);else if(CS(g,i,s,u,h))h.stopPropagation();else if(R0(i,h),s&4&&-1<ES.indexOf(i)){for(;g!==null;){var y=Xs(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=dn(y.pendingLanes);if(x!==0){var _=y;for(_.pendingLanes|=2,_.entangledLanes|=2;x;){var L=1<<31-gt(x);_.entanglements[1]|=L,x&=~L}Zn(y),(Xt&6)===0&&(Rl=Ae()+500,Ua(0))}}break;case 13:_=sr(y,2),_!==null&&vn(_,y,2),Ml(),$h(y,2)}if(y=Wh(h),y===null&&Bh(i,s,h,ql,u),y===g)break;g=y}g!==null&&h.stopPropagation()}else Bh(i,s,h,null,u)}}function Wh(i){return i=ec(i),Qh(i)}var ql=null;function Qh(i){if(ql=null,i=qs(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ql=i,null}function T0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(di()){case fi:return 2;case ds:return 8;case Un:case ta:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var Zh=!1,es=null,ns=null,is=null,$a=new Map,Ka=new Map,ss=[],ES="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R0(i,s){switch(i){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":$a.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(s.pointerId)}}function Wa(i,s,u,h,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},s!==null&&(s=Xs(s),s!==null&&_0(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function CS(i,s,u,h,g){switch(s){case"focusin":return es=Wa(es,i,s,u,h,g),!0;case"dragenter":return ns=Wa(ns,i,s,u,h,g),!0;case"mouseover":return is=Wa(is,i,s,u,h,g),!0;case"pointerover":var y=g.pointerId;return $a.set(y,Wa($a.get(y)||null,i,s,u,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Ka.set(y,Wa(Ka.get(y)||null,i,s,u,h,g)),!0}return!1}function k0(i){var s=qs(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,b2(i.priority,function(){if(u.tag===13){var h=bn();h=Gu(h);var g=sr(u,h);g!==null&&vn(g,u,h),$h(u,h)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xl(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=Wh(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);tc=h,u.target.dispatchEvent(h),tc=null}else return s=Xs(u),s!==null&&_0(s),i.blockedOn=u,!1;s.shift()}return!0}function M0(i,s,u){Xl(i)&&u.delete(s)}function _S(){Zh=!1,es!==null&&Xl(es)&&(es=null),ns!==null&&Xl(ns)&&(ns=null),is!==null&&Xl(is)&&(is=null),$a.forEach(M0),Ka.forEach(M0)}function Yl(i,s){i.blockedOn===s&&(i.blockedOn=null,Zh||(Zh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_S)))}var $l=null;function D0(i){$l!==i&&($l=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$l===i&&($l=null);for(var s=0;s<i.length;s+=3){var u=i[s],h=i[s+1],g=i[s+2];if(typeof h!="function"){if(Qh(h||u)===null)continue;break}var y=Xs(u);y!==null&&(i.splice(s,3),s-=3,Qc(y,{pending:!0,data:g,method:u.method,action:h},h,g))}}))}function Qa(i){function s(L){return Yl(L,i)}es!==null&&Yl(es,i),ns!==null&&Yl(ns,i),is!==null&&Yl(is,i),$a.forEach(s),Ka.forEach(s);for(var u=0;u<ss.length;u++){var h=ss[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<ss.length&&(u=ss[0],u.blockedOn===null);)k0(u),u.blockedOn===null&&ss.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var g=u[h],y=u[h+1],x=g[Je]||null;if(typeof y=="function")x||D0(u);else if(x){var _=null;if(y&&y.hasAttribute("formAction")){if(g=y,x=y[Je]||null)_=x.formAction;else if(Qh(g)!==null)continue}else _=x.action;typeof _=="function"?u[h+1]=_:(u.splice(h,3),h-=3),D0(u)}}}function Jh(i){this._internalRoot=i}Kl.prototype.render=Jh.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var u=s.current,h=bn();E0(u,h,i,s,null,null)},Kl.prototype.unmount=Jh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;E0(i.current,2,null,i,null,null),Ml(),s[Gs]=null}};function Kl(i){this._internalRoot=i}Kl.prototype.unstable_scheduleHydration=function(i){if(i){var s=$f();i={blockedOn:null,target:i,priority:s};for(var u=0;u<ss.length&&s!==0&&s<ss[u].priority;u++);ss.splice(u,0,i),u===0&&k0(i)}};var L0=t.version;if(L0!=="19.1.1")throw Error(n(527,L0,"19.1.1"));G.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=d(s),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var TS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{W=Wl.inject(TS),rt=Wl}catch{}}return Ja.createRoot=function(i,s){if(!a(i))throw Error(n(299));var u=!1,h="",g=$g,y=Kg,x=Wg,_=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(_=s.unstable_transitionCallbacks)),s=w0(i,1,!1,null,null,u,h,g,y,x,_,null),i[Gs]=s.current,Ph(i),new Jh(s)},Ja.hydrateRoot=function(i,s,u){if(!a(i))throw Error(n(299));var h=!1,g="",y=$g,x=Kg,_=Wg,L=null,j=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(x=u.onCaughtError),u.onRecoverableError!==void 0&&(_=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(L=u.unstable_transitionCallbacks),u.formState!==void 0&&(j=u.formState)),s=w0(i,1,!0,s,u??null,h,g,y,x,_,L,j),s.context=x0(null),u=s.current,h=bn(),h=Gu(h),g=Hi(h),g.callback=null,ji(u,g,h),u=h,s.current.lanes=u,ia(s,u),Zn(s),i[Gs]=s.current,Ph(i),new Kl(s)},Ja.version="19.1.1",Ja}var G0;function zS(){if(G0)return id.exports;G0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),id.exports=BS(),id.exports}var IS=zS();const FS=_o(IS);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q0="popstate";function US(r={}){function t(n,a){let{pathname:o,search:l,hash:c}=n.location;return Dd("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(n,a){return typeof a=="string"?a:bo(a)}return jS(t,e,null,r)}function fe(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ui(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HS(){return Math.random().toString(36).substring(2,10)}function X0(r,t){return{usr:r.state,key:r.key,idx:t}}function Dd(r,t,e=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?$r(t):t,state:e,key:t&&t.key||n||HS()}}function bo({pathname:r="/",search:t="",hash:e=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(r+=e.charAt(0)==="#"?e:"#"+e),r}function $r(r){let t={};if(r){let e=r.indexOf("#");e>=0&&(t.hash=r.substring(e),r=r.substring(0,e));let n=r.indexOf("?");n>=0&&(t.search=r.substring(n),r=r.substring(0,n)),r&&(t.pathname=r)}return t}function jS(r,t,e,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,l=a.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let C=p(),A=C==null?null:C-f;f=C,d&&d({action:c,location:S.location,delta:A})}function b(C,A){c="PUSH";let k=Dd(S.location,C,A);f=p()+1;let R=X0(k,f),O=S.createHref(k);try{l.pushState(R,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(O)}o&&d&&d({action:c,location:S.location,delta:1})}function v(C,A){c="REPLACE";let k=Dd(S.location,C,A);f=p();let R=X0(k,f),O=S.createHref(k);l.replaceState(R,"",O),o&&d&&d({action:c,location:S.location,delta:0})}function w(C){return VS(C)}let S={get action(){return c},get location(){return r(a,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(q0,m),d=C,()=>{a.removeEventListener(q0,m),d=null}},createHref(C){return t(a,C)},createURL:w,encodeLocation(C){let A=w(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:v,go(C){return l.go(C)}};return S}function VS(r,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),fe(e,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:bo(r);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function by(r,t,e="/"){return GS(r,t,e,!1)}function GS(r,t,e,n){let a=typeof t=="string"?$r(t):t,o=Oi(a.pathname||"/",e);if(o==null)return null;let l=vy(r);qS(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=nA(o);c=tA(l[d],f,n)}return c}function vy(r,t=[],e=[],n=""){let a=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(fe(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let f=Li([n,d.relativePath]),p=e.concat(d);o.children&&o.children.length>0&&(fe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),vy(o.children,t,p,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:ZS(f,o.index),routesMeta:p})};return r.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let c of Sy(o.path))a(o,l,c)}),t}function Sy(r){let t=r.split("/");if(t.length===0)return[];let[e,...n]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let l=Sy(n.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),a&&c.push(...l),c.map(d=>r.startsWith("/")&&d===""?"/":d)}function qS(r){r.sort((t,e)=>t.score!==e.score?e.score-t.score:JS(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var XS=/^:[\w-]+$/,YS=3,$S=2,KS=1,WS=10,QS=-2,Y0=r=>r==="*";function ZS(r,t){let e=r.split("/"),n=e.length;return e.some(Y0)&&(n+=QS),t&&(n+=$S),e.filter(a=>!Y0(a)).reduce((a,o)=>a+(XS.test(o)?YS:o===""?KS:WS),n)}function JS(r,t){return r.length===t.length&&r.slice(0,-1).every((n,a)=>n===t[a])?r[r.length-1]-t[t.length-1]:0}function tA(r,t,e=!1){let{routesMeta:n}=r,a={},o="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=bu({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),b=d.route;if(!m&&f&&e&&!n[n.length-1].route.index&&(m=bu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:Li([o,m.pathname]),pathnameBase:aA(Li([o,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(o=Li([o,m.pathnameBase]))}return l}function bu(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[e,n]=eA(r.path,r.caseSensitive,r.end),a=t.match(e);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:m},b)=>{if(p==="*"){let w=c[b]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const v=c[b];return m&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:r}}function eA(r,t=!1,e=!0){ui(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function nA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ui(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Oi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=r.charAt(e);return n&&n!=="/"?null:r.slice(e)||"/"}function iA(r,t="/"){let{pathname:e,search:n="",hash:a=""}=typeof r=="string"?$r(r):r;return{pathname:e?e.startsWith("/")?e:sA(e,t):t,search:oA(n),hash:lA(a)}}function sA(r,t){let e=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function od(r,t,e,n){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rA(r){return r.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Ay(r){let t=rA(r);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function wy(r,t,e,n=!1){let a;typeof r=="string"?a=$r(r):(a={...r},fe(!a.pathname||!a.pathname.includes("?"),od("?","pathname","search",a)),fe(!a.pathname||!a.pathname.includes("#"),od("#","pathname","hash",a)),fe(!a.search||!a.search.includes("#"),od("#","search","hash",a)));let o=r===""||a.pathname==="",l=o?"/":a.pathname,c;if(l==null)c=e;else{let m=t.length-1;if(!n&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),m-=1;a.pathname=b.join("/")}c=m>=0?t[m]:"/"}let d=iA(a,c),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Li=r=>r.join("/").replace(/\/\/+/g,"/"),aA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),oA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var xy=["POST","PUT","PATCH","DELETE"];new Set(xy);var cA=["GET",...xy];new Set(cA);var Kr=I.createContext(null);Kr.displayName="DataRouter";var Ru=I.createContext(null);Ru.displayName="DataRouterState";I.createContext(!1);var Ey=I.createContext({isTransitioning:!1});Ey.displayName="ViewTransition";var hA=I.createContext(new Map);hA.displayName="Fetchers";var dA=I.createContext(null);dA.displayName="Await";var hi=I.createContext(null);hi.displayName="Navigation";var To=I.createContext(null);To.displayName="Location";var Bi=I.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var sf=I.createContext(null);sf.displayName="RouteError";function fA(r,{relative:t}={}){fe(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=I.useContext(hi),{hash:a,pathname:o,search:l}=ko(r,{relative:t}),c=o;return e!=="/"&&(c=o==="/"?e:Li([e,o])),n.createHref({pathname:c,search:l,hash:a})}function Ro(){return I.useContext(To)!=null}function Fs(){return fe(Ro(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(To).location}var Cy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _y(r){I.useContext(hi).static||I.useLayoutEffect(r)}function pA(){let{isDataRoute:r}=I.useContext(Bi);return r?TA():gA()}function gA(){fe(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let r=I.useContext(Kr),{basename:t,navigator:e}=I.useContext(hi),{matches:n}=I.useContext(Bi),{pathname:a}=Fs(),o=JSON.stringify(Ay(n)),l=I.useRef(!1);return _y(()=>{l.current=!0}),I.useCallback((d,f={})=>{if(ui(l.current,Cy),!l.current)return;if(typeof d=="number"){e.go(d);return}let p=wy(d,JSON.parse(o),a,f.relative==="path");r==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Li([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,o,a,r])}I.createContext(null);function ko(r,{relative:t}={}){let{matches:e}=I.useContext(Bi),{pathname:n}=Fs(),a=JSON.stringify(Ay(e));return I.useMemo(()=>wy(r,JSON.parse(a),n,t==="path"),[r,a,n,t])}function mA(r,t){return Ty(r,t)}function Ty(r,t,e,n){fe(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=I.useContext(hi),{matches:o}=I.useContext(Bi),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let A=p&&p.path||"";Ry(d,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let m=Fs(),b;if(t){let A=typeof t=="string"?$r(t):t;fe(f==="/"||A.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=m;let v=b.pathname||"/",w=v;if(f!=="/"){let A=f.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=by(r,{pathname:w});ui(p||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ui(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=AA(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:Li([f,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Li([f,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,e,n);return t&&C?I.createElement(To.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function yA(){let r=_A(),t=uA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),e=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:o},"ErrorBoundary")," or"," ",I.createElement("code",{style:o},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),e?I.createElement("pre",{style:a},e):null,l)}var bA=I.createElement(yA,null),vA=class extends I.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?I.createElement(Bi.Provider,{value:this.props.routeContext},I.createElement(sf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SA({routeContext:r,match:t,children:e}){let n=I.useContext(Kr);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(Bi.Provider,{value:r},e)}function AA(r,t=[],e=null,n=null){if(r==null){if(!e)return null;if(e.errors)r=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)r=e.matches;else return null}let a=r,o=e?.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);fe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(e)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=e,b=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let m,b=!1,v=null,w=null;e&&(m=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||bA,l&&(c<0&&p===0?(Ry("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):c===p&&(b=!0,w=f.route.hydrateFallbackElement||null)));let S=t.concat(a.slice(0,p+1)),C=()=>{let A;return m?A=v:b?A=w:f.route.Component?A=I.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=d,I.createElement(SA,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:e!=null},children:A})};return e&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?I.createElement(vA,{location:e.location,revalidation:e.revalidation,component:v,error:m,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}function rf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wA(r){let t=I.useContext(Kr);return fe(t,rf(r)),t}function xA(r){let t=I.useContext(Ru);return fe(t,rf(r)),t}function EA(r){let t=I.useContext(Bi);return fe(t,rf(r)),t}function af(r){let t=EA(r),e=t.matches[t.matches.length-1];return fe(e.route.id,`${r} can only be used on routes that contain a unique "id"`),e.route.id}function CA(){return af("useRouteId")}function _A(){let r=I.useContext(sf),t=xA("useRouteError"),e=af("useRouteError");return r!==void 0?r:t.errors?.[e]}function TA(){let{router:r}=wA("useNavigate"),t=af("useNavigate"),e=I.useRef(!1);return _y(()=>{e.current=!0}),I.useCallback(async(a,o={})=>{ui(e.current,Cy),e.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:t,...o}))},[r,t])}var $0={};function Ry(r,t,e){!t&&!$0[r]&&($0[r]=!0,ui(!1,e))}I.memo(RA);function RA({routes:r,future:t,state:e}){return Ty(r,void 0,e,t)}function hu(r){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kA({basename:r="/",children:t=null,location:e,navigationType:n="POP",navigator:a,static:o=!1}){fe(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof e=="string"&&(e=$r(e));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:b="default"}=e,v=I.useMemo(()=>{let w=Oi(d,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:b},navigationType:n}},[l,d,f,p,m,b,n]);return ui(v!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:I.createElement(hi.Provider,{value:c},I.createElement(To.Provider,{children:t,value:v}))}function MA({children:r,location:t}){return mA(Ld(r),t)}function Ld(r,t=[]){let e=[];return I.Children.forEach(r,(n,a)=>{if(!I.isValidElement(n))return;let o=[...t,a];if(n.type===I.Fragment){e.push.apply(e,Ld(n.props.children,o));return}fe(n.type===hu,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Ld(n.props.children,o)),e.push(l)}),e}var du="get",fu="application/x-www-form-urlencoded";function ku(r){return r!=null&&typeof r.tagName=="string"}function DA(r){return ku(r)&&r.tagName.toLowerCase()==="button"}function LA(r){return ku(r)&&r.tagName.toLowerCase()==="form"}function OA(r){return ku(r)&&r.tagName.toLowerCase()==="input"}function NA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function PA(r,t){return r.button===0&&(!t||t==="_self")&&!NA(r)}var Ql=null;function BA(){if(Ql===null)try{new FormData(document.createElement("form"),0),Ql=!1}catch{Ql=!0}return Ql}var zA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ld(r){return r!=null&&!zA.has(r)?(ui(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fu}"`),null):r}function IA(r,t){let e,n,a,o,l;if(LA(r)){let c=r.getAttribute("action");n=c?Oi(c,t):null,e=r.getAttribute("method")||du,a=ld(r.getAttribute("enctype"))||fu,o=new FormData(r)}else if(DA(r)||OA(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||c.getAttribute("action");if(n=d?Oi(d,t):null,e=r.getAttribute("formmethod")||c.getAttribute("method")||du,a=ld(r.getAttribute("formenctype"))||ld(c.getAttribute("enctype"))||fu,o=new FormData(c,r),!BA()){let{name:f,type:p,value:m}=r;if(p==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,m)}}else{if(ku(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=du,n=null,a=fu,l=r}return o&&a==="text/plain"&&(l=o,o=void 0),{action:n,method:e.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function of(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function FA(r,t,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${e}`:t&&Oi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${e}`,n}async function UA(r,t){if(r.id in t)return t[r.id];try{let e=await import(r.module);return t[r.id]=e,e}catch(e){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jA(r,t,e){let n=await Promise.all(r.map(async a=>{let o=t.routes[a.route.id];if(o){let l=await UA(o,e);return l.links?l.links():[]}return[]}));return XA(n.flat(1).filter(HA).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function K0(r,t,e,n,a,o){let l=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,c=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,f)=>l(d,f)||c(d,f)):o==="data"?t.filter((d,f)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function VA(r,t,{includeHydrateFallback:e}={}){return GA(r.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function GA(r){return[...new Set(r)]}function qA(r){let t={},e=Object.keys(r).sort();for(let n of e)t[n]=r[n];return t}function XA(r,t){let e=new Set;return new Set(t),r.reduce((n,a)=>{let o=JSON.stringify(qA(a));return e.has(o)||(e.add(o),n.push({key:o,link:a})),n},[])}function ky(){let r=I.useContext(Kr);return of(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function YA(){let r=I.useContext(Ru);return of(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lf=I.createContext(void 0);lf.displayName="FrameworkContext";function My(){let r=I.useContext(lf);return of(r,"You must render this element inside a <HydratedRouter> element"),r}function $A(r,t){let e=I.useContext(lf),[n,a]=I.useState(!1),[o,l]=I.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,b=I.useRef(null);I.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let S=A=>{A.forEach(k=>{l(k.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[r]),I.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let v=()=>{a(!0)},w=()=>{a(!1),l(!1)};return e?r!=="intent"?[o,b,{}]:[o,b,{onFocus:to(c,v),onBlur:to(d,w),onMouseEnter:to(f,v),onMouseLeave:to(p,w),onTouchStart:to(m,v)}]:[!1,b,{}]}function to(r,t){return e=>{r&&r(e),e.defaultPrevented||t(e)}}function KA({page:r,...t}){let{router:e}=ky(),n=I.useMemo(()=>by(e.routes,r,e.basename),[e.routes,r,e.basename]);return n?I.createElement(QA,{page:r,matches:n,...t}):null}function WA(r){let{manifest:t,routeModules:e}=My(),[n,a]=I.useState([]);return I.useEffect(()=>{let o=!1;return jA(r,t,e).then(l=>{o||a(l)}),()=>{o=!0}},[r,t,e]),n}function QA({page:r,matches:t,...e}){let n=Fs(),{manifest:a,routeModules:o}=My(),{basename:l}=ky(),{loaderData:c,matches:d}=YA(),f=I.useMemo(()=>K0(r,t,d,a,n,"data"),[r,t,d,a,n]),p=I.useMemo(()=>K0(r,t,d,a,n,"assets"),[r,t,d,a,n]),m=I.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let w=new Set,S=!1;if(t.forEach(A=>{let k=a.routes[A.route.id];!k||!k.hasLoader||(!f.some(R=>R.route.id===A.route.id)&&A.route.id in c&&o[A.route.id]?.shouldRevalidate||k.hasClientLoader?S=!0:w.add(A.route.id))}),w.size===0)return[];let C=FA(r,l,"data");return S&&w.size>0&&C.searchParams.set("_routes",t.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[l,c,n,a,f,t,r,o]),b=I.useMemo(()=>VA(p,a),[p,a]),v=WA(p);return I.createElement(I.Fragment,null,m.map(w=>I.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),b.map(w=>I.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),v.map(({key:w,link:S})=>I.createElement("link",{key:w,...S})))}function ZA(...r){return t=>{r.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Dy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dy&&(window.__reactRouterVersion="7.7.1")}catch{}function JA({basename:r,children:t,window:e}){let n=I.useRef();n.current==null&&(n.current=US({window:e,v5Compat:!0}));let a=n.current,[o,l]=I.useState({action:a.action,location:a.location}),c=I.useCallback(d=>{I.startTransition(()=>l(d))},[l]);return I.useLayoutEffect(()=>a.listen(c),[a,c]),I.createElement(kA,{basename:r,children:t,location:o.location,navigationType:o.action,navigator:a})}var Ly=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oy=I.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:a,reloadDocument:o,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m,...b},v){let{basename:w}=I.useContext(hi),S=typeof f=="string"&&Ly.test(f),C,A=!1;if(typeof f=="string"&&S&&(C=f,Dy))try{let V=new URL(window.location.href),$=f.startsWith("//")?new URL(V.protocol+f):new URL(f),Y=Oi($.pathname,w);$.origin===V.origin&&Y!=null?f=Y+$.search+$.hash:A=!0}catch{ui(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=fA(f,{relative:a}),[R,O,D]=$A(n,b),M=nw(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:a,viewTransition:m});function z(V){t&&t(V),V.defaultPrevented||M(V)}let H=I.createElement("a",{...b,...D,href:C||k,onClick:A||o?t:z,ref:ZA(v,O),target:d,"data-discover":!S&&e==="render"?"true":void 0});return R&&!S?I.createElement(I.Fragment,null,H,I.createElement(KA,{page:k})):H});Oy.displayName="Link";var pu=I.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:a=!1,style:o,to:l,viewTransition:c,children:d,...f},p){let m=ko(l,{relative:f.relative}),b=Fs(),v=I.useContext(Ru),{navigator:w,basename:S}=I.useContext(hi),C=v!=null&&ow(m)&&c===!0,A=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,k=b.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(k=k.toLowerCase(),R=R?R.toLowerCase():null,A=A.toLowerCase()),R&&S&&(R=Oi(R,S)||R);const O=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let D=k===A||!a&&k.startsWith(A)&&k.charAt(O)==="/",M=R!=null&&(R===A||!a&&R.startsWith(A)&&R.charAt(A.length)==="/"),z={isActive:D,isPending:M,isTransitioning:C},H=D?t:void 0,V;typeof n=="function"?V=n(z):V=[n,D?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(z):o;return I.createElement(Oy,{...f,"aria-current":H,className:V,ref:p,style:$,to:l,viewTransition:c},typeof d=="function"?d(z):d)});pu.displayName="NavLink";var tw=I.forwardRef(({discover:r="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:a,state:o,method:l=du,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...b},v)=>{let w=rw(),S=aw(c,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&Ly.test(c),k=R=>{if(d&&d(R),R.defaultPrevented)return;R.preventDefault();let O=R.nativeEvent.submitter,D=O?.getAttribute("formmethod")||l;w(O||R.currentTarget,{fetcherKey:t,method:D,navigate:e,replace:a,state:o,relative:f,preventScrollReset:p,viewTransition:m})};return I.createElement("form",{ref:v,method:C,action:S,onSubmit:n?d:k,...b,"data-discover":!A&&r==="render"?"true":void 0})});tw.displayName="Form";function ew(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ny(r){let t=I.useContext(Kr);return fe(t,ew(r)),t}function nw(r,{target:t,replace:e,state:n,preventScrollReset:a,relative:o,viewTransition:l}={}){let c=pA(),d=Fs(),f=ko(r,{relative:o});return I.useCallback(p=>{if(PA(p,t)){p.preventDefault();let m=e!==void 0?e:bo(d)===bo(f);c(r,{replace:m,state:n,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,f,e,n,t,r,a,o,l])}var iw=0,sw=()=>`__${String(++iw)}__`;function rw(){let{router:r}=Ny("useSubmit"),{basename:t}=I.useContext(hi),e=CA();return I.useCallback(async(n,a={})=>{let{action:o,method:l,encType:c,formData:d,body:f}=IA(n,t);if(a.navigate===!1){let p=a.fetcherKey||sw();await r.fetch(p,e,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await r.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,t,e])}function aw(r,{relative:t}={}){let{basename:e}=I.useContext(hi),n=I.useContext(Bi);fe(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...ko(r||".",{relative:t})},l=Fs();if(r==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();o.search=p?`?${p}`:""}}return(!r||r===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Li([e,o.pathname])),bo(o)}function ow(r,{relative:t}={}){let e=I.useContext(Ey);fe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Ny("useViewTransitionState"),a=ko(r,{relative:t});if(!e.isTransitioning)return!1;let o=Oi(e.currentLocation.pathname,n)||e.currentLocation.pathname,l=Oi(e.nextLocation.pathname,n)||e.nextLocation.pathname;return bu(a.pathname,l)!=null||bu(a.pathname,o)!=null}var Py={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},W0=ls.createContext&&ls.createContext(Py),lw=["attr","size","title"];function uw(r,t){if(r==null)return{};var e=cw(r,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function cw(r,t){if(r==null)return{};var e={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(t.indexOf(n)>=0)continue;e[n]=r[n]}return e}function vu(){return vu=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},vu.apply(this,arguments)}function Q0(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),e.push.apply(e,n)}return e}function Su(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(e),!0).forEach(function(n){hw(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Q0(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function hw(r,t,e){return t=dw(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function dw(r){var t=fw(r,"string");return typeof t=="symbol"?t:t+""}function fw(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function By(r){return r&&r.map((t,e)=>ls.createElement(t.tag,Su({key:e},t.attr),By(t.child)))}function Zt(r){return t=>ls.createElement(pw,vu({attr:Su({},r.attr)},t),By(r.child))}function pw(r){var t=e=>{var{attr:n,size:a,title:o}=r,l=uw(r,lw),c=a||e.size||"1em",d;return e.className&&(d=e.className),r.className&&(d=(d?d+" ":"")+r.className),ls.createElement("svg",vu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,l,{className:d,style:Su(Su({color:r.color||e.color},e.style),r.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&ls.createElement("title",null,o),r.children)};return W0!==void 0?ls.createElement(W0.Consumer,null,e=>t(e)):t(Py)}function gw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8.8086 14.9194l6.1107-11.0368c.0837-.1513.1682-.302.2437-.4584.0685-.142.1267-.2854.1646-.4403.0803-.3259.0588-.6656-.066-.9767-.1238-.3095-.3417-.5678-.6201-.7355a1.4175 1.4175 0 0 0-.921-.1924c-.3207.043-.6135.1935-.8443.4288-.1094.1118-.1996.2361-.2832.369-.092.1463-.175.2979-.259.4492l-.3864.6979-.3865-.6979c-.0837-.1515-.1667-.303-.2587-.4492-.0837-.1329-.1739-.2572-.2835-.369-.2305-.2353-.5233-.3857-.844-.429a1.4181 1.4181 0 0 0-.921.1926c-.2784.1677-.4964.426-.6203.7355-.1246.311-.1461.6508-.066.9767.038.155.0962.2984.1648.4403.0753.1564.1598.307.2437.4584l1.248 2.2543-4.8625 8.7825H2.0295c-.1676 0-.3351-.0007-.5026.0092-.1522.009-.3004.0284-.448.0714-.3108.0906-.5822.2798-.7783.548-.195.2665-.3006.5929-.3006.9279 0 .3352.1057.6612.3006.9277.196.2683.4675.4575.7782.548.1477.043.296.0623.4481.0715.1675.01.335.009.5026.009h13.0974c.0171-.0357.059-.1294.1-.2697.415-1.4151-.6156-2.843-2.0347-2.843zM3.113 18.5418l-.7922 1.5008c-.0818.1553-.1644.31-.2384.4705-.067.1458-.124.293-.1611.452-.0785.3346-.0576.6834.0645 1.0029.1212.3175.3346.583.607.7549.2727.172.5891.2416.9013.1975.3139-.044.6005-.1986.8263-.4402.1072-.1148.1954-.2424.2772-.3787.0902-.1503.1714-.3059.2535-.4612L6 19.4636c-.0896-.149-.9473-1.4704-2.887-.9218m20.5861-3.0056a1.4707 1.4707 0 0 0-.779-.5407c-.1476-.0425-.2961-.0616-.4483-.0705-.1678-.0099-.3352-.0091-.503-.0091H18.648l-4.3891-7.817c-.6655.7005-.9632 1.485-1.0773 2.1976-.1655 1.0333.0367 2.0934.546 3.0004l5.2741 9.3933c.084.1494.167.299.2591.4435.0837.131.1739.2537.2836.364.231.2323.5238.3809.8449.4232.3192.0424.643-.0244.9217-.1899.2784-.1653.4968-.4204.621-.7257.1246-.3072.146-.6425.0658-.9641-.0381-.1529-.0962-.2945-.165-.4346-.0753-.1543-.1598-.303-.2438-.4524l-1.216-2.1662h1.596c.1677 0 .3351.0009.5029-.009.1522-.009.3007-.028.4483-.0705a1.4707 1.4707 0 0 0 .779-.5407A1.5386 1.5386 0 0 0 24 16.452a1.539 1.539 0 0 0-.3009-.9158Z"},child:[]}]})(r)}function mw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.49 6.49 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854zM6.53 15.734a3.837 3.837 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777.208 0 .416.017.624.043 2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734zm11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734.208-.026.416-.043.624-.043 2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777zm1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183h1.206zM4.246 12.498H7.82v-1.125H4.245v1.125z"},child:[]}]})(r)}function yw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3.8672 1.0527v.0157L0 3.3848v17.914l3.8965-2.332h18.3398V2.3301c0-.702-.5773-1.2774-1.2793-1.2774H3.8672zm7.5058 4.0098h3.3008l2.9844 9.9512h-2.5879l-.5683-2.1895h-2.9844l-.5703 2.1621h-2.416l2.8417-9.9238zm11.8633.0273v14.877H4.172l-2.0684 1.2383v.4648c0 .702.5793 1.2774 1.2813 1.2774H24V5.0898h-.7637zM12.9668 6.6816l-.9941 4.3243h2.0468l-1.0527-4.3243z"},child:[]}]})(r)}function bw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.8337 8.1013a13.9123 13.9123 0 0 1-13.6424 11.72 10.1053 10.1053 0 0 1-1.994-.121 6.111 6.111 0 0 1-5.0824-5.7607 5.9344 5.9344 0 0 1 11.867-.0838c.025.9835-.4011 1.8464-1.277 1.8713-.9356 0-1.3742-.6677-1.3742-1.5674v-2.5001a1.5313 1.5313 0 0 0-1.5196-1.5328H8.7152a3.6481 3.6481 0 1 0 2.6948 6.0794l.0733-.1093.0734.1213a2.5807 2.5807 0 0 0 2.2007 1.0479 2.9088 2.9088 0 0 0 2.6947-3.0406 7.912 7.912 0 0 0-.217-1.9324 7.4043 7.4043 0 0 0-14.6395 1.6033 7.4971 7.4971 0 0 0 7.307 7.4043s.549.05 1.1677.0357a15.8029 15.8029 0 0 0 8.4747-2.5283c.036-.025.0719.025.048.0614a12.4392 12.4392 0 0 1-9.6901 3.9625A8.7442 8.7442 0 0 1 .003 13.8603a9.049 9.049 0 0 1 3.6349-7.2471 8.8634 8.8634 0 0 1 5.229-1.7262h2.813a7.9145 7.9145 0 0 0 5.8386-2.5777.1093.1093 0 0 1 .0594-.034.1115.1115 0 0 1 .1195.0522.113.113 0 0 1 .0155.0672 7.9345 7.9345 0 0 1-1.2274 3.5493.1075.1075 0 0 0-.0132.0609.1098.1098 0 0 0 .0724.0945.109.109 0 0 0 .0619.0033 8.5054 8.5054 0 0 0 5.9134-4.876.1554.1554 0 0 1 .0546-.0527.1497.1497 0 0 1 .147 0 .1535.1535 0 0 1 .0546.0527 10.779 10.779 0 0 1 1.0575 6.8746zm-14.9383 3.527a2.188 2.188 0 1 0 2.1877 2.1878v-2.0425a.1577.1577 0 0 0-.1497-.1497Z"},child:[]}]})(r)}function vw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.394 6c-.167-.29-.398-.543-.652-.69L12.926.22c-.509-.294-1.34-.294-1.848 0L2.26 5.31c-.508.293-.923 1.013-.923 1.6v10.18c0 .294.104.62.271.91.167.29.398.543.652.69l8.816 5.09c.508.293 1.34.293 1.848 0l8.816-5.09c.254-.147.485-.4.652-.69.167-.29.27-.616.27-.91V6.91c.003-.294-.1-.62-.268-.91zM12 19.11c-3.92 0-7.109-3.19-7.109-7.11 0-3.92 3.19-7.11 7.11-7.11a7.133 7.133 0 016.156 3.553l-3.076 1.78a3.567 3.567 0 00-3.08-1.78A3.56 3.56 0 008.444 12 3.56 3.56 0 0012 15.555a3.57 3.57 0 003.08-1.778l3.078 1.78A7.135 7.135 0 0112 19.11zm7.11-6.715h-.79v.79h-.79v-.79h-.79v-.79h.79v-.79h.79v.79h.79zm2.962 0h-.79v.79h-.79v-.79h-.79v-.79h.79v-.79h.79v.79h.79z"},child:[]}]})(r)}function Sw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.5 0h21l-1.91 21.563L11.977 24l-8.565-2.438L1.5 0zm17.09 4.413L5.41 4.41l.213 2.622 10.125.002-.255 2.716h-6.64l.24 2.573h6.182l-.366 3.523-2.91.804-2.956-.81-.188-2.11h-2.61l.29 3.855L12 19.288l5.373-1.53L18.59 4.414z"},child:[]}]})(r)}function Aw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.018 13.298l-3.919 2.218-3.515-3.493 3.543-3.521 3.891 2.202a1.49 1.49 0 0 1 0 2.594zM1.337.924a1.486 1.486 0 0 0-.112.568v21.017c0 .217.045.419.124.6l11.155-11.087L1.337.924zm12.207 10.065l3.258-3.238L3.45.195a1.466 1.466 0 0 0-.946-.179l11.04 10.973zm0 2.067l-11 10.933c.298.036.612-.016.906-.183l13.324-7.54-3.23-3.21z"},child:[]}]})(r)}function ww(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"},child:[]}]})(r)}function xw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},child:[]}]})(r)}function Ew(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.8992.8525C8.735.8525 6.17 3.4175 6.17 6.5817c0 2.102 1.1321 3.9398 2.8198 4.9366l1.6412-2.7849c.0411-.0699.0176-.1593-.0495-.2048-.6233-.4227-1.0328-1.137-1.0328-1.947 0-1.298 1.0524-2.3504 2.3505-2.3504 1.2981 0 2.3505 1.0524 2.3505 2.3505 0 .8098-.4095 1.5242-1.0328 1.947-.0671.0454-.0907.1348-.0495.2047l1.6414 2.785c1.6878-.9969 2.8199-2.8346 2.8199-4.9367 0-3.1642-2.5653-5.7292-5.7295-5.7292zm-6.17 10.8366C2.565 11.6891 0 14.2541 0 17.4183c0 3.1642 2.565 5.7292 5.7292 5.7292 3.1798 0 5.8074-2.6995 5.7275-5.8762H8.2313c-.0847 0-.1513.0717-.1519.1564-.0082 1.266-1.0644 2.3411-2.3502 2.3411-1.2981 0-2.3505-1.0524-2.3505-2.3505 0-1.2982 1.0524-2.3505 2.3505-2.3505.34 0 .663.0724.9547.2022.0713.0318.1566.0077.1962-.0595l1.6464-2.7935c-.8273-.4636-1.7815-.7279-2.7973-.7279zm15.4424.7614l-1.6366 2.7878c-.041.07-.0172.1594.05.2048.624.4217 1.0348 1.1354 1.0363 1.9452.0022 1.298-1.0483 2.352-2.3465 2.3542-1.298.0023-2.3523-1.0482-2.3545-2.3462-.0015-.8098.4068-1.5248 1.0294-1.9486.067-.0457.0905-.1353.0492-.2051l-1.6464-2.7818c-1.6859.9998-2.8146 2.8394-2.811 4.9415.0056 3.1641 2.575 5.7248 5.7393 5.7192 3.1641-.0054 5.7246-2.575 5.7192-5.7392-.0037-2.1022-1.139-3.938-2.8284-4.9318z"},child:[]}]})(r)}function Cw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"},child:[]}]})(r)}function _w(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m19.8955 10.8961-.1726-.3028c.0068-2.1746-1.0022-3.061-2.1788-3.7348.356-.0938.7237-.1711.8245-.6182.6118-.1566.7397-.4398.8011-.7398.16-.1066.6955-.4061.6394-.9211.2998-.2069.4669-.4725.3819-.8487.3222-.3515.407-.6419.2702-.9096.3868-.4805.2152-.7295.05-.9817.2897-.5254.0341-1.0887-.7758-.9944-.3221-.4733-1.0244-.3659-1.133-.3637-.1215-.1519-.2819-.2821-.7755-.219-.3197-.2851-.6771-.2364-1.0458-.0964-.4378-.3403-.7275-.0675-1.0584.0356-.53-.1706-.6513.0631-.9117.1583-.5781-.1203-.7538.1416-1.0309.4182l-.3224-.0063c-.8719.5061-1.305 1.5366-1.4585 2.0664-.1536-.5299-.5858-1.5604-1.4575-2.0664l-.3223.0063C9.942.5014 9.7663.2394 9.1883.3597 8.9279.2646 8.807.0309 8.2766.2015c-.2172-.0677-.417-.2084-.6522-.2012l.0004.0002C7.5017.0041 7.369.049 7.2185.166c-.3688-.1401-.7262-.1887-1.0459.0964-.4936-.0631-.654.0671-.7756.219C5.2887.4791 4.5862.3717 4.264.845c-.8096-.0943-1.0655.4691-.7756.9944-.1653.2521-.3366.5013.05.9819-.1367.2677-.0519.5581.2703.9096-.085.3763.0822.6418.3819.8487-.0561.515.4795.8144.6394.9211.0614.3001.1894.5832.8011.7398.1008.4472.4685.5244.8245.6183-1.1766.6737-2.1856 1.56-2.1788 3.7348l-.1724.3028c-1.3491.8082-2.5629 3.4056-.6648 5.5167.124.6609.3319 1.1355.5171 1.6609.2769 2.117 2.0841 3.1082 2.5608 3.2255.6984.524 1.4423 1.0212 2.449 1.3696.949.964 1.977 1.3314 3.0107 1.3308.0152 0 .0306.0002.0457 0 1.0337.0006 2.0618-.3668 3.0107-1.3308 1.0067-.3483 1.7506-.8456 2.4491-1.3696.4766-.1173 2.2838-1.1085 2.5607-3.2255.1851-.5253.3931-1 .517-1.6609 1.8981-2.1113.6843-4.7089-.6649-5.517zm-1.0386-.3715c-.0704.8759-4.6354-3.0504-3.8472-3.1808 2.1391-.3558 3.9191.896 3.8472 3.1808zm-2.0155 4.3649c-1.1481.7409-2.8025.2626-3.6953-1.0681-.8928-1.3306-.6858-3.0101.4623-3.7509 1.1481-.7409 2.8025-.2627 3.6953 1.068.8927 1.3307.6858 3.0101-.4623 3.751zM13.6591 1.3721c.0396.1967.0843.321.1354.3577.2537-.272.4611-.5506.7878-.8123.0011.1537-.0776.3205.1169.4425.1752-.2356.4119-.4459.7263-.6244-.1514.2611-.026.3404.0554.4486.24-.2059.4681-.4144.9109-.5759-.121.1474-.2902.2914-.1108.4607.2473-.1544.496-.3086 1.0833-.4183-.1323.1475-.4059.295-.2401.4426.3104-.1186.6539-.2047 1.034-.2546-.182.1496-.3337.2963-.1846.4122.3323-.1022.7899-.2398 1.2372-.1212l-.2832.2849c-.0314.0382.6623.0297 1.1202.0364-.167.2321-.3375.4562-.437.8548.0454.0459.2723.0204.4862 0-.2194.4618-.6004.5783-.6893.776.134.1015.32.075.5232.006-.158.3254-.4892.5484-.7509.8123.0662.047.1818.075.4555.0425-.2418.257-.5339.492-.8802.7032.0614.0708.2722.0681.4678.0727-.3136.3069-.7173.466-1.0955.6668.1885.1288.3234.0988.4678.097-.2676.2198-.7225.3342-1.1448.4668.0803.1249.1607.1589.3324.194-.447.2473-1.0873.1343-1.2679.2607.0435.1243.1665.2053.3139.2728-.7197.0418-2.6879-.0262-3.0652-1.5156.7367-.8094 2.0813-1.7593 4.394-2.934-1.7994.6022-3.4229 1.405-4.7817 2.5096-1.5978-.7436-.4965-2.6197.283-3.3645zm-1.6126 5.3718c1.1329-.0123 2.5356.8325 2.53 1.6286-.005.7027-.9851 1.2715-2.5213 1.2607-1.5043-.0177-2.5172-.7148-2.5137-1.3957.003-.5603 1.2282-1.5263 2.505-1.4936zm-5.7646-.6006c.1717-.0351.252-.0692.3323-.194-.4223-.1327-.8772-.247-1.1448-.4668.1444.0018.2792.0318.4678-.097-.3783-.2008-.782-.3599-1.0956-.6668.1955-.0048.4064-.002.4677-.0728-.3462-.2113-.6383-.4463-.8801-.7033.2738.0325.3893.0045.4555-.0425-.2617-.264-.593-.487-.7509-.8123.2032.069.3892.0954.5232-.006-.089-.1977-.47-.3142-.6894-.776.214.0204.4409.0459.4863 0-.0994-.3985-.2698-.6226-.4369-.8547.4579-.0067 1.1516.0018 1.1202-.0364l-.2831-.2849c.4472-.1186.9049.019 1.2371.1213.1492-.1159-.0026-.2626-.1847-.4123.3801.05.7236.1361 1.034.2547.1659-.1476-.1076-.2951-.24-.4426.5872.1097.8361.2639 1.0833.4183.1794-.1694.0103-.3133-.1108-.4607.4428.1615.6709.37.911.5759.0814-.1082.2068-.1875.0554-.4486.3143.1785.5511.3888.7263.6244.1945-.122.1159-.2888.1169-.4426.3267.2618.534.5404.7879.8124.0511-.0366.0959-.161.1354-.3577.7794.7448 1.8807 2.6208.2831 3.3646-1.3589-1.1039-2.9817-1.9064-4.78-2.5086 2.3115 1.174 3.6556 2.1239 4.392 2.9328-.3773 1.4895-2.3455 1.5575-3.0651 1.5157.1473-.0676.2703-.1485.3139-.2728-.1806-.1264-.8209-.0134-1.2679-.2607zm2.8175 1.1334c.7881.1304-3.7769 4.0567-3.8472 3.1809-.0719-2.2846 1.7079-3.5367 3.8472-3.1809zm-4.847 8.7567c-1.1094-.8789-1.4668-3.4529.5901-4.6097 1.2394-.3273.4184 5.051-.5901 4.6097zm4.2656 4.5989c-.6257.3719-2.1452.2187-3.2252-1.3095-.7283-1.2823-.6345-2.5872-.123-2.9705.7648-.4589 1.9464.1609 2.8559 1.2003.7923.9405 1.1536 2.5927.4923 3.0797zm-1.2415-5.6086c-1.1481-.7409-1.3551-2.4203-.4623-3.7511.8928-1.3307 2.5472-1.8089 3.6952-1.068 1.1481.7409 1.3551 2.4203.4623 3.7509-.8926 1.3308-2.5471 1.809-3.6952 1.0682zm4.7948 8.2279c-1.3763.0584-2.7258-1.1105-2.7081-1.5157-.0206-.594 1.6758-1.0578 2.782-1.0306 1.1131-.0479 2.6068.3531 2.6097.8851.0184.5166-1.3547 1.6838-2.6836 1.6612zm2.7584-5.8578c.0081 1.3899-1.226 2.5225-2.7562 2.5299-1.5302.0073-2.7773-1.1135-2.7854-2.5033v-.0265c-.008-1.3899 1.2259-2.5226 2.7562-2.5299 1.5302-.0073 2.7773 1.1134 2.7853 2.5033a.7794.7794 0 0 1 .0001.0265zm3.855 2.0029c-1.186 1.6208-2.7916 1.684-3.3896 1.2325-.6255-.5811-.148-2.3854.7094-3.3747v-.0003c.9812-1.0912 2.0302-1.8037 2.7609-1.2469.4919.4828.7805 2.3008-.0807 3.3894zm1.0724-3.4301c-1.0086.4413-1.8298-4.9372-.5901-4.61 2.0568 1.1569 1.6994 3.731.5901 4.61zm-.0256-8.3279h.2985v-.5304h.2986c.1502 0 .2053.0624.2262.2052.0152.1088.0113.2395.0477.3253h.2984c-.0533-.0763-.0515-.2358-.0571-.3213-.0097-.1373-.0513-.2796-.1977-.3176v-.0037c.1502-.061.2149-.1807.2149-.341 0-.2048-.1539-.3738-.3974-.3738h-.732v1.3573zm.2985-1.1255h.3269c.1333 0 .2054.0573.2054.188 0 .1369-.0721.1942-.2054.1942H20.03v-.3822zm-1.0337.4633c0 .7009.5682 1.2694 1.2695 1.2694s1.2695-.5684 1.2695-1.2694c0-.7013-.5683-1.2697-1.2695-1.2697-.7013 0-1.2695.5684-1.2695 1.2697zm2.3275 0c0 .5845-.4737 1.058-1.058 1.058s-1.058-.4735-1.058-1.058c0-.5849.4737-1.058 1.058-1.058s1.058.4731 1.058 1.058z"},child:[]}]})(r)}function Tw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z"},child:[]}]})(r)}function Rw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.508 0c-.287 0-.573 0-.86.002-.241.002-.483.003-.724.01-.132.003-.263.009-.395.015A9.154 9.154 0 0 0 4.348.15 5.492 5.492 0 0 0 2.85.645 5.04 5.04 0 0 0 .645 2.848c-.245.48-.4.972-.495 1.5-.093.52-.122 1.05-.136 1.576a35.2 35.2 0 0 0-.012.724C0 6.935 0 7.221 0 7.508v8.984c0 .287 0 .575.002.862.002.24.005.481.012.722.014.526.043 1.057.136 1.576.095.528.25 1.02.495 1.5a5.03 5.03 0 0 0 2.205 2.203c.48.244.97.4 1.498.495.52.093 1.05.124 1.576.138.241.007.483.009.724.01.287.002.573.002.86.002h8.984c.287 0 .573 0 .86-.002.241-.001.483-.003.724-.01a10.523 10.523 0 0 0 1.578-.138 5.322 5.322 0 0 0 1.498-.495 5.035 5.035 0 0 0 2.203-2.203c.245-.48.4-.972.495-1.5.093-.52.124-1.05.138-1.576.007-.241.009-.481.01-.722.002-.287.002-.575.002-.862V7.508c0-.287 0-.573-.002-.86a33.662 33.662 0 0 0-.01-.724 10.5 10.5 0 0 0-.138-1.576 5.328 5.328 0 0 0-.495-1.5A5.039 5.039 0 0 0 21.152.645 5.32 5.32 0 0 0 19.654.15a10.493 10.493 0 0 0-1.578-.138 34.98 34.98 0 0 0-.722-.01C17.067 0 16.779 0 16.492 0H7.508zm6.035 3.41c4.114 2.47 6.545 7.162 5.549 11.131-.024.093-.05.181-.076.272l.002.001c2.062 2.538 1.5 5.258 1.236 4.745-1.072-2.086-3.066-1.568-4.088-1.043a6.803 6.803 0 0 1-.281.158l-.02.012-.002.002c-2.115 1.123-4.957 1.205-7.812-.022a12.568 12.568 0 0 1-5.64-4.838c.649.48 1.35.902 2.097 1.252 3.019 1.414 6.051 1.311 8.197-.002C9.651 12.73 7.101 9.67 5.146 7.191a10.628 10.628 0 0 1-1.005-1.384c2.34 2.142 6.038 4.83 7.365 5.576C8.69 8.408 6.208 4.743 6.324 4.86c4.436 4.47 8.528 6.996 8.528 6.996.154.085.27.154.36.213.085-.215.16-.437.224-.668.708-2.588-.09-5.548-1.893-7.992z"},child:[]}]})(r)}function kw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.292 5.856L11.54 0v24l-4.095-2.378V7.603l-6.168 3.564.015-5.31zm21.43 5.311l-.014-5.31L12.46 0v24l4.095-2.378V14.87l3.092 1.788-.018-4.618-3.074-1.756V7.603l6.168 3.564z"},child:[]}]})(r)}function Mw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m8.286 10.578.512-8.657a.306.306 0 0 1 .247-.282L17.377.006a.306.306 0 0 1 .353.385l-1.558 5.403a.306.306 0 0 0 .352.385l2.388-.46a.306.306 0 0 1 .332.438l-6.79 13.55-.123.19a.294.294 0 0 1-.252.14c-.177 0-.35-.152-.305-.369l1.095-5.301a.306.306 0 0 0-.388-.355l-1.433.435a.306.306 0 0 1-.389-.354l.69-3.375a.306.306 0 0 0-.37-.36l-2.32.536a.306.306 0 0 1-.374-.316zm14.976-7.926L17.284 3.74l-.544 1.887 2.077-.4a.8.8 0 0 1 .84.369.8.8 0 0 1 .034.783L12.9 19.93l-.013.025-.015.023-.122.19a.801.801 0 0 1-.672.37.826.826 0 0 1-.634-.302.8.8 0 0 1-.16-.67l1.029-4.981-1.12.34a.81.81 0 0 1-.86-.262.802.802 0 0 1-.165-.67l.63-3.08-2.027.468a.808.808 0 0 1-.768-.233.81.81 0 0 1-.217-.6l.389-6.57-7.44-1.33a.612.612 0 0 0-.64.906L11.58 23.691a.612.612 0 0 0 1.066-.004l11.26-20.135a.612.612 0 0 0-.644-.9z"},child:[]}]})(r)}function Dw(r){return Zt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},child:[]}]})(r)}function Lw(r){return Zt({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#43A047",points:"40.6,12.1 17,35.7 7.4,26.1 4.6,29 17,41.3 43.4,14.9"},child:[]}]})(r)}function Ow(r){return Zt({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FF9800",d:"M44,18v-4H34V4h-4v10h-4V4h-4v10h-4V4h-4v10H4v4h10v4H4v4h10v4H4v4h10v10h4V34h4v10h4V34h4v10h4V34h10v-4H34 v-4h10v-4H34v-4H44z"},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:"M8,12v24c0,2.2,1.8,4,4,4h24c2.2,0,4-1.8,4-4V12c0-2.2-1.8-4-4-4H12C9.8,8,8,9.8,8,12z"},child:[]},{tag:"path",attr:{fill:"#37474F",d:"M31,31H17c-1.1,0-2-0.9-2-2V19c0-1.1,0.9-2,2-2h14c1.1,0,2,0.9,2,2v10C33,30.1,32.1,31,31,31z"},child:[]}]})(r)}function Nw(r){return Zt({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#CFD8DC",d:"M38.4,13L24.1,6.4L4.6,12.1l8.8,13.2l-2.2,15.1h22.7l6.6-13.3L38.4,13z M32.1,37.5H14.7l1.8-12.9L9.4,13.9 l14.5-4.3L35.6,15l1.8,11.7L32.1,37.5z"},child:[]},{tag:"g",attr:{fill:"#00BCD4"},child:[{tag:"circle",attr:{cx:"24",cy:"8",r:"4"},child:[]},{tag:"circle",attr:{cx:"37",cy:"14",r:"4"},child:[]},{tag:"circle",attr:{cx:"39",cy:"27",r:"4"},child:[]},{tag:"circle",attr:{cx:"7",cy:"13",r:"4"},child:[]},{tag:"circle",attr:{cx:"13",cy:"39",r:"4"},child:[]},{tag:"circle",attr:{cx:"15",cy:"25",r:"4"},child:[]},{tag:"circle",attr:{cx:"33",cy:"39",r:"4"},child:[]}]}]})(r)}function Pw(r){return Zt({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3702 13.6799L11.3702 1.67989C11.3006 1.47291 11.1652 1.29438 10.9846 1.17159C10.804 1.0488 10.5882 0.988513 10.3702 0.999896H5.63017C5.42052 0.999354 5.21598 1.0647 5.04551 1.18672C4.87504 1.30875 4.74724 1.48127 4.68015 1.67989L0.630165 13.6799C0.577646 13.8346 0.56382 13.9998 0.589943 14.1611C0.616066 14.3225 0.681335 14.4749 0.780007 14.6052C0.878678 14.7354 1.00778 14.8395 1.15598 14.9083C1.30419 14.9771 1.46699 15.0086 1.63017 14.9999H4.56016C4.76809 14.9984 4.97035 14.932 5.13883 14.8101C5.30731 14.6883 5.43363 14.5169 5.50016 14.3199L6.11015 12.5399L9.11015 14.8099C9.28448 14.9362 9.49495 15.0028 9.71018 14.9999H14.3902C14.5517 15.0052 14.7121 14.9712 14.8576 14.901C15.0032 14.8307 15.1295 14.7263 15.2259 14.5965C15.3222 14.4668 15.3856 14.3156 15.4107 14.156C15.4359 13.9963 15.422 13.833 15.3702 13.6799ZM9.75016 14.3399C9.67748 14.3399 9.60693 14.3153 9.55015 14.2699L3.90018 10.0799L3.81016 10.0099H6.81016L6.89017 9.79988L7.89017 7.26988L10.1302 13.8999C10.1482 13.9555 10.1515 14.0148 10.1399 14.072C10.1283 14.1293 10.1022 14.1826 10.064 14.2269C10.0258 14.2711 9.97689 14.3047 9.92191 14.3245C9.86694 14.3443 9.80778 14.3496 9.75016 14.3399V14.3399ZM14.4201 14.3399H10.7002C10.7749 14.1262 10.7749 13.8935 10.7002 13.6799L6.65018 1.67989H10.3702C10.4408 1.68024 10.5095 1.70258 10.5669 1.74379C10.6242 1.78501 10.6673 1.84308 10.6902 1.9099L14.7402 13.9099C14.7538 13.9597 14.756 14.012 14.7464 14.0628C14.7369 14.1136 14.7159 14.1615 14.6851 14.203C14.6542 14.2444 14.6144 14.2783 14.5685 14.302C14.5226 14.3257 14.4718 14.3387 14.4201 14.3399V14.3399Z"},child:[]}]})(r)}function Bw(r){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm3.163 21.783h-.093a.513.513 0 0 1-.382-.14.513.513 0 0 1-.14-.372v-1.406c.006-.467.01-.94.01-1.416a3.693 3.693 0 0 0-.151-1.028 1.832 1.832 0 0 0-.542-.875 8.014 8.014 0 0 0 2.038-.471 4.051 4.051 0 0 0 1.466-.964c.407-.427.71-.943.885-1.506a6.77 6.77 0 0 0 .3-2.13 4.138 4.138 0 0 0-.26-1.476 3.892 3.892 0 0 0-.795-1.284 2.81 2.81 0 0 0 .162-.582c.033-.2.05-.402.05-.604 0-.26-.03-.52-.09-.773a5.309 5.309 0 0 0-.221-.763.293.293 0 0 0-.111-.02h-.11c-.23.002-.456.04-.674.111a5.34 5.34 0 0 0-.703.26 6.503 6.503 0 0 0-.661.343c-.215.127-.405.249-.573.362a9.578 9.578 0 0 0-5.143 0 13.507 13.507 0 0 0-.572-.362 6.022 6.022 0 0 0-.672-.342 4.516 4.516 0 0 0-.705-.261 2.203 2.203 0 0 0-.662-.111h-.11a.29.29 0 0 0-.11.02 5.844 5.844 0 0 0-.23.763c-.054.254-.08.513-.081.773 0 .202.017.404.051.604.033.199.086.394.16.582A3.888 3.888 0 0 0 5.702 10a4.142 4.142 0 0 0-.263 1.476 6.871 6.871 0 0 0 .292 2.12c.181.563.483 1.08.884 1.516.415.422.915.75 1.466.964.653.25 1.337.41 2.033.476a1.828 1.828 0 0 0-.452.633 2.99 2.99 0 0 0-.2.744 2.754 2.754 0 0 1-1.175.27 1.788 1.788 0 0 1-1.065-.3 2.904 2.904 0 0 1-.752-.824 3.1 3.1 0 0 0-.292-.382 2.693 2.693 0 0 0-.372-.343 1.841 1.841 0 0 0-.432-.24 1.2 1.2 0 0 0-.481-.101c-.04.001-.08.005-.12.01a.649.649 0 0 0-.162.02.408.408 0 0 0-.13.06.116.116 0 0 0-.06.1.33.33 0 0 0 .14.242c.093.074.17.131.232.171l.03.021c.133.103.261.214.382.333.112.098.213.209.3.33.09.119.168.246.231.381.073.134.15.288.231.463.188.474.522.875.954 1.145.453.243.961.364 1.476.351.174 0 .349-.01.522-.03.172-.028.343-.057.515-.091v1.743a.5.5 0 0 1-.533.521h-.062a10.286 10.286 0 1 1 6.324 0v.005z"},child:[]}]})(r)}function zw(r){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3h-16a1 1 0 0 0 -1 1v2.227l.008 .223a3 3 0 0 0 .772 1.795l4.22 4.641v8.114a1 1 0 0 0 1.316 .949l6 -2l.108 -.043a1 1 0 0 0 .576 -.906v-6.586l4.121 -4.12a3 3 0 0 0 .879 -2.123v-2.171a1 1 0 0 0 -1 -1z"},child:[]}]})(r)}function Iw(r){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M7 9h1.5a1.5 1.5 0 0 1 0 3h-.5h.5a1.5 1.5 0 0 1 0 3h-1.5"},child:[]},{tag:"path",attr:{d:"M14 9v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2z"},child:[]}]})(r)}function Fw(r){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 9a3 3 0 0 0 -3 -3h-.5a3.5 3.5 0 0 0 -3.5 3.5v5a3.5 3.5 0 0 0 3.5 3.5h.5a3 3 0 0 0 3 -3"},child:[]},{tag:"path",attr:{d:"M16 7l-1 10"},child:[]},{tag:"path",attr:{d:"M20 7l-1 10"},child:[]},{tag:"path",attr:{d:"M14 10h7.5"},child:[]},{tag:"path",attr:{d:"M21 14h-7.5"},child:[]}]})(r)}function Uw(r){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12v-4.01a1.98 1.98 0 0 0 -1 -1.717l-7 -4.008a2.02 2.02 0 0 0 -2 0l-7 4.008c-.619 .355 -1 1.01 -1 1.718v8.018c0 .709 .381 1.363 1 1.717l7 4.008c.62 .354 1.38 .354 2 0"},child:[]},{tag:"path",attr:{d:"M12 22v-10"},child:[]},{tag:"path",attr:{d:"M12 12l8.73 -5.04"},child:[]},{tag:"path",attr:{d:"M3.27 6.96l8.73 5.04"},child:[]},{tag:"path",attr:{d:"M19 22.5a4.75 4.75 0 0 1 3.5 -3.5a4.75 4.75 0 0 1 -3.5 -3.5a4.75 4.75 0 0 1 -3.5 3.5a4.75 4.75 0 0 1 3.5 3.5"},child:[]}]})(r)}function Hw(r){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969"},child:[]},{tag:"path",attr:{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554"},child:[]},{tag:"path",attr:{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592"},child:[]},{tag:"path",attr:{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305"},child:[]},{tag:"path",attr:{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356"},child:[]}]})(r)}function jw(r){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z"},child:[]},{tag:"path",attr:{d:"M17 8v8h4"},child:[]},{tag:"path",attr:{d:"M13 15l1 1"},child:[]},{tag:"path",attr:{d:"M3 15a1 1 0 0 0 1 1h2a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1h-2a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1"},child:[]}]})(r)}const zy=[{id:1,projectName:"Gymificient",technologyUsed:["Python","C#","OpenCV","Blazor","Azure","SQL","CSS"],role:"Back-end Engineer, Demo Day Pitcher",blurb:"Patch 2024, actionable analytics for gyms",status:0,links:[{label:"Gymificient Website Repository",url:"https://github.com/jakubjn/Gymificient",site:"GitHub"},{label:"Gymificient Computer Vision Repository",url:"https://github.com/MacManley/gymificientCV",site:"GitHub"},{label:"Gymificient Pitch",url:"https://youtu.be/jycqwSAHBu0?feature=shared",site:"Youtube"},{label:"Gymificient Announcement Post",url:"https://www.linkedin.com/posts/nathan-manley_over-the-last-6-weeks-of-patch-we-have-been-activity-7227266750562652160-L9se",site:"LinkedIn"}],year:2024},{id:1e3,projectName:"UCC Rocketry - Cerberus",technologyUsed:["Raspberry Pi","ESP32/ESP8266","C++","Arduino"],role:"CanSat Lead, Hardware Avionics Member",blurb:"UCC Rocketry and Space Exploration Society",status:1,links:[],year:[2025,2026]},{id:2,projectName:"GCC CanSat 2024",technologyUsed:["3D Printing","Fusion 360","ESP32/ESP8266","Arduino","C++","Tensorflow","Python"],role:"Lead 3D Design/Printing, Lead ML Engineer",blurb:"Glanmire Community College 2024 CanSat",status:0,links:[{label:"CanSat 2024 Repository",url:"https://github.com/MacManley/cansat/tree/main/2024",site:"GitHub"}],year:2024},{id:3,projectName:"GCC CanSat 2023",technologyUsed:["3D Printing","Arduino","C++"],role:"Lead Programmer, Lead 3D Printing",blurb:"Glanmire Community College 2023 CanSat",status:0,links:[{label:"CanSat 2023 Repository",url:"https://github.com/MacManley/cansat/tree/main/2023",site:"GitHub"}],year:2023},{id:6,projectName:"OnSite",technologyUsed:["Swift"],role:"",blurb:"A mobile app for site photos and information",status:2,links:[],year:[2025,2026]},{id:5,projectName:"UDP Telemetry Parsers",technologyUsed:["C++","ESP32/ESP8266","Arduino","Python","Javascript"],role:"",blurb:"Parsing UDP telemetry from racing video games",status:0,links:[{label:"ESP8266/ESP32 Libraries Collection",url:"https://github.com/stars/MacManley/lists/esp32-esp8266-udp-telemetry",site:"GitHub"},{label:"GT7 UDP Plotly Visualiser",url:"https://github.com/MacManley/gt7-track-visualizer",site:"GitHub"},{label:"GT7 Sport Mode Leaderboard Scraper",url:"https://github.com/MacManley/gt7-leaderboards",site:"GitHub"}],year:[2023,2024,2025]},{id:4,projectName:"Portfolio Site",technologyUsed:["React","Javascript","CSS","Vite"],role:"",blurb:"Website to showcase projects and experience",status:1,links:[{label:"Website Repository",url:"",site:"GitHub"}],year:[2025,2026]},{id:67,projectName:"Ender 3V2 AMS",technologyUsed:["Raspberry Pi","Fusion 360","3D Printing"],role:"",blurb:"Custom Automatic Material System using Klipper",status:2,links:[],year:2026}],Gr={Python:N.jsx(Cw,{color:"#3776AB"}),Javascript:N.jsx(ww,{color:"#F7DF1E"}),"C++":N.jsx(vw,{color:"#00599C"}),"C#":N.jsx(Fw,{color:"#9179E4"}),OpenCV:N.jsx(Ew,{color:"#5C3EE8"}),Tensorflow:N.jsx(kw,{color:"#ff5e00ff"}),Arduino:N.jsx(mw,{color:"#00979D"}),Blazor:N.jsx(bw,{color:"#512BD4"}),React:N.jsx(Tw,{color:"#61DAFB"}),Vite:N.jsx(Mw,{color:"#DFC5FE"}),Azure:N.jsx(Pw,{color:"#3CCBF4"}),SQL:N.jsx(jw,{}),Swift:N.jsx(Rw,{color:"#FFAC45"}),CSS:N.jsx(Sw,{color:"#00599C"}),"Fusion 360":N.jsx(yw,{color:"#ed742e"}),Solidworks:N.jsx(Uw,{color:"#9e0000ff"}),"3D Printing":N.jsx(Iw,{}),"ESP32/ESP8266":N.jsx(Ow,{}),Complete:N.jsx(Lw,{}),Ongoing:N.jsx(Nw,{}),"Work In Progress":N.jsx(Hw,{}),GitHub:N.jsx(Bw,{}),Youtube:N.jsx(Dw,{}),LinkedIn:N.jsx(xw,{}),App:N.jsx(gw,{}),Play:N.jsx(Aw,{}),"Raspberry Pi":N.jsx(_w,{color:"#f70531"})},Od=["Complete","Ongoing","Work In Progress"],Iy={0:"#2d5a2d",1:"#2d4a5a",2:"#5a4a2d"};function Vw({selectedTechnology:r,setSelectedTechnology:t}){const[e,n]=I.useState(!1),a=I.useRef(null);var o=[];zy.forEach(c=>{c.technologyUsed.forEach(d=>{o.includes(d)||o.push(d)})});function l(c){t(c===r?null:c),n(!1)}return I.useEffect(()=>{function c(d){a.current&&!a.current.contains(d.target)&&n(!1)}return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),N.jsxs("div",{className:"dropdown",ref:a,children:[N.jsxs("button",{className:"button-main",onClick:()=>n(!e),children:[N.jsx("span",{children:"Technologies"}),N.jsxs("span",{children:[" ",N.jsx(zw,{color:"#FFEE8C"})]})]}),e&&N.jsx("div",{className:"dropdown-menu",children:o.sort().map(c=>N.jsxs("div",{className:`dropdown-item ${r==c?"dropdown-item-active":""}`,onClick:()=>l(c),children:[N.jsx("span",{children:c}),N.jsxs("span",{children:["     ",Gr[c]||"n"]})]},c))})]})}function Gw({selectedStatus:r,setSelectedStatus:t}){return N.jsx(N.Fragment,{children:Od.map((e,n)=>N.jsx("div",{className:"dropdown",children:N.jsxs("button",{className:"button-main",onClick:()=>t(r===e?null:e),style:{backgroundColor:r===e?Iy[n]:"black"},children:[N.jsx("span",{children:e}),N.jsxs("span",{children:[" ",Gr[e]]})]})},e))})}function qw(r,t){const e={};return(r[r.length-1]===""?[...r,""]:r).join((e.padRight?" ":"")+","+(e.padLeft===!1?"":" ")).trim()}const Xw=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Yw=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$w={};function Z0(r,t){return($w.jsx?Yw:Xw).test(r)}const Kw=/[ \t\n\f\r]/g;function Ww(r){return typeof r=="object"?r.type==="text"?J0(r.value):!1:J0(r)}function J0(r){return r.replace(Kw,"")===""}class Mo{constructor(t,e,n){this.normal=e,this.property=t,n&&(this.space=n)}}Mo.prototype.normal={};Mo.prototype.property={};Mo.prototype.space=void 0;function Fy(r,t){const e={},n={};for(const a of r)Object.assign(e,a.property),Object.assign(n,a.normal);return new Mo(e,n,t)}function Nd(r){return r.toLowerCase()}class cn{constructor(t,e){this.attribute=e,this.property=t}}cn.prototype.attribute="";cn.prototype.booleanish=!1;cn.prototype.boolean=!1;cn.prototype.commaOrSpaceSeparated=!1;cn.prototype.commaSeparated=!1;cn.prototype.defined=!1;cn.prototype.mustUseProperty=!1;cn.prototype.number=!1;cn.prototype.overloadedBoolean=!1;cn.prototype.property="";cn.prototype.spaceSeparated=!1;cn.prototype.space=void 0;let Qw=0;const kt=Us(),Ce=Us(),Pd=Us(),ot=Us(),ie=Us(),Br=Us(),Sn=Us();function Us(){return 2**++Qw}const Bd=Object.freeze(Object.defineProperty({__proto__:null,boolean:kt,booleanish:Ce,commaOrSpaceSeparated:Sn,commaSeparated:Br,number:ot,overloadedBoolean:Pd,spaceSeparated:ie},Symbol.toStringTag,{value:"Module"})),ud=Object.keys(Bd);class uf extends cn{constructor(t,e,n,a){let o=-1;if(super(t,e),t1(this,"space",a),typeof n=="number")for(;++o<ud.length;){const l=ud[o];t1(this,ud[o],(n&Bd[l])===Bd[l])}}}uf.prototype.defined=!0;function t1(r,t,e){e&&(r[t]=e)}function Wr(r){const t={},e={};for(const[n,a]of Object.entries(r.properties)){const o=new uf(n,r.transform(r.attributes||{},n),a,r.space);r.mustUseProperty&&r.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),t[n]=o,e[Nd(n)]=n,e[Nd(o.attribute)]=n}return new Mo(t,e,r.space)}const Uy=Wr({properties:{ariaActiveDescendant:null,ariaAtomic:Ce,ariaAutoComplete:null,ariaBusy:Ce,ariaChecked:Ce,ariaColCount:ot,ariaColIndex:ot,ariaColSpan:ot,ariaControls:ie,ariaCurrent:null,ariaDescribedBy:ie,ariaDetails:null,ariaDisabled:Ce,ariaDropEffect:ie,ariaErrorMessage:null,ariaExpanded:Ce,ariaFlowTo:ie,ariaGrabbed:Ce,ariaHasPopup:null,ariaHidden:Ce,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ie,ariaLevel:ot,ariaLive:null,ariaModal:Ce,ariaMultiLine:Ce,ariaMultiSelectable:Ce,ariaOrientation:null,ariaOwns:ie,ariaPlaceholder:null,ariaPosInSet:ot,ariaPressed:Ce,ariaReadOnly:Ce,ariaRelevant:null,ariaRequired:Ce,ariaRoleDescription:ie,ariaRowCount:ot,ariaRowIndex:ot,ariaRowSpan:ot,ariaSelected:Ce,ariaSetSize:ot,ariaSort:null,ariaValueMax:ot,ariaValueMin:ot,ariaValueNow:ot,ariaValueText:null,role:null},transform(r,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Hy(r,t){return t in r?r[t]:t}function jy(r,t){return Hy(r,t.toLowerCase())}const Zw=Wr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Br,acceptCharset:ie,accessKey:ie,action:null,allow:null,allowFullScreen:kt,allowPaymentRequest:kt,allowUserMedia:kt,alt:null,as:null,async:kt,autoCapitalize:null,autoComplete:ie,autoFocus:kt,autoPlay:kt,blocking:ie,capture:null,charSet:null,checked:kt,cite:null,className:ie,cols:ot,colSpan:null,content:null,contentEditable:Ce,controls:kt,controlsList:ie,coords:ot|Br,crossOrigin:null,data:null,dateTime:null,decoding:null,default:kt,defer:kt,dir:null,dirName:null,disabled:kt,download:Pd,draggable:Ce,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:kt,formTarget:null,headers:ie,height:ot,hidden:Pd,high:ot,href:null,hrefLang:null,htmlFor:ie,httpEquiv:ie,id:null,imageSizes:null,imageSrcSet:null,inert:kt,inputMode:null,integrity:null,is:null,isMap:kt,itemId:null,itemProp:ie,itemRef:ie,itemScope:kt,itemType:ie,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:kt,low:ot,manifest:null,max:null,maxLength:ot,media:null,method:null,min:null,minLength:ot,multiple:kt,muted:kt,name:null,nonce:null,noModule:kt,noValidate:kt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:kt,optimum:ot,pattern:null,ping:ie,placeholder:null,playsInline:kt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:kt,referrerPolicy:null,rel:ie,required:kt,reversed:kt,rows:ot,rowSpan:ot,sandbox:ie,scope:null,scoped:kt,seamless:kt,selected:kt,shadowRootClonable:kt,shadowRootDelegatesFocus:kt,shadowRootMode:null,shape:null,size:ot,sizes:null,slot:null,span:ot,spellCheck:Ce,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ot,step:null,style:null,tabIndex:ot,target:null,title:null,translate:null,type:null,typeMustMatch:kt,useMap:null,value:Ce,width:ot,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ie,axis:null,background:null,bgColor:null,border:ot,borderColor:null,bottomMargin:ot,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:kt,declare:kt,event:null,face:null,frame:null,frameBorder:null,hSpace:ot,leftMargin:ot,link:null,longDesc:null,lowSrc:null,marginHeight:ot,marginWidth:ot,noResize:kt,noHref:kt,noShade:kt,noWrap:kt,object:null,profile:null,prompt:null,rev:null,rightMargin:ot,rules:null,scheme:null,scrolling:Ce,standby:null,summary:null,text:null,topMargin:ot,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ot,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:kt,disableRemotePlayback:kt,prefix:null,property:null,results:ot,security:null,unselectable:null},space:"html",transform:jy}),Jw=Wr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Sn,accentHeight:ot,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ot,amplitude:ot,arabicForm:null,ascent:ot,attributeName:null,attributeType:null,azimuth:ot,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ot,by:null,calcMode:null,capHeight:ot,className:ie,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ot,diffuseConstant:ot,direction:null,display:null,dur:null,divisor:ot,dominantBaseline:null,download:kt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ot,enableBackground:null,end:null,event:null,exponent:ot,externalResourcesRequired:null,fill:null,fillOpacity:ot,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Br,g2:Br,glyphName:Br,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ot,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ot,horizOriginX:ot,horizOriginY:ot,id:null,ideographic:ot,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ot,k:ot,k1:ot,k2:ot,k3:ot,k4:ot,kernelMatrix:Sn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ot,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ot,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ot,overlineThickness:ot,paintOrder:null,panose1:null,path:null,pathLength:ot,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ie,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ot,pointsAtY:ot,pointsAtZ:ot,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Sn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Sn,rev:Sn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Sn,requiredFeatures:Sn,requiredFonts:Sn,requiredFormats:Sn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ot,specularExponent:ot,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ot,strikethroughThickness:ot,string:null,stroke:null,strokeDashArray:Sn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ot,strokeOpacity:ot,strokeWidth:null,style:null,surfaceScale:ot,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Sn,tabIndex:ot,tableValues:null,target:null,targetX:ot,targetY:ot,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Sn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ot,underlineThickness:ot,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ot,values:null,vAlphabetic:ot,vMathematical:ot,vectorEffect:null,vHanging:ot,vIdeographic:ot,version:null,vertAdvY:ot,vertOriginX:ot,vertOriginY:ot,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ot,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Hy}),Vy=Wr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(r,t){return"xlink:"+t.slice(5).toLowerCase()}}),Gy=Wr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:jy}),qy=Wr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(r,t){return"xml:"+t.slice(3).toLowerCase()}}),t3={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},e3=/[A-Z]/g,e1=/-[a-z]/g,n3=/^data[-\w.:]+$/i;function i3(r,t){const e=Nd(t);let n=t,a=cn;if(e in r.normal)return r.property[r.normal[e]];if(e.length>4&&e.slice(0,4)==="data"&&n3.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(e1,r3);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!e1.test(o)){let l=o.replace(e3,s3);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}a=uf}return new a(n,t)}function s3(r){return"-"+r.toLowerCase()}function r3(r){return r.charAt(1).toUpperCase()}const a3=Fy([Uy,Zw,Vy,Gy,qy],"html"),cf=Fy([Uy,Jw,Vy,Gy,qy],"svg");function o3(r){return r.join(" ").trim()}var kr={},cd,n1;function l3(){if(n1)return cd;n1=1;var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",p="*",m="",b="comment",v="declaration";cd=function(S,C){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];C=C||{};var A=1,k=1;function R(nt){var J=nt.match(t);J&&(A+=J.length);var at=nt.lastIndexOf(d);k=~at?nt.length-at:k+nt.length}function O(){var nt={line:A,column:k};return function(J){return J.position=new D(nt),H(),J}}function D(nt){this.start=nt,this.end={line:A,column:k},this.source=C.source}D.prototype.content=S;function M(nt){var J=new Error(C.source+":"+A+":"+k+": "+nt);if(J.reason=nt,J.filename=C.source,J.line=A,J.column=k,J.source=S,!C.silent)throw J}function z(nt){var J=nt.exec(S);if(J){var at=J[0];return R(at),S=S.slice(at.length),J}}function H(){z(e)}function V(nt){var J;for(nt=nt||[];J=$();)J!==!1&&nt.push(J);return nt}function $(){var nt=O();if(!(f!=S.charAt(0)||p!=S.charAt(1))){for(var J=2;m!=S.charAt(J)&&(p!=S.charAt(J)||f!=S.charAt(J+1));)++J;if(J+=2,m===S.charAt(J-1))return M("End of comment missing");var at=S.slice(2,J-2);return k+=2,R(at),S=S.slice(J),k+=2,nt({type:b,comment:at})}}function Y(){var nt=O(),J=z(n);if(J){if($(),!z(a))return M("property missing ':'");var at=z(o),P=nt({type:v,property:w(J[0].replace(r,m)),value:at?w(at[0].replace(r,m)):m});return z(l),P}}function et(){var nt=[];V(nt);for(var J;J=Y();)J!==!1&&(nt.push(J),V(nt));return nt}return H(),et()};function w(S){return S?S.replace(c,m):m}return cd}var i1;function u3(){if(i1)return kr;i1=1;var r=kr&&kr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(kr,"__esModule",{value:!0}),kr.default=e;var t=r(l3());function e(n,a){var o=null;if(!n||typeof n!="string")return o;var l=(0,t.default)(n),c=typeof a=="function";return l.forEach(function(d){if(d.type==="declaration"){var f=d.property,p=d.value;c?a(f,p,d):p&&(o=o||{},o[f]=p)}}),o}return kr}var eo={},s1;function c3(){if(s1)return eo;s1=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.camelCase=void 0;var r=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,e=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(f){return!f||e.test(f)||r.test(f)},l=function(f,p){return p.toUpperCase()},c=function(f,p){return"".concat(p,"-")},d=function(f,p){return p===void 0&&(p={}),o(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(a,c):f=f.replace(n,c),f.replace(t,l))};return eo.camelCase=d,eo}var no,r1;function h3(){if(r1)return no;r1=1;var r=no&&no.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=r(u3()),e=c3();function n(a,o){var l={};return!a||typeof a!="string"||(0,t.default)(a,function(c,d){c&&d&&(l[(0,e.camelCase)(c,o)]=d)}),l}return n.default=n,no=n,no}var d3=h3();const f3=_o(d3),Xy=Yy("end"),hf=Yy("start");function Yy(r){return t;function t(e){const n=e&&e.position&&e.position[r]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function p3(r){const t=hf(r),e=Xy(r);if(t&&e)return{start:t,end:e}}function fo(r){return!r||typeof r!="object"?"":"position"in r||"type"in r?a1(r.position):"start"in r||"end"in r?a1(r):"line"in r||"column"in r?zd(r):""}function zd(r){return o1(r&&r.line)+":"+o1(r&&r.column)}function a1(r){return zd(r&&r.start)+"-"+zd(r&&r.end)}function o1(r){return r&&typeof r=="number"?r:1}class Ye extends Error{constructor(t,e,n){super(),typeof e=="string"&&(n=e,e=void 0);let a="",o={},l=!1;if(e&&("line"in e&&"column"in e?o={place:e}:"start"in e&&"end"in e?o={place:e}:"type"in e?o={ancestors:[e],place:e.position}:o={...e}),typeof t=="string"?a=t:!o.cause&&t&&(l=!0,a=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof n=="string"){const d=n.indexOf(":");d===-1?o.ruleId=n:(o.source=n.slice(0,d),o.ruleId=n.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=c?c.line:void 0,this.name=fo(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ye.prototype.file="";Ye.prototype.name="";Ye.prototype.reason="";Ye.prototype.message="";Ye.prototype.stack="";Ye.prototype.column=void 0;Ye.prototype.line=void 0;Ye.prototype.ancestors=void 0;Ye.prototype.cause=void 0;Ye.prototype.fatal=void 0;Ye.prototype.place=void 0;Ye.prototype.ruleId=void 0;Ye.prototype.source=void 0;const df={}.hasOwnProperty,g3=new Map,m3=/[A-Z]/g,y3=new Set(["table","tbody","thead","tfoot","tr"]),b3=new Set(["td","th"]),$y="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function v3(r,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const e=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=T3(e,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=_3(e,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:e,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?cf:a3,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Ky(a,r,void 0);return o&&typeof o!="string"?o:a.create(r,a.Fragment,{children:o||void 0},void 0)}function Ky(r,t,e){if(t.type==="element")return S3(r,t,e);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return A3(r,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return x3(r,t,e);if(t.type==="mdxjsEsm")return w3(r,t);if(t.type==="root")return E3(r,t,e);if(t.type==="text")return C3(r,t)}function S3(r,t,e){const n=r.schema;let a=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(a=cf,r.schema=a),r.ancestors.push(t);const o=Qy(r,t.tagName,!1),l=R3(r,t);let c=pf(r,t);return y3.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!Ww(d):!0})),Wy(r,l,o,t),ff(l,c),r.ancestors.pop(),r.schema=n,r.create(t,o,l,e)}function A3(r,t){if(t.data&&t.data.estree&&r.evaluater){const n=t.data.estree.body[0];return n.type,r.evaluater.evaluateExpression(n.expression)}vo(r,t.position)}function w3(r,t){if(t.data&&t.data.estree&&r.evaluater)return r.evaluater.evaluateProgram(t.data.estree);vo(r,t.position)}function x3(r,t,e){const n=r.schema;let a=n;t.name==="svg"&&n.space==="html"&&(a=cf,r.schema=a),r.ancestors.push(t);const o=t.name===null?r.Fragment:Qy(r,t.name,!0),l=k3(r,t),c=pf(r,t);return Wy(r,l,o,t),ff(l,c),r.ancestors.pop(),r.schema=n,r.create(t,o,l,e)}function E3(r,t,e){const n={};return ff(n,pf(r,t)),r.create(t,r.Fragment,n,e)}function C3(r,t){return t.value}function Wy(r,t,e,n){typeof e!="string"&&e!==r.Fragment&&r.passNode&&(t.node=n)}function ff(r,t){if(t.length>0){const e=t.length>1?t:t[0];e&&(r.children=e)}}function _3(r,t,e){return n;function n(a,o,l,c){const f=Array.isArray(l.children)?e:t;return c?f(o,l,c):f(o,l)}}function T3(r,t){return e;function e(n,a,o,l){const c=Array.isArray(o.children),d=hf(n);return t(a,o,l,c,{columnNumber:d?d.column-1:void 0,fileName:r,lineNumber:d?d.line:void 0},void 0)}}function R3(r,t){const e={};let n,a;for(a in t.properties)if(a!=="children"&&df.call(t.properties,a)){const o=M3(r,a,t.properties[a]);if(o){const[l,c]=o;r.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&b3.has(t.tagName)?n=c:e[l]=c}}if(n){const o=e.style||(e.style={});o[r.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return e}function k3(r,t){const e={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&r.evaluater){const o=n.data.estree.body[0];o.type;const l=o.expression;l.type;const c=l.properties[0];c.type,Object.assign(e,r.evaluater.evaluateExpression(c.argument))}else vo(r,t.position);else{const a=n.name;let o;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&r.evaluater){const c=n.value.data.estree.body[0];c.type,o=r.evaluater.evaluateExpression(c.expression)}else vo(r,t.position);else o=n.value===null?!0:n.value;e[a]=o}return e}function pf(r,t){const e=[];let n=-1;const a=r.passKeys?new Map:g3;for(;++n<t.children.length;){const o=t.children[n];let l;if(r.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const f=a.get(d)||0;l=d+"-"+f,a.set(d,f+1)}}const c=Ky(r,o,l);c!==void 0&&e.push(c)}return e}function M3(r,t,e){const n=i3(r.schema,t);if(!(e==null||typeof e=="number"&&Number.isNaN(e))){if(Array.isArray(e)&&(e=n.commaSeparated?qw(e):o3(e)),n.property==="style"){let a=typeof e=="object"?e:D3(r,String(e));return r.stylePropertyNameCase==="css"&&(a=L3(a)),["style",a]}return[r.elementAttributeNameCase==="react"&&n.space?t3[n.property]||n.property:n.attribute,e]}}function D3(r,t){try{return f3(t,{reactCompat:!0})}catch(e){if(r.ignoreInvalidStyle)return{};const n=e,a=new Ye("Cannot parse `style` attribute",{ancestors:r.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=r.filePath||void 0,a.url=$y+"#cannot-parse-style-attribute",a}}function Qy(r,t,e){let n;if(!e)n={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let o=-1,l;for(;++o<a.length;){const c=Z0(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}n=l}else n=Z0(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const a=n.value;return df.call(r.components,a)?r.components[a]:a}if(r.evaluater)return r.evaluater.evaluateExpression(n);vo(r)}function vo(r,t){const e=new Ye("Cannot handle MDX estrees without `createEvaluater`",{ancestors:r.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw e.file=r.filePath||void 0,e.url=$y+"#cannot-handle-mdx-estrees-without-createevaluater",e}function L3(r){const t={};let e;for(e in r)df.call(r,e)&&(t[O3(e)]=r[e]);return t}function O3(r){let t=r.replace(m3,N3);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function N3(r){return"-"+r.toLowerCase()}const hd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},P3={};function B3(r,t){const e=P3,n=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,a=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return Zy(r,n,a)}function Zy(r,t,e){if(z3(r)){if("value"in r)return r.type==="html"&&!e?"":r.value;if(t&&"alt"in r&&r.alt)return r.alt;if("children"in r)return l1(r.children,t,e)}return Array.isArray(r)?l1(r,t,e):""}function l1(r,t,e){const n=[];let a=-1;for(;++a<r.length;)n[a]=Zy(r[a],t,e);return n.join("")}function z3(r){return!!(r&&typeof r=="object")}const u1=document.createElement("i");function gf(r){const t="&"+r+";";u1.innerHTML=t;const e=u1.textContent;return e.charCodeAt(e.length-1)===59&&r!=="semi"||e===t?!1:e}function ci(r,t,e,n){const a=r.length;let o=0,l;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,e=e>0?e:0,n.length<1e4)l=Array.from(n),l.unshift(t,e),r.splice(...l);else for(e&&r.splice(t,e);o<n.length;)l=n.slice(o,o+1e4),l.unshift(t,0),r.splice(...l),o+=1e4,t+=1e4}function Fn(r,t){return r.length>0?(ci(r,r.length,0,t),r):t}const c1={}.hasOwnProperty;function I3(r){const t={};let e=-1;for(;++e<r.length;)F3(t,r[e]);return t}function F3(r,t){let e;for(e in t){const a=(c1.call(r,e)?r[e]:void 0)||(r[e]={}),o=t[e];let l;if(o)for(l in o){c1.call(a,l)||(a[l]=[]);const c=o[l];U3(a[l],Array.isArray(c)?c:c?[c]:[])}}}function U3(r,t){let e=-1;const n=[];for(;++e<t.length;)(t[e].add==="after"?r:n).push(t[e]);ci(r,0,0,n)}function Jy(r,t){const e=Number.parseInt(r,t);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"":String.fromCodePoint(e)}function zr(r){return r.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const oi=hs(/[A-Za-z]/),En=hs(/[\dA-Za-z]/),H3=hs(/[#-'*+\--9=?A-Z^-~]/);function Id(r){return r!==null&&(r<32||r===127)}const Fd=hs(/\d/),j3=hs(/[\dA-Fa-f]/),V3=hs(/[!-/:-@[-`{-~]/);function xt(r){return r!==null&&r<-2}function un(r){return r!==null&&(r<0||r===32)}function Gt(r){return r===-2||r===-1||r===32}const G3=hs(new RegExp("\\p{P}|\\p{S}","u")),q3=hs(/\s/);function hs(r){return t;function t(e){return e!==null&&e>-1&&r.test(String.fromCharCode(e))}}function Qr(r){const t=[];let e=-1,n=0,a=0;for(;++e<r.length;){const o=r.charCodeAt(e);let l="";if(o===37&&En(r.charCodeAt(e+1))&&En(r.charCodeAt(e+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=r.charCodeAt(e+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),a=1):l=""}else l=String.fromCharCode(o);l&&(t.push(r.slice(n,e),encodeURIComponent(l)),n=e+a+1,l=""),a&&(e+=a,a=0)}return t.join("")+r.slice(n)}function se(r,t,e,n){const a=n?n-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(d){return Gt(d)?(r.enter(e),c(d)):t(d)}function c(d){return Gt(d)&&o++<a?(r.consume(d),c):(r.exit(e),t(d))}}const X3={tokenize:Y3};function Y3(r){const t=r.attempt(this.parser.constructs.contentInitial,n,a);let e;return t;function n(c){if(c===null){r.consume(c);return}return r.enter("lineEnding"),r.consume(c),r.exit("lineEnding"),se(r,t,"linePrefix")}function a(c){return r.enter("paragraph"),o(c)}function o(c){const d=r.enter("chunkText",{contentType:"text",previous:e});return e&&(e.next=d),e=d,l(c)}function l(c){if(c===null){r.exit("chunkText"),r.exit("paragraph"),r.consume(c);return}return xt(c)?(r.consume(c),r.exit("chunkText"),o):(r.consume(c),l)}}const $3={tokenize:K3},h1={tokenize:W3};function K3(r){const t=this,e=[];let n=0,a,o,l;return c;function c(R){if(n<e.length){const O=e[n];return t.containerState=O[1],r.attempt(O[0].continuation,d,f)(R)}return f(R)}function d(R){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&k();const O=t.events.length;let D=O,M;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){M=t.events[D][1].end;break}A(n);let z=O;for(;z<t.events.length;)t.events[z][1].end={...M},z++;return ci(t.events,D+1,0,t.events.slice(O)),t.events.length=z,f(R)}return c(R)}function f(R){if(n===e.length){if(!a)return b(R);if(a.currentConstruct&&a.currentConstruct.concrete)return w(R);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},r.check(h1,p,m)(R)}function p(R){return a&&k(),A(n),b(R)}function m(R){return t.parser.lazy[t.now().line]=n!==e.length,l=t.now().offset,w(R)}function b(R){return t.containerState={},r.attempt(h1,v,w)(R)}function v(R){return n++,e.push([t.currentConstruct,t.containerState]),b(R)}function w(R){if(R===null){a&&k(),A(0),r.consume(R);return}return a=a||t.parser.flow(t.now()),r.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),S(R)}function S(R){if(R===null){C(r.exit("chunkFlow"),!0),A(0),r.consume(R);return}return xt(R)?(r.consume(R),C(r.exit("chunkFlow")),n=0,t.interrupt=void 0,c):(r.consume(R),S)}function C(R,O){const D=t.sliceStream(R);if(O&&D.push(null),R.previous=o,o&&(o.next=R),o=R,a.defineSkip(R.start),a.write(D),t.parser.lazy[R.start.line]){let M=a.events.length;for(;M--;)if(a.events[M][1].start.offset<l&&(!a.events[M][1].end||a.events[M][1].end.offset>l))return;const z=t.events.length;let H=z,V,$;for(;H--;)if(t.events[H][0]==="exit"&&t.events[H][1].type==="chunkFlow"){if(V){$=t.events[H][1].end;break}V=!0}for(A(n),M=z;M<t.events.length;)t.events[M][1].end={...$},M++;ci(t.events,H+1,0,t.events.slice(z)),t.events.length=M}}function A(R){let O=e.length;for(;O-- >R;){const D=e[O];t.containerState=D[1],D[0].exit.call(t,r)}e.length=R}function k(){a.write([null]),o=void 0,a=void 0,t.containerState._closeFlow=void 0}}function W3(r,t,e){return se(r,r.attempt(this.parser.constructs.document,t,e),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function d1(r){if(r===null||un(r)||q3(r))return 1;if(G3(r))return 2}function mf(r,t,e){const n=[];let a=-1;for(;++a<r.length;){const o=r[a].resolveAll;o&&!n.includes(o)&&(t=o(t,e),n.push(o))}return t}const Ud={name:"attention",resolveAll:Q3,tokenize:Z3};function Q3(r,t){let e=-1,n,a,o,l,c,d,f,p;for(;++e<r.length;)if(r[e][0]==="enter"&&r[e][1].type==="attentionSequence"&&r[e][1]._close){for(n=e;n--;)if(r[n][0]==="exit"&&r[n][1].type==="attentionSequence"&&r[n][1]._open&&t.sliceSerialize(r[n][1]).charCodeAt(0)===t.sliceSerialize(r[e][1]).charCodeAt(0)){if((r[n][1]._close||r[e][1]._open)&&(r[e][1].end.offset-r[e][1].start.offset)%3&&!((r[n][1].end.offset-r[n][1].start.offset+r[e][1].end.offset-r[e][1].start.offset)%3))continue;d=r[n][1].end.offset-r[n][1].start.offset>1&&r[e][1].end.offset-r[e][1].start.offset>1?2:1;const m={...r[n][1].end},b={...r[e][1].start};f1(m,-d),f1(b,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...r[n][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...r[e][1].start},end:b},o={type:d>1?"strongText":"emphasisText",start:{...r[n][1].end},end:{...r[e][1].start}},a={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},r[n][1].end={...l.start},r[e][1].start={...c.end},f=[],r[n][1].end.offset-r[n][1].start.offset&&(f=Fn(f,[["enter",r[n][1],t],["exit",r[n][1],t]])),f=Fn(f,[["enter",a,t],["enter",l,t],["exit",l,t],["enter",o,t]]),f=Fn(f,mf(t.parser.constructs.insideSpan.null,r.slice(n+1,e),t)),f=Fn(f,[["exit",o,t],["enter",c,t],["exit",c,t],["exit",a,t]]),r[e][1].end.offset-r[e][1].start.offset?(p=2,f=Fn(f,[["enter",r[e][1],t],["exit",r[e][1],t]])):p=0,ci(r,n-1,e-n+3,f),e=n+f.length-p-2;break}}for(e=-1;++e<r.length;)r[e][1].type==="attentionSequence"&&(r[e][1].type="data");return r}function Z3(r,t){const e=this.parser.constructs.attentionMarkers.null,n=this.previous,a=d1(n);let o;return l;function l(d){return o=d,r.enter("attentionSequence"),c(d)}function c(d){if(d===o)return r.consume(d),c;const f=r.exit("attentionSequence"),p=d1(d),m=!p||p===2&&a||e.includes(d),b=!a||a===2&&p||e.includes(n);return f._open=!!(o===42?m:m&&(a||!b)),f._close=!!(o===42?b:b&&(p||!m)),t(d)}}function f1(r,t){r.column+=t,r.offset+=t,r._bufferIndex+=t}const J3={name:"autolink",tokenize:tx};function tx(r,t,e){let n=0;return a;function a(v){return r.enter("autolink"),r.enter("autolinkMarker"),r.consume(v),r.exit("autolinkMarker"),r.enter("autolinkProtocol"),o}function o(v){return oi(v)?(r.consume(v),l):v===64?e(v):f(v)}function l(v){return v===43||v===45||v===46||En(v)?(n=1,c(v)):f(v)}function c(v){return v===58?(r.consume(v),n=0,d):(v===43||v===45||v===46||En(v))&&n++<32?(r.consume(v),c):(n=0,f(v))}function d(v){return v===62?(r.exit("autolinkProtocol"),r.enter("autolinkMarker"),r.consume(v),r.exit("autolinkMarker"),r.exit("autolink"),t):v===null||v===32||v===60||Id(v)?e(v):(r.consume(v),d)}function f(v){return v===64?(r.consume(v),p):H3(v)?(r.consume(v),f):e(v)}function p(v){return En(v)?m(v):e(v)}function m(v){return v===46?(r.consume(v),n=0,p):v===62?(r.exit("autolinkProtocol").type="autolinkEmail",r.enter("autolinkMarker"),r.consume(v),r.exit("autolinkMarker"),r.exit("autolink"),t):b(v)}function b(v){if((v===45||En(v))&&n++<63){const w=v===45?b:m;return r.consume(v),w}return e(v)}}const Mu={partial:!0,tokenize:ex};function ex(r,t,e){return n;function n(o){return Gt(o)?se(r,a,"linePrefix")(o):a(o)}function a(o){return o===null||xt(o)?t(o):e(o)}}const tb={continuation:{tokenize:ix},exit:sx,name:"blockQuote",tokenize:nx};function nx(r,t,e){const n=this;return a;function a(l){if(l===62){const c=n.containerState;return c.open||(r.enter("blockQuote",{_container:!0}),c.open=!0),r.enter("blockQuotePrefix"),r.enter("blockQuoteMarker"),r.consume(l),r.exit("blockQuoteMarker"),o}return e(l)}function o(l){return Gt(l)?(r.enter("blockQuotePrefixWhitespace"),r.consume(l),r.exit("blockQuotePrefixWhitespace"),r.exit("blockQuotePrefix"),t):(r.exit("blockQuotePrefix"),t(l))}}function ix(r,t,e){const n=this;return a;function a(l){return Gt(l)?se(r,o,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return r.attempt(tb,t,e)(l)}}function sx(r){r.exit("blockQuote")}const eb={name:"characterEscape",tokenize:rx};function rx(r,t,e){return n;function n(o){return r.enter("characterEscape"),r.enter("escapeMarker"),r.consume(o),r.exit("escapeMarker"),a}function a(o){return V3(o)?(r.enter("characterEscapeValue"),r.consume(o),r.exit("characterEscapeValue"),r.exit("characterEscape"),t):e(o)}}const nb={name:"characterReference",tokenize:ax};function ax(r,t,e){const n=this;let a=0,o,l;return c;function c(m){return r.enter("characterReference"),r.enter("characterReferenceMarker"),r.consume(m),r.exit("characterReferenceMarker"),d}function d(m){return m===35?(r.enter("characterReferenceMarkerNumeric"),r.consume(m),r.exit("characterReferenceMarkerNumeric"),f):(r.enter("characterReferenceValue"),o=31,l=En,p(m))}function f(m){return m===88||m===120?(r.enter("characterReferenceMarkerHexadecimal"),r.consume(m),r.exit("characterReferenceMarkerHexadecimal"),r.enter("characterReferenceValue"),o=6,l=j3,p):(r.enter("characterReferenceValue"),o=7,l=Fd,p(m))}function p(m){if(m===59&&a){const b=r.exit("characterReferenceValue");return l===En&&!gf(n.sliceSerialize(b))?e(m):(r.enter("characterReferenceMarker"),r.consume(m),r.exit("characterReferenceMarker"),r.exit("characterReference"),t)}return l(m)&&a++<o?(r.consume(m),p):e(m)}}const p1={partial:!0,tokenize:lx},g1={concrete:!0,name:"codeFenced",tokenize:ox};function ox(r,t,e){const n=this,a={partial:!0,tokenize:D};let o=0,l=0,c;return d;function d(M){return f(M)}function f(M){const z=n.events[n.events.length-1];return o=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,c=M,r.enter("codeFenced"),r.enter("codeFencedFence"),r.enter("codeFencedFenceSequence"),p(M)}function p(M){return M===c?(l++,r.consume(M),p):l<3?e(M):(r.exit("codeFencedFenceSequence"),Gt(M)?se(r,m,"whitespace")(M):m(M))}function m(M){return M===null||xt(M)?(r.exit("codeFencedFence"),n.interrupt?t(M):r.check(p1,S,O)(M)):(r.enter("codeFencedFenceInfo"),r.enter("chunkString",{contentType:"string"}),b(M))}function b(M){return M===null||xt(M)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),m(M)):Gt(M)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),se(r,v,"whitespace")(M)):M===96&&M===c?e(M):(r.consume(M),b)}function v(M){return M===null||xt(M)?m(M):(r.enter("codeFencedFenceMeta"),r.enter("chunkString",{contentType:"string"}),w(M))}function w(M){return M===null||xt(M)?(r.exit("chunkString"),r.exit("codeFencedFenceMeta"),m(M)):M===96&&M===c?e(M):(r.consume(M),w)}function S(M){return r.attempt(a,O,C)(M)}function C(M){return r.enter("lineEnding"),r.consume(M),r.exit("lineEnding"),A}function A(M){return o>0&&Gt(M)?se(r,k,"linePrefix",o+1)(M):k(M)}function k(M){return M===null||xt(M)?r.check(p1,S,O)(M):(r.enter("codeFlowValue"),R(M))}function R(M){return M===null||xt(M)?(r.exit("codeFlowValue"),k(M)):(r.consume(M),R)}function O(M){return r.exit("codeFenced"),t(M)}function D(M,z,H){let V=0;return $;function $(at){return M.enter("lineEnding"),M.consume(at),M.exit("lineEnding"),Y}function Y(at){return M.enter("codeFencedFence"),Gt(at)?se(M,et,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(at):et(at)}function et(at){return at===c?(M.enter("codeFencedFenceSequence"),nt(at)):H(at)}function nt(at){return at===c?(V++,M.consume(at),nt):V>=l?(M.exit("codeFencedFenceSequence"),Gt(at)?se(M,J,"whitespace")(at):J(at)):H(at)}function J(at){return at===null||xt(at)?(M.exit("codeFencedFence"),z(at)):H(at)}}}function lx(r,t,e){const n=this;return a;function a(l){return l===null?e(l):(r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),o)}function o(l){return n.parser.lazy[n.now().line]?e(l):t(l)}}const dd={name:"codeIndented",tokenize:cx},ux={partial:!0,tokenize:hx};function cx(r,t,e){const n=this;return a;function a(f){return r.enter("codeIndented"),se(r,o,"linePrefix",5)(f)}function o(f){const p=n.events[n.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(f):e(f)}function l(f){return f===null?d(f):xt(f)?r.attempt(ux,l,d)(f):(r.enter("codeFlowValue"),c(f))}function c(f){return f===null||xt(f)?(r.exit("codeFlowValue"),l(f)):(r.consume(f),c)}function d(f){return r.exit("codeIndented"),t(f)}}function hx(r,t,e){const n=this;return a;function a(l){return n.parser.lazy[n.now().line]?e(l):xt(l)?(r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),a):se(r,o,"linePrefix",5)(l)}function o(l){const c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):xt(l)?a(l):e(l)}}const dx={name:"codeText",previous:px,resolve:fx,tokenize:gx};function fx(r){let t=r.length-4,e=3,n,a;if((r[e][1].type==="lineEnding"||r[e][1].type==="space")&&(r[t][1].type==="lineEnding"||r[t][1].type==="space")){for(n=e;++n<t;)if(r[n][1].type==="codeTextData"){r[e][1].type="codeTextPadding",r[t][1].type="codeTextPadding",e+=2,t-=2;break}}for(n=e-1,t++;++n<=t;)a===void 0?n!==t&&r[n][1].type!=="lineEnding"&&(a=n):(n===t||r[n][1].type==="lineEnding")&&(r[a][1].type="codeTextData",n!==a+2&&(r[a][1].end=r[n-1][1].end,r.splice(a+2,n-a-2),t-=n-a-2,n=a+2),a=void 0);return r}function px(r){return r!==96||this.events[this.events.length-1][1].type==="characterEscape"}function gx(r,t,e){let n=0,a,o;return l;function l(m){return r.enter("codeText"),r.enter("codeTextSequence"),c(m)}function c(m){return m===96?(r.consume(m),n++,c):(r.exit("codeTextSequence"),d(m))}function d(m){return m===null?e(m):m===32?(r.enter("space"),r.consume(m),r.exit("space"),d):m===96?(o=r.enter("codeTextSequence"),a=0,p(m)):xt(m)?(r.enter("lineEnding"),r.consume(m),r.exit("lineEnding"),d):(r.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||xt(m)?(r.exit("codeTextData"),d(m)):(r.consume(m),f)}function p(m){return m===96?(r.consume(m),a++,p):a===n?(r.exit("codeTextSequence"),r.exit("codeText"),t(m)):(o.type="codeTextData",f(m))}}class mx{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,e){const n=e??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,e,n){const a=e||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return n&&io(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),io(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),io(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const e=this.left.splice(t,Number.POSITIVE_INFINITY);io(this.right,e.reverse())}else{const e=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);io(this.left,e.reverse())}}}function io(r,t){let e=0;if(t.length<1e4)r.push(...t);else for(;e<t.length;)r.push(...t.slice(e,e+1e4)),e+=1e4}function ib(r){const t={};let e=-1,n,a,o,l,c,d,f;const p=new mx(r);for(;++e<p.length;){for(;e in t;)e=t[e];if(n=p.get(e),e&&n[1].type==="chunkFlow"&&p.get(e-1)[1].type==="listItemPrefix"&&(d=n[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,yx(p,e)),e=t[e],f=!0);else if(n[1]._container){for(o=e,a=void 0;o--;)if(l=p.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(a&&(p.get(a)[1].type="lineEndingBlank"),l[1].type="lineEnding",a=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;a&&(n[1].end={...p.get(a)[1].start},c=p.slice(a,e),c.unshift(n),p.splice(a,e-a+1,c))}}return ci(r,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function yx(r,t){const e=r.get(t)[1],n=r.get(t)[2];let a=t-1;const o=[];let l=e._tokenizer;l||(l=n.parser[e.contentType](e.start),e._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],f={};let p,m,b=-1,v=e,w=0,S=0;const C=[S];for(;v;){for(;r.get(++a)[1]!==v;);o.push(a),v._tokenizer||(p=n.sliceStream(v),v.next||p.push(null),m&&l.defineSkip(v.start),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=v,v=v.next}for(v=e;++b<c.length;)c[b][0]==="exit"&&c[b-1][0]==="enter"&&c[b][1].type===c[b-1][1].type&&c[b][1].start.line!==c[b][1].end.line&&(S=b+1,C.push(S),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(l.events=[],v?(v._tokenizer=void 0,v.previous=void 0):C.pop(),b=C.length;b--;){const A=c.slice(C[b],C[b+1]),k=o.pop();d.push([k,k+A.length-1]),r.splice(k,2,A)}for(d.reverse(),b=-1;++b<d.length;)f[w+d[b][0]]=w+d[b][1],w+=d[b][1]-d[b][0]-1;return f}const bx={resolve:Sx,tokenize:Ax},vx={partial:!0,tokenize:wx};function Sx(r){return ib(r),r}function Ax(r,t){let e;return n;function n(c){return r.enter("content"),e=r.enter("chunkContent",{contentType:"content"}),a(c)}function a(c){return c===null?o(c):xt(c)?r.check(vx,l,o)(c):(r.consume(c),a)}function o(c){return r.exit("chunkContent"),r.exit("content"),t(c)}function l(c){return r.consume(c),r.exit("chunkContent"),e.next=r.enter("chunkContent",{contentType:"content",previous:e}),e=e.next,a}}function wx(r,t,e){const n=this;return a;function a(l){return r.exit("chunkContent"),r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),se(r,o,"linePrefix")}function o(l){if(l===null||xt(l))return e(l);const c=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):r.interrupt(n.parser.constructs.flow,e,t)(l)}}function sb(r,t,e,n,a,o,l,c,d){const f=d||Number.POSITIVE_INFINITY;let p=0;return m;function m(A){return A===60?(r.enter(n),r.enter(a),r.enter(o),r.consume(A),r.exit(o),b):A===null||A===32||A===41||Id(A)?e(A):(r.enter(n),r.enter(l),r.enter(c),r.enter("chunkString",{contentType:"string"}),S(A))}function b(A){return A===62?(r.enter(o),r.consume(A),r.exit(o),r.exit(a),r.exit(n),t):(r.enter(c),r.enter("chunkString",{contentType:"string"}),v(A))}function v(A){return A===62?(r.exit("chunkString"),r.exit(c),b(A)):A===null||A===60||xt(A)?e(A):(r.consume(A),A===92?w:v)}function w(A){return A===60||A===62||A===92?(r.consume(A),v):v(A)}function S(A){return!p&&(A===null||A===41||un(A))?(r.exit("chunkString"),r.exit(c),r.exit(l),r.exit(n),t(A)):p<f&&A===40?(r.consume(A),p++,S):A===41?(r.consume(A),p--,S):A===null||A===32||A===40||Id(A)?e(A):(r.consume(A),A===92?C:S)}function C(A){return A===40||A===41||A===92?(r.consume(A),S):S(A)}}function rb(r,t,e,n,a,o){const l=this;let c=0,d;return f;function f(v){return r.enter(n),r.enter(a),r.consume(v),r.exit(a),r.enter(o),p}function p(v){return c>999||v===null||v===91||v===93&&!d||v===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?e(v):v===93?(r.exit(o),r.enter(a),r.consume(v),r.exit(a),r.exit(n),t):xt(v)?(r.enter("lineEnding"),r.consume(v),r.exit("lineEnding"),p):(r.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===null||v===91||v===93||xt(v)||c++>999?(r.exit("chunkString"),p(v)):(r.consume(v),d||(d=!Gt(v)),v===92?b:m)}function b(v){return v===91||v===92||v===93?(r.consume(v),c++,m):m(v)}}function ab(r,t,e,n,a,o){let l;return c;function c(b){return b===34||b===39||b===40?(r.enter(n),r.enter(a),r.consume(b),r.exit(a),l=b===40?41:b,d):e(b)}function d(b){return b===l?(r.enter(a),r.consume(b),r.exit(a),r.exit(n),t):(r.enter(o),f(b))}function f(b){return b===l?(r.exit(o),d(l)):b===null?e(b):xt(b)?(r.enter("lineEnding"),r.consume(b),r.exit("lineEnding"),se(r,f,"linePrefix")):(r.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===l||b===null||xt(b)?(r.exit("chunkString"),f(b)):(r.consume(b),b===92?m:p)}function m(b){return b===l||b===92?(r.consume(b),p):p(b)}}function po(r,t){let e;return n;function n(a){return xt(a)?(r.enter("lineEnding"),r.consume(a),r.exit("lineEnding"),e=!0,n):Gt(a)?se(r,n,e?"linePrefix":"lineSuffix")(a):t(a)}}const xx={name:"definition",tokenize:Cx},Ex={partial:!0,tokenize:_x};function Cx(r,t,e){const n=this;let a;return o;function o(v){return r.enter("definition"),l(v)}function l(v){return rb.call(n,r,c,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function c(v){return a=zr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),v===58?(r.enter("definitionMarker"),r.consume(v),r.exit("definitionMarker"),d):e(v)}function d(v){return un(v)?po(r,f)(v):f(v)}function f(v){return sb(r,p,e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function p(v){return r.attempt(Ex,m,m)(v)}function m(v){return Gt(v)?se(r,b,"whitespace")(v):b(v)}function b(v){return v===null||xt(v)?(r.exit("definition"),n.parser.defined.push(a),t(v)):e(v)}}function _x(r,t,e){return n;function n(c){return un(c)?po(r,a)(c):e(c)}function a(c){return ab(r,o,e,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return Gt(c)?se(r,l,"whitespace")(c):l(c)}function l(c){return c===null||xt(c)?t(c):e(c)}}const Tx={name:"hardBreakEscape",tokenize:Rx};function Rx(r,t,e){return n;function n(o){return r.enter("hardBreakEscape"),r.consume(o),a}function a(o){return xt(o)?(r.exit("hardBreakEscape"),t(o)):e(o)}}const kx={name:"headingAtx",resolve:Mx,tokenize:Dx};function Mx(r,t){let e=r.length-2,n=3,a,o;return r[n][1].type==="whitespace"&&(n+=2),e-2>n&&r[e][1].type==="whitespace"&&(e-=2),r[e][1].type==="atxHeadingSequence"&&(n===e-1||e-4>n&&r[e-2][1].type==="whitespace")&&(e-=n+1===e?2:4),e>n&&(a={type:"atxHeadingText",start:r[n][1].start,end:r[e][1].end},o={type:"chunkText",start:r[n][1].start,end:r[e][1].end,contentType:"text"},ci(r,n,e-n+1,[["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t]])),r}function Dx(r,t,e){let n=0;return a;function a(p){return r.enter("atxHeading"),o(p)}function o(p){return r.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&n++<6?(r.consume(p),l):p===null||un(p)?(r.exit("atxHeadingSequence"),c(p)):e(p)}function c(p){return p===35?(r.enter("atxHeadingSequence"),d(p)):p===null||xt(p)?(r.exit("atxHeading"),t(p)):Gt(p)?se(r,c,"whitespace")(p):(r.enter("atxHeadingText"),f(p))}function d(p){return p===35?(r.consume(p),d):(r.exit("atxHeadingSequence"),c(p))}function f(p){return p===null||p===35||un(p)?(r.exit("atxHeadingText"),c(p)):(r.consume(p),f)}}const Lx=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],m1=["pre","script","style","textarea"],Ox={concrete:!0,name:"htmlFlow",resolveTo:Bx,tokenize:zx},Nx={partial:!0,tokenize:Fx},Px={partial:!0,tokenize:Ix};function Bx(r){let t=r.length;for(;t--&&!(r[t][0]==="enter"&&r[t][1].type==="htmlFlow"););return t>1&&r[t-2][1].type==="linePrefix"&&(r[t][1].start=r[t-2][1].start,r[t+1][1].start=r[t-2][1].start,r.splice(t-2,2)),r}function zx(r,t,e){const n=this;let a,o,l,c,d;return f;function f(T){return p(T)}function p(T){return r.enter("htmlFlow"),r.enter("htmlFlowData"),r.consume(T),m}function m(T){return T===33?(r.consume(T),b):T===47?(r.consume(T),o=!0,S):T===63?(r.consume(T),a=3,n.interrupt?t:E):oi(T)?(r.consume(T),l=String.fromCharCode(T),C):e(T)}function b(T){return T===45?(r.consume(T),a=2,v):T===91?(r.consume(T),a=5,c=0,w):oi(T)?(r.consume(T),a=4,n.interrupt?t:E):e(T)}function v(T){return T===45?(r.consume(T),n.interrupt?t:E):e(T)}function w(T){const lt="CDATA[";return T===lt.charCodeAt(c++)?(r.consume(T),c===lt.length?n.interrupt?t:et:w):e(T)}function S(T){return oi(T)?(r.consume(T),l=String.fromCharCode(T),C):e(T)}function C(T){if(T===null||T===47||T===62||un(T)){const lt=T===47,yt=l.toLowerCase();return!lt&&!o&&m1.includes(yt)?(a=1,n.interrupt?t(T):et(T)):Lx.includes(l.toLowerCase())?(a=6,lt?(r.consume(T),A):n.interrupt?t(T):et(T)):(a=7,n.interrupt&&!n.parser.lazy[n.now().line]?e(T):o?k(T):R(T))}return T===45||En(T)?(r.consume(T),l+=String.fromCharCode(T),C):e(T)}function A(T){return T===62?(r.consume(T),n.interrupt?t:et):e(T)}function k(T){return Gt(T)?(r.consume(T),k):$(T)}function R(T){return T===47?(r.consume(T),$):T===58||T===95||oi(T)?(r.consume(T),O):Gt(T)?(r.consume(T),R):$(T)}function O(T){return T===45||T===46||T===58||T===95||En(T)?(r.consume(T),O):D(T)}function D(T){return T===61?(r.consume(T),M):Gt(T)?(r.consume(T),D):R(T)}function M(T){return T===null||T===60||T===61||T===62||T===96?e(T):T===34||T===39?(r.consume(T),d=T,z):Gt(T)?(r.consume(T),M):H(T)}function z(T){return T===d?(r.consume(T),d=null,V):T===null||xt(T)?e(T):(r.consume(T),z)}function H(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||un(T)?D(T):(r.consume(T),H)}function V(T){return T===47||T===62||Gt(T)?R(T):e(T)}function $(T){return T===62?(r.consume(T),Y):e(T)}function Y(T){return T===null||xt(T)?et(T):Gt(T)?(r.consume(T),Y):e(T)}function et(T){return T===45&&a===2?(r.consume(T),P):T===60&&a===1?(r.consume(T),G):T===62&&a===4?(r.consume(T),K):T===63&&a===3?(r.consume(T),E):T===93&&a===5?(r.consume(T),ft):xt(T)&&(a===6||a===7)?(r.exit("htmlFlowData"),r.check(Nx,st,nt)(T)):T===null||xt(T)?(r.exit("htmlFlowData"),nt(T)):(r.consume(T),et)}function nt(T){return r.check(Px,J,st)(T)}function J(T){return r.enter("lineEnding"),r.consume(T),r.exit("lineEnding"),at}function at(T){return T===null||xt(T)?nt(T):(r.enter("htmlFlowData"),et(T))}function P(T){return T===45?(r.consume(T),E):et(T)}function G(T){return T===47?(r.consume(T),l="",it):et(T)}function it(T){if(T===62){const lt=l.toLowerCase();return m1.includes(lt)?(r.consume(T),K):et(T)}return oi(T)&&l.length<8?(r.consume(T),l+=String.fromCharCode(T),it):et(T)}function ft(T){return T===93?(r.consume(T),E):et(T)}function E(T){return T===62?(r.consume(T),K):T===45&&a===2?(r.consume(T),E):et(T)}function K(T){return T===null||xt(T)?(r.exit("htmlFlowData"),st(T)):(r.consume(T),K)}function st(T){return r.exit("htmlFlow"),t(T)}}function Ix(r,t,e){const n=this;return a;function a(l){return xt(l)?(r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),o):e(l)}function o(l){return n.parser.lazy[n.now().line]?e(l):t(l)}}function Fx(r,t,e){return n;function n(a){return r.enter("lineEnding"),r.consume(a),r.exit("lineEnding"),r.attempt(Mu,t,e)}}const Ux={name:"htmlText",tokenize:Hx};function Hx(r,t,e){const n=this;let a,o,l;return c;function c(E){return r.enter("htmlText"),r.enter("htmlTextData"),r.consume(E),d}function d(E){return E===33?(r.consume(E),f):E===47?(r.consume(E),D):E===63?(r.consume(E),R):oi(E)?(r.consume(E),H):e(E)}function f(E){return E===45?(r.consume(E),p):E===91?(r.consume(E),o=0,w):oi(E)?(r.consume(E),k):e(E)}function p(E){return E===45?(r.consume(E),v):e(E)}function m(E){return E===null?e(E):E===45?(r.consume(E),b):xt(E)?(l=m,G(E)):(r.consume(E),m)}function b(E){return E===45?(r.consume(E),v):m(E)}function v(E){return E===62?P(E):E===45?b(E):m(E)}function w(E){const K="CDATA[";return E===K.charCodeAt(o++)?(r.consume(E),o===K.length?S:w):e(E)}function S(E){return E===null?e(E):E===93?(r.consume(E),C):xt(E)?(l=S,G(E)):(r.consume(E),S)}function C(E){return E===93?(r.consume(E),A):S(E)}function A(E){return E===62?P(E):E===93?(r.consume(E),A):S(E)}function k(E){return E===null||E===62?P(E):xt(E)?(l=k,G(E)):(r.consume(E),k)}function R(E){return E===null?e(E):E===63?(r.consume(E),O):xt(E)?(l=R,G(E)):(r.consume(E),R)}function O(E){return E===62?P(E):R(E)}function D(E){return oi(E)?(r.consume(E),M):e(E)}function M(E){return E===45||En(E)?(r.consume(E),M):z(E)}function z(E){return xt(E)?(l=z,G(E)):Gt(E)?(r.consume(E),z):P(E)}function H(E){return E===45||En(E)?(r.consume(E),H):E===47||E===62||un(E)?V(E):e(E)}function V(E){return E===47?(r.consume(E),P):E===58||E===95||oi(E)?(r.consume(E),$):xt(E)?(l=V,G(E)):Gt(E)?(r.consume(E),V):P(E)}function $(E){return E===45||E===46||E===58||E===95||En(E)?(r.consume(E),$):Y(E)}function Y(E){return E===61?(r.consume(E),et):xt(E)?(l=Y,G(E)):Gt(E)?(r.consume(E),Y):V(E)}function et(E){return E===null||E===60||E===61||E===62||E===96?e(E):E===34||E===39?(r.consume(E),a=E,nt):xt(E)?(l=et,G(E)):Gt(E)?(r.consume(E),et):(r.consume(E),J)}function nt(E){return E===a?(r.consume(E),a=void 0,at):E===null?e(E):xt(E)?(l=nt,G(E)):(r.consume(E),nt)}function J(E){return E===null||E===34||E===39||E===60||E===61||E===96?e(E):E===47||E===62||un(E)?V(E):(r.consume(E),J)}function at(E){return E===47||E===62||un(E)?V(E):e(E)}function P(E){return E===62?(r.consume(E),r.exit("htmlTextData"),r.exit("htmlText"),t):e(E)}function G(E){return r.exit("htmlTextData"),r.enter("lineEnding"),r.consume(E),r.exit("lineEnding"),it}function it(E){return Gt(E)?se(r,ft,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):ft(E)}function ft(E){return r.enter("htmlTextData"),l(E)}}const yf={name:"labelEnd",resolveAll:qx,resolveTo:Xx,tokenize:Yx},jx={tokenize:$x},Vx={tokenize:Kx},Gx={tokenize:Wx};function qx(r){let t=-1;const e=[];for(;++t<r.length;){const n=r[t][1];if(e.push(r[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const a=n.type==="labelImage"?4:2;n.type="data",t+=a}}return r.length!==e.length&&ci(r,0,r.length,e),r}function Xx(r,t){let e=r.length,n=0,a,o,l,c;for(;e--;)if(a=r[e][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;r[e][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(l){if(r[e][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=e,a.type!=="labelLink")){n=2;break}}else a.type==="labelEnd"&&(l=e);const d={type:r[o][1].type==="labelLink"?"link":"image",start:{...r[o][1].start},end:{...r[r.length-1][1].end}},f={type:"label",start:{...r[o][1].start},end:{...r[l][1].end}},p={type:"labelText",start:{...r[o+n+2][1].end},end:{...r[l-2][1].start}};return c=[["enter",d,t],["enter",f,t]],c=Fn(c,r.slice(o+1,o+n+3)),c=Fn(c,[["enter",p,t]]),c=Fn(c,mf(t.parser.constructs.insideSpan.null,r.slice(o+n+4,l-3),t)),c=Fn(c,[["exit",p,t],r[l-2],r[l-1],["exit",f,t]]),c=Fn(c,r.slice(l+1)),c=Fn(c,[["exit",d,t]]),ci(r,o,r.length,c),r}function Yx(r,t,e){const n=this;let a=n.events.length,o,l;for(;a--;)if((n.events[a][1].type==="labelImage"||n.events[a][1].type==="labelLink")&&!n.events[a][1]._balanced){o=n.events[a][1];break}return c;function c(b){return o?o._inactive?m(b):(l=n.parser.defined.includes(zr(n.sliceSerialize({start:o.end,end:n.now()}))),r.enter("labelEnd"),r.enter("labelMarker"),r.consume(b),r.exit("labelMarker"),r.exit("labelEnd"),d):e(b)}function d(b){return b===40?r.attempt(jx,p,l?p:m)(b):b===91?r.attempt(Vx,p,l?f:m)(b):l?p(b):m(b)}function f(b){return r.attempt(Gx,p,m)(b)}function p(b){return t(b)}function m(b){return o._balanced=!0,e(b)}}function $x(r,t,e){return n;function n(m){return r.enter("resource"),r.enter("resourceMarker"),r.consume(m),r.exit("resourceMarker"),a}function a(m){return un(m)?po(r,o)(m):o(m)}function o(m){return m===41?p(m):sb(r,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return un(m)?po(r,d)(m):p(m)}function c(m){return e(m)}function d(m){return m===34||m===39||m===40?ab(r,f,e,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return un(m)?po(r,p)(m):p(m)}function p(m){return m===41?(r.enter("resourceMarker"),r.consume(m),r.exit("resourceMarker"),r.exit("resource"),t):e(m)}}function Kx(r,t,e){const n=this;return a;function a(c){return rb.call(n,r,o,l,"reference","referenceMarker","referenceString")(c)}function o(c){return n.parser.defined.includes(zr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(c):e(c)}function l(c){return e(c)}}function Wx(r,t,e){return n;function n(o){return r.enter("reference"),r.enter("referenceMarker"),r.consume(o),r.exit("referenceMarker"),a}function a(o){return o===93?(r.enter("referenceMarker"),r.consume(o),r.exit("referenceMarker"),r.exit("reference"),t):e(o)}}const Qx={name:"labelStartImage",resolveAll:yf.resolveAll,tokenize:Zx};function Zx(r,t,e){const n=this;return a;function a(c){return r.enter("labelImage"),r.enter("labelImageMarker"),r.consume(c),r.exit("labelImageMarker"),o}function o(c){return c===91?(r.enter("labelMarker"),r.consume(c),r.exit("labelMarker"),r.exit("labelImage"),l):e(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in n.parser.constructs?e(c):t(c)}}const Jx={name:"labelStartLink",resolveAll:yf.resolveAll,tokenize:tE};function tE(r,t,e){const n=this;return a;function a(l){return r.enter("labelLink"),r.enter("labelMarker"),r.consume(l),r.exit("labelMarker"),r.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?e(l):t(l)}}const fd={name:"lineEnding",tokenize:eE};function eE(r,t){return e;function e(n){return r.enter("lineEnding"),r.consume(n),r.exit("lineEnding"),se(r,t,"linePrefix")}}const gu={name:"thematicBreak",tokenize:nE};function nE(r,t,e){let n=0,a;return o;function o(f){return r.enter("thematicBreak"),l(f)}function l(f){return a=f,c(f)}function c(f){return f===a?(r.enter("thematicBreakSequence"),d(f)):n>=3&&(f===null||xt(f))?(r.exit("thematicBreak"),t(f)):e(f)}function d(f){return f===a?(r.consume(f),n++,d):(r.exit("thematicBreakSequence"),Gt(f)?se(r,c,"whitespace")(f):c(f))}}const an={continuation:{tokenize:aE},exit:lE,name:"list",tokenize:rE},iE={partial:!0,tokenize:uE},sE={partial:!0,tokenize:oE};function rE(r,t,e){const n=this,a=n.events[n.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,l=0;return c;function c(v){const w=n.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!n.containerState.marker||v===n.containerState.marker:Fd(v)){if(n.containerState.type||(n.containerState.type=w,r.enter(w,{_container:!0})),w==="listUnordered")return r.enter("listItemPrefix"),v===42||v===45?r.check(gu,e,f)(v):f(v);if(!n.interrupt||v===49)return r.enter("listItemPrefix"),r.enter("listItemValue"),d(v)}return e(v)}function d(v){return Fd(v)&&++l<10?(r.consume(v),d):(!n.interrupt||l<2)&&(n.containerState.marker?v===n.containerState.marker:v===41||v===46)?(r.exit("listItemValue"),f(v)):e(v)}function f(v){return r.enter("listItemMarker"),r.consume(v),r.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||v,r.check(Mu,n.interrupt?e:p,r.attempt(iE,b,m))}function p(v){return n.containerState.initialBlankLine=!0,o++,b(v)}function m(v){return Gt(v)?(r.enter("listItemPrefixWhitespace"),r.consume(v),r.exit("listItemPrefixWhitespace"),b):e(v)}function b(v){return n.containerState.size=o+n.sliceSerialize(r.exit("listItemPrefix"),!0).length,t(v)}}function aE(r,t,e){const n=this;return n.containerState._closeFlow=void 0,r.check(Mu,a,o);function a(c){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,se(r,t,"listItemIndent",n.containerState.size+1)(c)}function o(c){return n.containerState.furtherBlankLines||!Gt(c)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,l(c)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,r.attempt(sE,t,l)(c))}function l(c){return n.containerState._closeFlow=!0,n.interrupt=void 0,se(r,r.attempt(an,t,e),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function oE(r,t,e){const n=this;return se(r,a,"listItemIndent",n.containerState.size+1);function a(o){const l=n.events[n.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===n.containerState.size?t(o):e(o)}}function lE(r){r.exit(this.containerState.type)}function uE(r,t,e){const n=this;return se(r,a,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const l=n.events[n.events.length-1];return!Gt(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):e(o)}}const y1={name:"setextUnderline",resolveTo:cE,tokenize:hE};function cE(r,t){let e=r.length,n,a,o;for(;e--;)if(r[e][0]==="enter"){if(r[e][1].type==="content"){n=e;break}r[e][1].type==="paragraph"&&(a=e)}else r[e][1].type==="content"&&r.splice(e,1),!o&&r[e][1].type==="definition"&&(o=e);const l={type:"setextHeading",start:{...r[n][1].start},end:{...r[r.length-1][1].end}};return r[a][1].type="setextHeadingText",o?(r.splice(a,0,["enter",l,t]),r.splice(o+1,0,["exit",r[n][1],t]),r[n][1].end={...r[o][1].end}):r[n][1]=l,r.push(["exit",l,t]),r}function hE(r,t,e){const n=this;let a;return o;function o(f){let p=n.events.length,m;for(;p--;)if(n.events[p][1].type!=="lineEnding"&&n.events[p][1].type!=="linePrefix"&&n.events[p][1].type!=="content"){m=n.events[p][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||m)?(r.enter("setextHeadingLine"),a=f,l(f)):e(f)}function l(f){return r.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===a?(r.consume(f),c):(r.exit("setextHeadingLineSequence"),Gt(f)?se(r,d,"lineSuffix")(f):d(f))}function d(f){return f===null||xt(f)?(r.exit("setextHeadingLine"),t(f)):e(f)}}const dE={tokenize:fE};function fE(r){const t=this,e=r.attempt(Mu,n,r.attempt(this.parser.constructs.flowInitial,a,se(r,r.attempt(this.parser.constructs.flow,a,r.attempt(bx,a)),"linePrefix")));return e;function n(o){if(o===null){r.consume(o);return}return r.enter("lineEndingBlank"),r.consume(o),r.exit("lineEndingBlank"),t.currentConstruct=void 0,e}function a(o){if(o===null){r.consume(o);return}return r.enter("lineEnding"),r.consume(o),r.exit("lineEnding"),t.currentConstruct=void 0,e}}const pE={resolveAll:lb()},gE=ob("string"),mE=ob("text");function ob(r){return{resolveAll:lb(r==="text"?yE:void 0),tokenize:t};function t(e){const n=this,a=this.parser.constructs[r],o=e.attempt(a,l,c);return l;function l(p){return f(p)?o(p):c(p)}function c(p){if(p===null){e.consume(p);return}return e.enter("data"),e.consume(p),d}function d(p){return f(p)?(e.exit("data"),o(p)):(e.consume(p),d)}function f(p){if(p===null)return!0;const m=a[p];let b=-1;if(m)for(;++b<m.length;){const v=m[b];if(!v.previous||v.previous.call(n,n.previous))return!0}return!1}}}function lb(r){return t;function t(e,n){let a=-1,o;for(;++a<=e.length;)o===void 0?e[a]&&e[a][1].type==="data"&&(o=a,a++):(!e[a]||e[a][1].type!=="data")&&(a!==o+2&&(e[o][1].end=e[a-1][1].end,e.splice(o+2,a-o-2),a=o+2),o=void 0);return r?r(e,n):e}}function yE(r,t){let e=0;for(;++e<=r.length;)if((e===r.length||r[e][1].type==="lineEnding")&&r[e-1][1].type==="data"){const n=r[e-1][1],a=t.sliceStream(n);let o=a.length,l=-1,c=0,d;for(;o--;){const f=a[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(f===-2)d=!0,c++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&e===r.length&&(c=0),c){const f={type:e===r.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:n.start._bufferIndex+l,_index:n.start._index+o,line:n.end.line,column:n.end.column-c,offset:n.end.offset-c},end:{...n.end}};n.end={...f.start},n.start.offset===n.end.offset?Object.assign(n,f):(r.splice(e,0,["enter",f,t],["exit",f,t]),e+=2)}e++}return r}const bE={42:an,43:an,45:an,48:an,49:an,50:an,51:an,52:an,53:an,54:an,55:an,56:an,57:an,62:tb},vE={91:xx},SE={[-2]:dd,[-1]:dd,32:dd},AE={35:kx,42:gu,45:[y1,gu],60:Ox,61:y1,95:gu,96:g1,126:g1},wE={38:nb,92:eb},xE={[-5]:fd,[-4]:fd,[-3]:fd,33:Qx,38:nb,42:Ud,60:[J3,Ux],91:Jx,92:[Tx,eb],93:yf,95:Ud,96:dx},EE={null:[Ud,pE]},CE={null:[42,95]},_E={null:[]},TE=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:CE,contentInitial:vE,disable:_E,document:bE,flow:AE,flowInitial:SE,insideSpan:EE,string:wE,text:xE},Symbol.toStringTag,{value:"Module"}));function RE(r,t,e){let n={_bufferIndex:-1,_index:0,line:e&&e.line||1,column:e&&e.column||1,offset:e&&e.offset||0};const a={},o=[];let l=[],c=[];const d={attempt:z(D),check:z(M),consume:k,enter:R,exit:O,interrupt:z(M,{interrupt:!0})},f={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:r,previous:null,sliceSerialize:b,sliceStream:v,write:m};let p=t.tokenize.call(f,d);return t.resolveAll&&o.push(t),f;function m(Y){return l=Fn(l,Y),C(),l[l.length-1]!==null?[]:(H(t,0),f.events=mf(o,f.events,f),f.events)}function b(Y,et){return ME(v(Y),et)}function v(Y){return kE(l,Y)}function w(){const{_bufferIndex:Y,_index:et,line:nt,column:J,offset:at}=n;return{_bufferIndex:Y,_index:et,line:nt,column:J,offset:at}}function S(Y){a[Y.line]=Y.column,$()}function C(){let Y;for(;n._index<l.length;){const et=l[n._index];if(typeof et=="string")for(Y=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===Y&&n._bufferIndex<et.length;)A(et.charCodeAt(n._bufferIndex));else A(et)}}function A(Y){p=p(Y)}function k(Y){xt(Y)?(n.line++,n.column=1,n.offset+=Y===-3?2:1,$()):Y!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===l[n._index].length&&(n._bufferIndex=-1,n._index++)),f.previous=Y}function R(Y,et){const nt=et||{};return nt.type=Y,nt.start=w(),f.events.push(["enter",nt,f]),c.push(nt),nt}function O(Y){const et=c.pop();return et.end=w(),f.events.push(["exit",et,f]),et}function D(Y,et){H(Y,et.from)}function M(Y,et){et.restore()}function z(Y,et){return nt;function nt(J,at,P){let G,it,ft,E;return Array.isArray(J)?st(J):"tokenize"in J?st([J]):K(J);function K(ut){return Et;function Et(Ct){const jt=Ct!==null&&ut[Ct],It=Ct!==null&&ut.null,_e=[...Array.isArray(jt)?jt:jt?[jt]:[],...Array.isArray(It)?It:It?[It]:[]];return st(_e)(Ct)}}function st(ut){return G=ut,it=0,ut.length===0?P:T(ut[it])}function T(ut){return Et;function Et(Ct){return E=V(),ft=ut,ut.partial||(f.currentConstruct=ut),ut.name&&f.parser.constructs.disable.null.includes(ut.name)?yt():ut.tokenize.call(et?Object.assign(Object.create(f),et):f,d,lt,yt)(Ct)}}function lt(ut){return Y(ft,E),at}function yt(ut){return E.restore(),++it<G.length?T(G[it]):P}}}function H(Y,et){Y.resolveAll&&!o.includes(Y)&&o.push(Y),Y.resolve&&ci(f.events,et,f.events.length-et,Y.resolve(f.events.slice(et),f)),Y.resolveTo&&(f.events=Y.resolveTo(f.events,f))}function V(){const Y=w(),et=f.previous,nt=f.currentConstruct,J=f.events.length,at=Array.from(c);return{from:J,restore:P};function P(){n=Y,f.previous=et,f.currentConstruct=nt,f.events.length=J,c=at,$()}}function $(){n.line in a&&n.column<2&&(n.column=a[n.line],n.offset+=a[n.line]-1)}}function kE(r,t){const e=t.start._index,n=t.start._bufferIndex,a=t.end._index,o=t.end._bufferIndex;let l;if(e===a)l=[r[e].slice(n,o)];else{if(l=r.slice(e,a),n>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(n):l.shift()}o>0&&l.push(r[a].slice(0,o))}return l}function ME(r,t){let e=-1;const n=[];let a;for(;++e<r.length;){const o=r[e];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&a)continue;l=" ";break}default:l=String.fromCharCode(o)}a=o===-2,n.push(l)}return n.join("")}function DE(r){const n={constructs:I3([TE,...(r||{}).extensions||[]]),content:a(X3),defined:[],document:a($3),flow:a(dE),lazy:{},string:a(gE),text:a(mE)};return n;function a(o){return l;function l(c){return RE(n,o,c)}}}function LE(r){for(;!ib(r););return r}const b1=/[\0\t\n\r]/g;function OE(){let r=1,t="",e=!0,n;return a;function a(o,l,c){const d=[];let f,p,m,b,v;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,t="",e&&(o.charCodeAt(0)===65279&&m++,e=void 0);m<o.length;){if(b1.lastIndex=m,f=b1.exec(o),b=f&&f.index!==void 0?f.index:o.length,v=o.charCodeAt(b),!f){t=o.slice(m);break}if(v===10&&m===b&&n)d.push(-3),n=void 0;else switch(n&&(d.push(-5),n=void 0),m<b&&(d.push(o.slice(m,b)),r+=b-m),v){case 0:{d.push(65533),r++;break}case 9:{for(p=Math.ceil(r/4)*4,d.push(-2);r++<p;)d.push(-1);break}case 10:{d.push(-4),r=1;break}default:n=!0,r=1}m=b+1}return c&&(n&&d.push(-5),t&&d.push(t),d.push(null)),d}}const NE=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function PE(r){return r.replace(NE,BE)}function BE(r,t,e){if(t)return t;if(e.charCodeAt(0)===35){const a=e.charCodeAt(1),o=a===120||a===88;return Jy(e.slice(o?2:1),o?16:10)}return gf(e)||r}const ub={}.hasOwnProperty;function zE(r,t,e){return typeof t!="string"&&(e=t,t=void 0),IE(e)(LE(DE(e).document().write(OE()(r,t,!0))))}function IE(r){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(fi),autolinkProtocol:V,autolinkEmail:V,atxHeading:o(re),blockQuote:o(It),characterEscape:V,characterReference:V,codeFenced:o(_e),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(_e,l),codeText:o($e,l),codeTextData:V,data:V,codeFlowValue:V,definition:o(Ot),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(qt),hardBreakEscape:o(ue),hardBreakTrailing:o(ue),htmlFlow:o(Ae,l),htmlFlowData:V,htmlText:o(Ae,l),htmlTextData:V,image:o(di),label:l,link:o(fi),listItem:o(Un),listItemValue:b,listOrdered:o(ds,m),listUnordered:o(ds),paragraph:o(ta),reference:T,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(re),strong:o(Vs),thematicBreak:o(na)},exit:{atxHeading:d(),atxHeadingSequence:D,autolink:d(),autolinkEmail:jt,autolinkProtocol:Ct,blockQuote:d(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:yt,characterReferenceMarkerNumeric:yt,characterReferenceValue:ut,characterReference:Et,codeFenced:d(C),codeFencedFence:S,codeFencedFenceInfo:v,codeFencedFenceMeta:w,codeFlowValue:$,codeIndented:d(A),codeText:d(at),codeTextData:$,data:$,definition:d(),definitionDestinationString:O,definitionLabelString:k,definitionTitleString:R,emphasis:d(),hardBreakEscape:d(et),hardBreakTrailing:d(et),htmlFlow:d(nt),htmlFlowData:$,htmlText:d(J),htmlTextData:$,image:d(G),label:ft,labelText:it,lineEnding:Y,link:d(P),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:lt,resourceDestinationString:E,resourceTitleString:K,resource:st,setextHeading:d(H),setextHeadingLineSequence:z,setextHeadingText:M,strong:d(),thematicBreak:d()}};cb(t,(r||{}).mdastExtensions||[]);const e={};return n;function n(W){let rt={type:"root",children:[]};const pt={stack:[rt],tokenStack:[],config:t,enter:c,exit:f,buffer:l,resume:p,data:e},gt=[];let Ut=-1;for(;++Ut<W.length;)if(W[Ut][1].type==="listOrdered"||W[Ut][1].type==="listUnordered")if(W[Ut][0]==="enter")gt.push(Ut);else{const hn=gt.pop();Ut=a(W,hn,Ut)}for(Ut=-1;++Ut<W.length;){const hn=t[W[Ut][0]];ub.call(hn,W[Ut][1].type)&&hn[W[Ut][1].type].call(Object.assign({sliceSerialize:W[Ut][2].sliceSerialize},pt),W[Ut][1])}if(pt.tokenStack.length>0){const hn=pt.tokenStack[pt.tokenStack.length-1];(hn[1]||v1).call(pt,void 0,hn[0])}for(rt.position={start:as(W.length>0?W[0][1].start:{line:1,column:1,offset:0}),end:as(W.length>0?W[W.length-2][1].end:{line:1,column:1,offset:0})},Ut=-1;++Ut<t.transforms.length;)rt=t.transforms[Ut](rt)||rt;return rt}function a(W,rt,pt){let gt=rt-1,Ut=-1,hn=!1,pi,Ze,Yn,dn;for(;++gt<=pt;){const ke=W[gt];switch(ke[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ke[0]==="enter"?Ut++:Ut--,dn=void 0;break}case"lineEndingBlank":{ke[0]==="enter"&&(pi&&!dn&&!Ut&&!Yn&&(Yn=gt),dn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:dn=void 0}if(!Ut&&ke[0]==="enter"&&ke[1].type==="listItemPrefix"||Ut===-1&&ke[0]==="exit"&&(ke[1].type==="listUnordered"||ke[1].type==="listOrdered")){if(pi){let _n=gt;for(Ze=void 0;_n--;){const Hn=W[_n];if(Hn[1].type==="lineEnding"||Hn[1].type==="lineEndingBlank"){if(Hn[0]==="exit")continue;Ze&&(W[Ze][1].type="lineEndingBlank",hn=!0),Hn[1].type="lineEnding",Ze=_n}else if(!(Hn[1].type==="linePrefix"||Hn[1].type==="blockQuotePrefix"||Hn[1].type==="blockQuotePrefixWhitespace"||Hn[1].type==="blockQuoteMarker"||Hn[1].type==="listItemIndent"))break}Yn&&(!Ze||Yn<Ze)&&(pi._spread=!0),pi.end=Object.assign({},Ze?W[Ze][1].start:ke[1].end),W.splice(Ze||gt,0,["exit",pi,ke[2]]),gt++,pt++}if(ke[1].type==="listItemPrefix"){const _n={type:"listItem",_spread:!1,start:Object.assign({},ke[1].start),end:void 0};pi=_n,W.splice(gt,0,["enter",_n,ke[2]]),gt++,pt++,Yn=void 0,dn=!0}}}return W[rt][1]._spread=hn,pt}function o(W,rt){return pt;function pt(gt){c.call(this,W(gt),gt),rt&&rt.call(this,gt)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(W,rt,pt){this.stack[this.stack.length-1].children.push(W),this.stack.push(W),this.tokenStack.push([rt,pt||void 0]),W.position={start:as(rt.start),end:void 0}}function d(W){return rt;function rt(pt){W&&W.call(this,pt),f.call(this,pt)}}function f(W,rt){const pt=this.stack.pop(),gt=this.tokenStack.pop();if(gt)gt[0].type!==W.type&&(rt?rt.call(this,W,gt[0]):(gt[1]||v1).call(this,W,gt[0]));else throw new Error("Cannot close `"+W.type+"` ("+fo({start:W.start,end:W.end})+"): its not open");pt.position.end=as(W.end)}function p(){return B3(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function b(W){if(this.data.expectingFirstListItemValue){const rt=this.stack[this.stack.length-2];rt.start=Number.parseInt(this.sliceSerialize(W),10),this.data.expectingFirstListItemValue=void 0}}function v(){const W=this.resume(),rt=this.stack[this.stack.length-1];rt.lang=W}function w(){const W=this.resume(),rt=this.stack[this.stack.length-1];rt.meta=W}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const W=this.resume(),rt=this.stack[this.stack.length-1];rt.value=W.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){const W=this.resume(),rt=this.stack[this.stack.length-1];rt.value=W.replace(/(\r?\n|\r)$/g,"")}function k(W){const rt=this.resume(),pt=this.stack[this.stack.length-1];pt.label=rt,pt.identifier=zr(this.sliceSerialize(W)).toLowerCase()}function R(){const W=this.resume(),rt=this.stack[this.stack.length-1];rt.title=W}function O(){const W=this.resume(),rt=this.stack[this.stack.length-1];rt.url=W}function D(W){const rt=this.stack[this.stack.length-1];if(!rt.depth){const pt=this.sliceSerialize(W).length;rt.depth=pt}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function z(W){const rt=this.stack[this.stack.length-1];rt.depth=this.sliceSerialize(W).codePointAt(0)===61?1:2}function H(){this.data.setextHeadingSlurpLineEnding=void 0}function V(W){const pt=this.stack[this.stack.length-1].children;let gt=pt[pt.length-1];(!gt||gt.type!=="text")&&(gt=ea(),gt.position={start:as(W.start),end:void 0},pt.push(gt)),this.stack.push(gt)}function $(W){const rt=this.stack.pop();rt.value+=this.sliceSerialize(W),rt.position.end=as(W.end)}function Y(W){const rt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const pt=rt.children[rt.children.length-1];pt.position.end=as(W.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(rt.type)&&(V.call(this,W),$.call(this,W))}function et(){this.data.atHardBreak=!0}function nt(){const W=this.resume(),rt=this.stack[this.stack.length-1];rt.value=W}function J(){const W=this.resume(),rt=this.stack[this.stack.length-1];rt.value=W}function at(){const W=this.resume(),rt=this.stack[this.stack.length-1];rt.value=W}function P(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const rt=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=rt,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function G(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const rt=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=rt,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function it(W){const rt=this.sliceSerialize(W),pt=this.stack[this.stack.length-2];pt.label=PE(rt),pt.identifier=zr(rt).toLowerCase()}function ft(){const W=this.stack[this.stack.length-1],rt=this.resume(),pt=this.stack[this.stack.length-1];if(this.data.inReference=!0,pt.type==="link"){const gt=W.children;pt.children=gt}else pt.alt=rt}function E(){const W=this.resume(),rt=this.stack[this.stack.length-1];rt.url=W}function K(){const W=this.resume(),rt=this.stack[this.stack.length-1];rt.title=W}function st(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function lt(W){const rt=this.resume(),pt=this.stack[this.stack.length-1];pt.label=rt,pt.identifier=zr(this.sliceSerialize(W)).toLowerCase(),this.data.referenceType="full"}function yt(W){this.data.characterReferenceType=W.type}function ut(W){const rt=this.sliceSerialize(W),pt=this.data.characterReferenceType;let gt;pt?(gt=Jy(rt,pt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):gt=gf(rt);const Ut=this.stack[this.stack.length-1];Ut.value+=gt}function Et(W){const rt=this.stack.pop();rt.position.end=as(W.end)}function Ct(W){$.call(this,W);const rt=this.stack[this.stack.length-1];rt.url=this.sliceSerialize(W)}function jt(W){$.call(this,W);const rt=this.stack[this.stack.length-1];rt.url="mailto:"+this.sliceSerialize(W)}function It(){return{type:"blockquote",children:[]}}function _e(){return{type:"code",lang:null,meta:null,value:""}}function $e(){return{type:"inlineCode",value:""}}function Ot(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function qt(){return{type:"emphasis",children:[]}}function re(){return{type:"heading",depth:0,children:[]}}function ue(){return{type:"break"}}function Ae(){return{type:"html",value:""}}function di(){return{type:"image",title:null,url:"",alt:null}}function fi(){return{type:"link",title:null,url:"",children:[]}}function ds(W){return{type:"list",ordered:W.type==="listOrdered",start:null,spread:W._spread,children:[]}}function Un(W){return{type:"listItem",spread:W._spread,checked:null,children:[]}}function ta(){return{type:"paragraph",children:[]}}function Vs(){return{type:"strong",children:[]}}function ea(){return{type:"text",value:""}}function na(){return{type:"thematicBreak"}}}function as(r){return{line:r.line,column:r.column,offset:r.offset}}function cb(r,t){let e=-1;for(;++e<t.length;){const n=t[e];Array.isArray(n)?cb(r,n):FE(r,n)}}function FE(r,t){let e;for(e in t)if(ub.call(t,e))switch(e){case"canContainEols":{const n=t[e];n&&r[e].push(...n);break}case"transforms":{const n=t[e];n&&r[e].push(...n);break}case"enter":case"exit":{const n=t[e];n&&Object.assign(r[e],n);break}}}function v1(r,t){throw r?new Error("Cannot close `"+r.type+"` ("+fo({start:r.start,end:r.end})+"): a different token (`"+t.type+"`, "+fo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+fo({start:t.start,end:t.end})+") is still open")}function UE(r){const t=this;t.parser=e;function e(n){return zE(n,{...t.data("settings"),...r,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function HE(r,t){const e={type:"element",tagName:"blockquote",properties:{},children:r.wrap(r.all(t),!0)};return r.patch(t,e),r.applyData(t,e)}function jE(r,t){const e={type:"element",tagName:"br",properties:{},children:[]};return r.patch(t,e),[r.applyData(t,e),{type:"text",value:`
`}]}function VE(r,t){const e=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:e}]};return t.meta&&(a.data={meta:t.meta}),r.patch(t,a),a=r.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},r.patch(t,a),a}function GE(r,t){const e={type:"element",tagName:"del",properties:{},children:r.all(t)};return r.patch(t,e),r.applyData(t,e)}function qE(r,t){const e={type:"element",tagName:"em",properties:{},children:r.all(t)};return r.patch(t,e),r.applyData(t,e)}function XE(r,t){const e=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),a=Qr(n.toLowerCase()),o=r.footnoteOrder.indexOf(n);let l,c=r.footnoteCounts.get(n);c===void 0?(c=0,r.footnoteOrder.push(n),l=r.footnoteOrder.length):l=o+1,c+=1,r.footnoteCounts.set(n,c);const d={type:"element",tagName:"a",properties:{href:"#"+e+"fn-"+a,id:e+"fnref-"+a+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};r.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return r.patch(t,f),r.applyData(t,f)}function YE(r,t){const e={type:"element",tagName:"h"+t.depth,properties:{},children:r.all(t)};return r.patch(t,e),r.applyData(t,e)}function $E(r,t){if(r.options.allowDangerousHtml){const e={type:"raw",value:t.value};return r.patch(t,e),r.applyData(t,e)}}function hb(r,t){const e=t.referenceType;let n="]";if(e==="collapsed"?n+="[]":e==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const a=r.all(t),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const l=a[a.length-1];return l&&l.type==="text"?l.value+=n:a.push({type:"text",value:n}),a}function KE(r,t){const e=String(t.identifier).toUpperCase(),n=r.definitionById.get(e);if(!n)return hb(r,t);const a={src:Qr(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(a.title=n.title);const o={type:"element",tagName:"img",properties:a,children:[]};return r.patch(t,o),r.applyData(t,o)}function WE(r,t){const e={src:Qr(t.url)};t.alt!==null&&t.alt!==void 0&&(e.alt=t.alt),t.title!==null&&t.title!==void 0&&(e.title=t.title);const n={type:"element",tagName:"img",properties:e,children:[]};return r.patch(t,n),r.applyData(t,n)}function QE(r,t){const e={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};r.patch(t,e);const n={type:"element",tagName:"code",properties:{},children:[e]};return r.patch(t,n),r.applyData(t,n)}function ZE(r,t){const e=String(t.identifier).toUpperCase(),n=r.definitionById.get(e);if(!n)return hb(r,t);const a={href:Qr(n.url||"")};n.title!==null&&n.title!==void 0&&(a.title=n.title);const o={type:"element",tagName:"a",properties:a,children:r.all(t)};return r.patch(t,o),r.applyData(t,o)}function JE(r,t){const e={href:Qr(t.url)};t.title!==null&&t.title!==void 0&&(e.title=t.title);const n={type:"element",tagName:"a",properties:e,children:r.all(t)};return r.patch(t,n),r.applyData(t,n)}function t4(r,t,e){const n=r.all(t),a=e?e4(e):db(t),o={},l=[];if(typeof t.checked=="boolean"){const p=n[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},n.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<n.length;){const p=n[c];(a||c!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!a?l.push(...p.children):l.push(p)}const d=n[n.length-1];d&&(a||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return r.patch(t,f),r.applyData(t,f)}function e4(r){let t=!1;if(r.type==="list"){t=r.spread||!1;const e=r.children;let n=-1;for(;!t&&++n<e.length;)t=db(e[n])}return t}function db(r){const t=r.spread;return t??r.children.length>1}function n4(r,t){const e={},n=r.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(e.start=t.start);++a<n.length;){const l=n[a];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){e.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:e,children:r.wrap(n,!0)};return r.patch(t,o),r.applyData(t,o)}function i4(r,t){const e={type:"element",tagName:"p",properties:{},children:r.all(t)};return r.patch(t,e),r.applyData(t,e)}function s4(r,t){const e={type:"root",children:r.wrap(r.all(t))};return r.patch(t,e),r.applyData(t,e)}function r4(r,t){const e={type:"element",tagName:"strong",properties:{},children:r.all(t)};return r.patch(t,e),r.applyData(t,e)}function a4(r,t){const e=r.all(t),n=e.shift(),a=[];if(n){const l={type:"element",tagName:"thead",properties:{},children:r.wrap([n],!0)};r.patch(t.children[0],l),a.push(l)}if(e.length>0){const l={type:"element",tagName:"tbody",properties:{},children:r.wrap(e,!0)},c=hf(t.children[1]),d=Xy(t.children[t.children.length-1]);c&&d&&(l.position={start:c,end:d}),a.push(l)}const o={type:"element",tagName:"table",properties:{},children:r.wrap(a,!0)};return r.patch(t,o),r.applyData(t,o)}function o4(r,t,e){const n=e?e.children:void 0,o=(n?n.indexOf(t):1)===0?"th":"td",l=e&&e.type==="table"?e.align:void 0,c=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<c;){const m=t.children[d],b={},v=l?l[d]:void 0;v&&(b.align=v);let w={type:"element",tagName:o,properties:b,children:[]};m&&(w.children=r.all(m),r.patch(m,w),w=r.applyData(m,w)),f.push(w)}const p={type:"element",tagName:"tr",properties:{},children:r.wrap(f,!0)};return r.patch(t,p),r.applyData(t,p)}function l4(r,t){const e={type:"element",tagName:"td",properties:{},children:r.all(t)};return r.patch(t,e),r.applyData(t,e)}const S1=9,A1=32;function u4(r){const t=String(r),e=/\r?\n|\r/g;let n=e.exec(t),a=0;const o=[];for(;n;)o.push(w1(t.slice(a,n.index),a>0,!0),n[0]),a=n.index+n[0].length,n=e.exec(t);return o.push(w1(t.slice(a),a>0,!1)),o.join("")}function w1(r,t,e){let n=0,a=r.length;if(t){let o=r.codePointAt(n);for(;o===S1||o===A1;)n++,o=r.codePointAt(n)}if(e){let o=r.codePointAt(a-1);for(;o===S1||o===A1;)a--,o=r.codePointAt(a-1)}return a>n?r.slice(n,a):""}function c4(r,t){const e={type:"text",value:u4(String(t.value))};return r.patch(t,e),r.applyData(t,e)}function h4(r,t){const e={type:"element",tagName:"hr",properties:{},children:[]};return r.patch(t,e),r.applyData(t,e)}const d4={blockquote:HE,break:jE,code:VE,delete:GE,emphasis:qE,footnoteReference:XE,heading:YE,html:$E,imageReference:KE,image:WE,inlineCode:QE,linkReference:ZE,link:JE,listItem:t4,list:n4,paragraph:i4,root:s4,strong:r4,table:a4,tableCell:l4,tableRow:o4,text:c4,thematicBreak:h4,toml:Zl,yaml:Zl,definition:Zl,footnoteDefinition:Zl};function Zl(){}const fb=-1,Du=0,go=1,Au=2,bf=3,vf=4,Sf=5,Af=6,pb=7,gb=8,x1=typeof self=="object"?self:globalThis,f4=(r,t)=>{const e=(a,o)=>(r.set(o,a),a),n=a=>{if(r.has(a))return r.get(a);const[o,l]=t[a];switch(o){case Du:case fb:return e(l,a);case go:{const c=e([],a);for(const d of l)c.push(n(d));return c}case Au:{const c=e({},a);for(const[d,f]of l)c[n(d)]=n(f);return c}case bf:return e(new Date(l),a);case vf:{const{source:c,flags:d}=l;return e(new RegExp(c,d),a)}case Sf:{const c=e(new Map,a);for(const[d,f]of l)c.set(n(d),n(f));return c}case Af:{const c=e(new Set,a);for(const d of l)c.add(n(d));return c}case pb:{const{name:c,message:d}=l;return e(new x1[c](d),a)}case gb:return e(BigInt(l),a);case"BigInt":return e(Object(BigInt(l)),a);case"ArrayBuffer":return e(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return e(new DataView(c),l)}}return e(new x1[o](l),a)};return n},E1=r=>f4(new Map,r)(0),Mr="",{toString:p4}={},{keys:g4}=Object,so=r=>{const t=typeof r;if(t!=="object"||!r)return[Du,t];const e=p4.call(r).slice(8,-1);switch(e){case"Array":return[go,Mr];case"Object":return[Au,Mr];case"Date":return[bf,Mr];case"RegExp":return[vf,Mr];case"Map":return[Sf,Mr];case"Set":return[Af,Mr];case"DataView":return[go,e]}return e.includes("Array")?[go,e]:e.includes("Error")?[pb,e]:[Au,e]},Jl=([r,t])=>r===Du&&(t==="function"||t==="symbol"),m4=(r,t,e,n)=>{const a=(l,c)=>{const d=n.push(l)-1;return e.set(c,d),d},o=l=>{if(e.has(l))return e.get(l);let[c,d]=so(l);switch(c){case Du:{let p=l;switch(d){case"bigint":c=gb,p=l.toString();break;case"function":case"symbol":if(r)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return a([fb],l)}return a([c,p],l)}case go:{if(d){let b=l;return d==="DataView"?b=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(b=new Uint8Array(l)),a([d,[...b]],l)}const p=[],m=a([c,p],l);for(const b of l)p.push(o(b));return m}case Au:{if(d)switch(d){case"BigInt":return a([d,l.toString()],l);case"Boolean":case"Number":case"String":return a([d,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const p=[],m=a([c,p],l);for(const b of g4(l))(r||!Jl(so(l[b])))&&p.push([o(b),o(l[b])]);return m}case bf:return a([c,l.toISOString()],l);case vf:{const{source:p,flags:m}=l;return a([c,{source:p,flags:m}],l)}case Sf:{const p=[],m=a([c,p],l);for(const[b,v]of l)(r||!(Jl(so(b))||Jl(so(v))))&&p.push([o(b),o(v)]);return m}case Af:{const p=[],m=a([c,p],l);for(const b of l)(r||!Jl(so(b)))&&p.push(o(b));return m}}const{message:f}=l;return a([c,{name:d,message:f}],l)};return o},C1=(r,{json:t,lossy:e}={})=>{const n=[];return m4(!(t||e),!!t,new Map,n)(r),n},wu=typeof structuredClone=="function"?(r,t)=>t&&("json"in t||"lossy"in t)?E1(C1(r,t)):structuredClone(r):(r,t)=>E1(C1(r,t));function y4(r,t){const e=[{type:"text",value:""}];return t>1&&e.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),e}function b4(r,t){return"Back to reference "+(r+1)+(t>1?"-"+t:"")}function v4(r){const t=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",e=r.options.footnoteBackContent||y4,n=r.options.footnoteBackLabel||b4,a=r.options.footnoteLabel||"Footnotes",o=r.options.footnoteLabelTagName||"h2",l=r.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<r.footnoteOrder.length;){const f=r.footnoteById.get(r.footnoteOrder[d]);if(!f)continue;const p=r.all(f),m=String(f.identifier).toUpperCase(),b=Qr(m.toLowerCase());let v=0;const w=[],S=r.footnoteCounts.get(m);for(;S!==void 0&&++v<=S;){w.length>0&&w.push({type:"text",value:" "});let k=typeof e=="string"?e:e(d,v);typeof k=="string"&&(k={type:"text",value:k}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(d,v),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const C=p[p.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const k=C.children[C.children.length-1];k&&k.type==="text"?k.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...w)}else p.push(...w);const A={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:r.wrap(p,!0)};r.patch(f,A),c.push(A)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...wu(l),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:r.wrap(c,!0)},{type:"text",value:`
`}]}}const mb=function(r){if(r==null)return x4;if(typeof r=="function")return Lu(r);if(typeof r=="object")return Array.isArray(r)?S4(r):A4(r);if(typeof r=="string")return w4(r);throw new Error("Expected function, string, or object as test")};function S4(r){const t=[];let e=-1;for(;++e<r.length;)t[e]=mb(r[e]);return Lu(n);function n(...a){let o=-1;for(;++o<t.length;)if(t[o].apply(this,a))return!0;return!1}}function A4(r){const t=r;return Lu(e);function e(n){const a=n;let o;for(o in r)if(a[o]!==t[o])return!1;return!0}}function w4(r){return Lu(t);function t(e){return e&&e.type===r}}function Lu(r){return t;function t(e,n,a){return!!(E4(e)&&r.call(this,e,typeof n=="number"?n:void 0,a||void 0))}}function x4(){return!0}function E4(r){return r!==null&&typeof r=="object"&&"type"in r}const yb=[],C4=!0,_1=!1,_4="skip";function T4(r,t,e,n){let a;typeof t=="function"&&typeof e!="function"?(n=e,e=t):a=t;const o=mb(a),l=n?-1:1;c(r,void 0,[])();function c(d,f,p){const m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){const v=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(d.type+(v?"<"+v+">":""))+")"})}return b;function b(){let v=yb,w,S,C;if((!t||o(d,f,p[p.length-1]||void 0))&&(v=R4(e(d,p)),v[0]===_1))return v;if("children"in d&&d.children){const A=d;if(A.children&&v[0]!==_4)for(S=(n?A.children.length:-1)+l,C=p.concat(A);S>-1&&S<A.children.length;){const k=A.children[S];if(w=c(k,S,C)(),w[0]===_1)return w;S=typeof w[1]=="number"?w[1]:S+l}}return v}}}function R4(r){return Array.isArray(r)?r:typeof r=="number"?[C4,r]:r==null?yb:[r]}function bb(r,t,e,n){let a,o,l;typeof t=="function"&&typeof e!="function"?(o=void 0,l=t,a=e):(o=t,l=e,a=n),T4(r,o,c,a);function c(d,f){const p=f[f.length-1],m=p?p.children.indexOf(d):void 0;return l(d,m,p)}}const Hd={}.hasOwnProperty,k4={};function M4(r,t){const e=t||k4,n=new Map,a=new Map,o=new Map,l={...d4,...e.handlers},c={all:f,applyData:L4,definitionById:n,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:l,one:d,options:e,patch:D4,wrap:N4};return bb(r,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?n:a,b=String(p.identifier).toUpperCase();m.has(b)||m.set(b,p)}}),c;function d(p,m){const b=p.type,v=c.handlers[b];if(Hd.call(c.handlers,b)&&v)return v(c,p,m);if(c.options.passThrough&&c.options.passThrough.includes(b)){if("children"in p){const{children:S,...C}=p,A=wu(C);return A.children=c.all(p),A}return wu(p)}return(c.options.unknownHandler||O4)(c,p,m)}function f(p){const m=[];if("children"in p){const b=p.children;let v=-1;for(;++v<b.length;){const w=c.one(b[v],p);if(w){if(v&&b[v-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=T1(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=T1(S.value))}Array.isArray(w)?m.push(...w):m.push(w)}}}return m}}function D4(r,t){r.position&&(t.position=p3(r))}function L4(r,t){let e=t;if(r&&r.data){const n=r.data.hName,a=r.data.hChildren,o=r.data.hProperties;if(typeof n=="string")if(e.type==="element")e.tagName=n;else{const l="children"in e?e.children:[e];e={type:"element",tagName:n,properties:{},children:l}}e.type==="element"&&o&&Object.assign(e.properties,wu(o)),"children"in e&&e.children&&a!==null&&a!==void 0&&(e.children=a)}return e}function O4(r,t){const e=t.data||{},n="value"in t&&!(Hd.call(e,"hProperties")||Hd.call(e,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:r.all(t)};return r.patch(t,n),r.applyData(t,n)}function N4(r,t){const e=[];let n=-1;for(t&&e.push({type:"text",value:`
`});++n<r.length;)n&&e.push({type:"text",value:`
`}),e.push(r[n]);return t&&r.length>0&&e.push({type:"text",value:`
`}),e}function T1(r){let t=0,e=r.charCodeAt(t);for(;e===9||e===32;)t++,e=r.charCodeAt(t);return r.slice(t)}function R1(r,t){const e=M4(r,t),n=e.one(r,void 0),a=v4(e),o=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function P4(r,t){return r&&"run"in r?async function(e,n){const a=R1(e,{file:n,...t});await r.run(a,n)}:function(e,n){return R1(e,{file:n,...r||t})}}function k1(r){if(r)throw r}var pd,M1;function B4(){if(M1)return pd;M1=1;var r=Object.prototype.hasOwnProperty,t=Object.prototype.toString,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=r.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&r.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!m)return!1;var b;for(b in f);return typeof b>"u"||r.call(f,b)},l=function(f,p){e&&p.name==="__proto__"?e(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},c=function(f,p){if(p==="__proto__")if(r.call(f,p)){if(n)return n(f,p).value}else return;return f[p]};return pd=function d(){var f,p,m,b,v,w,S=arguments[0],C=1,A=arguments.length,k=!1;for(typeof S=="boolean"&&(k=S,S=arguments[1]||{},C=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});C<A;++C)if(f=arguments[C],f!=null)for(p in f)m=c(S,p),b=c(f,p),S!==b&&(k&&b&&(o(b)||(v=a(b)))?(v?(v=!1,w=m&&a(m)?m:[]):w=m&&o(m)?m:{},l(S,{name:p,newValue:d(k,w,b)})):typeof b<"u"&&l(S,{name:p,newValue:b}));return S},pd}var z4=B4();const gd=_o(z4);function jd(r){if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function I4(){const r=[],t={run:e,use:n};return t;function e(...a){let o=-1;const l=a.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...a);function c(d,...f){const p=r[++o];let m=-1;if(d){l(d);return}for(;++m<a.length;)(f[m]===null||f[m]===void 0)&&(f[m]=a[m]);a=f,p?F4(p,c)(...f):l(null,...f)}}function n(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return r.push(a),t}}function F4(r,t){let e;return n;function n(...l){const c=r.length>l.length;let d;c&&l.push(a);try{d=r.apply(this,l)}catch(f){const p=f;if(c&&e)throw p;return a(p)}c||(d&&d.then&&typeof d.then=="function"?d.then(o,a):d instanceof Error?a(d):o(d))}function a(l,...c){e||(e=!0,t(l,...c))}function o(l){a(null,l)}}const ii={basename:U4,dirname:H4,extname:j4,join:V4,sep:"/"};function U4(r,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Do(r);let e=0,n=-1,a=r.length,o;if(t===void 0||t.length===0||t.length>r.length){for(;a--;)if(r.codePointAt(a)===47){if(o){e=a+1;break}}else n<0&&(o=!0,n=a+1);return n<0?"":r.slice(e,n)}if(t===r)return"";let l=-1,c=t.length-1;for(;a--;)if(r.codePointAt(a)===47){if(o){e=a+1;break}}else l<0&&(o=!0,l=a+1),c>-1&&(r.codePointAt(a)===t.codePointAt(c--)?c<0&&(n=a):(c=-1,n=l));return e===n?n=l:n<0&&(n=r.length),r.slice(e,n)}function H4(r){if(Do(r),r.length===0)return".";let t=-1,e=r.length,n;for(;--e;)if(r.codePointAt(e)===47){if(n){t=e;break}}else n||(n=!0);return t<0?r.codePointAt(0)===47?"/":".":t===1&&r.codePointAt(0)===47?"//":r.slice(0,t)}function j4(r){Do(r);let t=r.length,e=-1,n=0,a=-1,o=0,l;for(;t--;){const c=r.codePointAt(t);if(c===47){if(l){n=t+1;break}continue}e<0&&(l=!0,e=t+1),c===46?a<0?a=t:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||e<0||o===0||o===1&&a===e-1&&a===n+1?"":r.slice(a,e)}function V4(...r){let t=-1,e;for(;++t<r.length;)Do(r[t]),r[t]&&(e=e===void 0?r[t]:e+"/"+r[t]);return e===void 0?".":G4(e)}function G4(r){Do(r);const t=r.codePointAt(0)===47;let e=q4(r,!t);return e.length===0&&!t&&(e="."),e.length>0&&r.codePointAt(r.length-1)===47&&(e+="/"),t?"/"+e:e}function q4(r,t){let e="",n=0,a=-1,o=0,l=-1,c,d;for(;++l<=r.length;){if(l<r.length)c=r.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(a===l-1||o===1))if(a!==l-1&&o===2){if(e.length<2||n!==2||e.codePointAt(e.length-1)!==46||e.codePointAt(e.length-2)!==46){if(e.length>2){if(d=e.lastIndexOf("/"),d!==e.length-1){d<0?(e="",n=0):(e=e.slice(0,d),n=e.length-1-e.lastIndexOf("/")),a=l,o=0;continue}}else if(e.length>0){e="",n=0,a=l,o=0;continue}}t&&(e=e.length>0?e+"/..":"..",n=2)}else e.length>0?e+="/"+r.slice(a+1,l):e=r.slice(a+1,l),n=l-a-1;a=l,o=0}else c===46&&o>-1?o++:o=-1}return e}function Do(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}const X4={cwd:Y4};function Y4(){return"/"}function Vd(r){return!!(r!==null&&typeof r=="object"&&"href"in r&&r.href&&"protocol"in r&&r.protocol&&r.auth===void 0)}function $4(r){if(typeof r=="string")r=new URL(r);else if(!Vd(r)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+r+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(r.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return K4(r)}function K4(r){if(r.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=r.pathname;let e=-1;for(;++e<t.length;)if(t.codePointAt(e)===37&&t.codePointAt(e+1)===50){const n=t.codePointAt(e+2);if(n===70||n===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const md=["history","path","basename","stem","extname","dirname"];class vb{constructor(t){let e;t?Vd(t)?e={path:t}:typeof t=="string"||W4(t)?e={value:t}:e=t:e={},this.cwd="cwd"in e?"":X4.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<md.length;){const o=md[n];o in e&&e[o]!==void 0&&e[o]!==null&&(this[o]=o==="history"?[...e[o]]:e[o])}let a;for(a in e)md.includes(a)||(this[a]=e[a])}get basename(){return typeof this.path=="string"?ii.basename(this.path):void 0}set basename(t){bd(t,"basename"),yd(t,"basename"),this.path=ii.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ii.dirname(this.path):void 0}set dirname(t){D1(this.basename,"dirname"),this.path=ii.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ii.extname(this.path):void 0}set extname(t){if(yd(t,"extname"),D1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ii.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Vd(t)&&(t=$4(t)),bd(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ii.basename(this.path,this.extname):void 0}set stem(t){bd(t,"stem"),yd(t,"stem"),this.path=ii.join(this.dirname||"",t+(this.extname||""))}fail(t,e,n){const a=this.message(t,e,n);throw a.fatal=!0,a}info(t,e,n){const a=this.message(t,e,n);return a.fatal=void 0,a}message(t,e,n){const a=new Ye(t,e,n);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function yd(r,t){if(r&&r.includes(ii.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ii.sep+"`")}function bd(r,t){if(!r)throw new Error("`"+t+"` cannot be empty")}function D1(r,t){if(!r)throw new Error("Setting `"+t+"` requires `path` to be set too")}function W4(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const Q4=function(r){const n=this.constructor.prototype,a=n[r],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,n),o},Z4={}.hasOwnProperty;class wf extends Q4{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=I4()}copy(){const t=new wf;let e=-1;for(;++e<this.attachers.length;){const n=this.attachers[e];t.use(...n)}return t.data(gd(!0,{},this.namespace)),t}data(t,e){return typeof t=="string"?arguments.length===2?(Ad("data",this.frozen),this.namespace[t]=e,this):Z4.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ad("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[e,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const a=e.call(t,...n);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const e=tu(t),n=this.parser||this.Parser;return vd("parse",n),n(String(e),e)}process(t,e){const n=this;return this.freeze(),vd("process",this.parser||this.Parser),Sd("process",this.compiler||this.Compiler),e?a(void 0,e):new Promise(a);function a(o,l){const c=tu(t),d=n.parse(c);n.run(d,c,function(p,m,b){if(p||!m||!b)return f(p);const v=m,w=n.stringify(v,b);eC(w)?b.value=w:b.result=w,f(p,b)});function f(p,m){p||!m?l(p):o?o(m):e(void 0,m)}}}processSync(t){let e=!1,n;return this.freeze(),vd("processSync",this.parser||this.Parser),Sd("processSync",this.compiler||this.Compiler),this.process(t,a),O1("processSync","process",e),n;function a(o,l){e=!0,k1(o),n=l}}run(t,e,n){L1(t),this.freeze();const a=this.transformers;return!n&&typeof e=="function"&&(n=e,e=void 0),n?o(void 0,n):new Promise(o);function o(l,c){const d=tu(e);a.run(t,d,f);function f(p,m,b){const v=m||t;p?c(p):l?l(v):n(void 0,v,b)}}}runSync(t,e){let n=!1,a;return this.run(t,e,o),O1("runSync","run",n),a;function o(l,c){k1(l),a=c,n=!0}}stringify(t,e){this.freeze();const n=tu(e),a=this.compiler||this.Compiler;return Sd("stringify",a),L1(t),a(t,n)}use(t,...e){const n=this.attachers,a=this.namespace;if(Ad("use",this.frozen),t!=null)if(typeof t=="function")d(t,e);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...m]=f;d(p,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(a.settings=gd(!0,a.settings,f.settings))}function c(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const m=f[p];o(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,p){let m=-1,b=-1;for(;++m<n.length;)if(n[m][0]===f){b=m;break}if(b===-1)n.push([f,...p]);else if(p.length>0){let[v,...w]=p;const S=n[b][1];jd(S)&&jd(v)&&(v=gd(!0,S,v)),n[b]=[f,v,...w]}}}}const J4=new wf().freeze();function vd(r,t){if(typeof t!="function")throw new TypeError("Cannot `"+r+"` without `parser`")}function Sd(r,t){if(typeof t!="function")throw new TypeError("Cannot `"+r+"` without `compiler`")}function Ad(r,t){if(t)throw new Error("Cannot call `"+r+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function L1(r){if(!jd(r)||typeof r.type!="string")throw new TypeError("Expected node, got `"+r+"`")}function O1(r,t,e){if(!e)throw new Error("`"+r+"` finished async. Use `"+t+"` instead")}function tu(r){return tC(r)?r:new vb(r)}function tC(r){return!!(r&&typeof r=="object"&&"message"in r&&"messages"in r)}function eC(r){return typeof r=="string"||nC(r)}function nC(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const iC="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",N1=[],P1={allowDangerousHtml:!0},sC=/^(https?|ircs?|mailto|xmpp)$/i,rC=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function aC(r){const t=oC(r),e=lC(r);return uC(t.runSync(t.parse(e),e),r)}function oC(r){const t=r.rehypePlugins||N1,e=r.remarkPlugins||N1,n=r.remarkRehypeOptions?{...r.remarkRehypeOptions,...P1}:P1;return J4().use(UE).use(e).use(P4,n).use(t)}function lC(r){const t=r.children||"",e=new vb;return typeof t=="string"&&(e.value=t),e}function uC(r,t){const e=t.allowedElements,n=t.allowElement,a=t.components,o=t.disallowedElements,l=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||cC;for(const p of rC)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+iC+p.id,void 0);return bb(r,f),v3(r,{Fragment:N.Fragment,components:a,ignoreInvalidStyle:!0,jsx:N.jsx,jsxs:N.jsxs,passKeys:!0,passNode:!0});function f(p,m,b){if(p.type==="raw"&&b&&typeof m=="number")return l?b.children.splice(m,1):b.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let v;for(v in hd)if(Object.hasOwn(hd,v)&&Object.hasOwn(p.properties,v)){const w=p.properties[v],S=hd[v];(S===null||S.includes(p.tagName))&&(p.properties[v]=d(String(w||""),v,p))}}if(p.type==="element"){let v=e?!e.includes(p.tagName):o?o.includes(p.tagName):!1;if(!v&&n&&typeof m=="number"&&(v=!n(p,m,b)),v&&b&&typeof m=="number")return c&&p.children?b.children.splice(m,1,...p.children):b.children.splice(m,1),m}}}function cC(r){const t=r.indexOf(":"),e=r.indexOf("?"),n=r.indexOf("#"),a=r.indexOf("/");return t===-1||a!==-1&&t>a||e!==-1&&t>e||n!==-1&&t>n||sC.test(r.slice(0,t))?r:""}function hC({isOpen:r,onClose:t,selectedProject:e}){const[n,a]=I.useState("");return I.useEffect(()=>{r&&e&&fetch(`./data/${e.id}.md`).then(o=>{if(!o.ok)throw new Error("Markdown file not found");return o.text()}).then(o=>a(o)).catch(o=>{console.error("Error loading markdown:",o),a(`# Project Details

An error occurred loading the markdown file, it is probably my dodgy code! Please refresh the page!`)})},[r,e]),r?N.jsx("div",{className:"modal-overlay",onClick:t,children:N.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[N.jsxs("div",{className:"modal-header",children:[N.jsxs("div",{className:"modal-header-content",children:[N.jsx("h1",{children:e.projectName}),e&&N.jsxs("div",{className:"modal-project-info",children:[N.jsx("p",{className:"modal-blurb",children:e.blurb}),e.role.trim()!==""&&N.jsxs("div",{className:"modal-role",children:[N.jsx("span",{className:"role-label",children:"Role: "}),N.jsx("span",{className:"role-text",children:e.role})]}),N.jsxs("div",{children:[N.jsx("span",{className:"year-label",children:"Year: "}),N.jsx("span",{className:"year-text",children:Array.isArray(e.year)?e.year.join(", "):e.year})]})]})]}),N.jsx("button",{className:"modal-close",onClick:t,children:""})]}),N.jsxs("div",{className:"modal-body",children:[N.jsx("div",{className:"markdown-content",children:N.jsx(aC,{children:n})}),e.links.length>0&&N.jsxs("div",{className:"project-links",children:[N.jsx("h3",{children:"Links"}),e.links.map((o,l)=>N.jsx("div",{children:N.jsxs("a",{href:o.url,target:"_blank",rel:"noreferrer",children:[N.jsx("span",{children:o.label}),N.jsxs("span",{children:[" ",Gr[o.site]]})]})},l))]})]})]})}):null}function dC({technologyFilter:r,statusFilter:t}){const[e,n]=I.useState(null),[a,o]=I.useState(!1),l=zy.filter(f=>{const p=!r||f.technologyUsed.includes(r),m=t==null||Od[f.status]===t;return p&&m}),c=f=>{n(f),o(!0)},d=()=>{o(!1),n(null)};return N.jsxs("div",{className:"project-section",children:[N.jsx("div",{className:"project-row",children:l.map(f=>N.jsxs("div",{className:"project-card",onClick:()=>c(f),style:{cursor:"pointer"},children:[N.jsxs("div",{className:"project-image",children:[N.jsx("img",{src:`/assets/${f.id}.png`,alt:f.projectName}),N.jsx("div",{className:"project-overlay",children:N.jsx("span",{className:"view-details",children:"View"})})]}),N.jsxs("div",{className:"project-content",children:[N.jsxs("div",{className:"project-header",children:[N.jsx("h3",{children:f.projectName}),N.jsx("div",{className:"status-container",style:{backgroundColor:Iy[f.status]||"black"},children:N.jsx("span",{children:Od[f.status]})})]}),N.jsx("p",{className:"project-blurb",children:f.blurb}),f.role.trim()!==""&&N.jsxs("div",{className:"project-role",children:[N.jsx("span",{className:"role-label",children:"Role:"}),N.jsx("span",{className:"role-text",children:f.role})]}),N.jsxs("div",{className:"tech-stack",children:[N.jsx("span",{className:"tech-label",children:"Technologies:"}),N.jsx("div",{className:"tech-icons",children:f.technologyUsed.sort().map((p,m)=>N.jsx("span",{className:"tech-icon",alt:p,title:p,children:Gr[p]||p},m))})]})]})]},f.id))}),N.jsx(hC,{isOpen:a,onClose:d,selectedProject:e})]})}function fC(){const[r,t]=I.useState(null),[e,n]=I.useState(null);return N.jsxs("div",{children:[N.jsx("div",{className:"filters",children:N.jsxs("div",{className:"filters-row",children:[N.jsx(Vw,{selectedTechnology:r,setSelectedTechnology:t}),N.jsx(Gw,{selectedStatus:e,setSelectedStatus:n})]})}),N.jsx("div",{className:"projects-roundup",children:N.jsx(dC,{technologyFilter:r,statusFilter:e})})]})}function pC(){return N.jsxs("div",{className:"about-container",children:[N.jsx("header",{className:"about-header",children:N.jsxs("div",{className:"profile-section",children:[N.jsx("div",{className:"profile-image",children:N.jsx("img",{src:"./assets/nathan.jpeg",alt:"Nathan Manley"})}),N.jsxs("div",{className:"profile-info",children:[N.jsx("h1",{children:"Nathan Manley"}),N.jsx("h2",{children:"Engineering @ UCC"}),N.jsx("p",{className:"intro-text",children:"Passionate innovator with a strong foundation in electronics, programming and problem solving"}),N.jsx("p",{className:"location",children:" Cork, Ireland"})]})]})}),N.jsx("h2",{children:"About Me"}),N.jsxs("div",{className:"about-content",children:[N.jsx("p",{children:"I'm a 19 year old engineering student at UCC with a passion for electronics, microcontrollers, and motorsport. My journey began at an early age, when I attended my first CoderDojo session at 8 years old."}),N.jsx("h3",{children:"Background"}),N.jsx("p",{children:"I'm currently studying Engineering at UCC after a successful Leaving Certificate, building on my strong foundation in electronics, programming, and problem-solving. My experience spans business, software, and hardware projects, strengthening my ability to tackle a diverse range of challenges."}),N.jsx("h3",{children:"Skills & Interests"}),N.jsxs("ul",{children:[N.jsxs("li",{children:[N.jsx("strong",{children:"Electronics:"})," Circuit design, microcontroller programming, sensor integration"]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Programming:"})," Python, C++, SwiftUI, JavaScript"]}),N.jsxs("li",{children:[N.jsx("strong",{children:"3D Design:"})," Autodesk Fusion 360, 3D printing"]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Robotics:"})," VEX Robotics, CanSat competitions, autonomous systems"]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Software Development:"})," C++ library design, mobile and web app development"]})]}),N.jsx("h3",{children:"Goals"}),N.jsx("p",{children:"I'm excited to pursue engineering and continue developing and strengthening my skills. I'm particularly interested in fitness tech, rocketry, motorsport, and the intersection of electronics and software. I also continue to mentor at CoderDojo Glanmire, the place my passion for programming and innovation first began."})]})]})}const We=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Gd=[.001,0,0,.001,0,0],wd=1.35,An={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},li={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},So="pdfjs_internal_editor_",_t={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Sb={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ue={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},mo={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ve={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Lr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Lo={ERRORS:0,WARNINGS:1,INFOS:5},qr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},eu={moveTo:0,lineTo:1,curveTo:2,closePath:3},Ab={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ou=Lo.WARNINGS;function gC(r){Number.isInteger(r)&&(Ou=r)}function mC(){return Ou}function Nu(r){Ou>=Lo.INFOS&&console.info(`Info: ${r}`)}function Tt(r){Ou>=Lo.WARNINGS&&console.warn(`Warning: ${r}`)}function ee(r){throw new Error(r)}function zt(r,t){r||ee(t)}function yC(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function xf(r,t=null,e=null){if(!r)return null;if(e&&typeof r=="string"&&(e.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),e.tryConvertEncoding))try{r=wC(r)}catch{}const n=t?URL.parse(r,t):URL.parse(r);return yC(n)?n:null}function Ef(r,t,e=!1){const n=URL.parse(r);return n?(n.hash=t,n.href):e&&xf(r,"http://example.com")?r.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Mt(r,t,e,n=!1){return Object.defineProperty(r,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Hs=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class B1 extends Hs{constructor(t,e){super(t,"PasswordException"),this.code=e}}class xd extends Hs{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class xu extends Hs{constructor(t){super(t,"InvalidPDFException")}}class Ao extends Hs{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class bC extends Hs{constructor(t){super(t,"FormatError")}}class Ni extends Hs{constructor(t){super(t,"AbortException")}}function wb(r){(typeof r!="object"||r?.length===void 0)&&ee("Invalid argument for bytesToString");const t=r.length,e=8192;if(t<e)return String.fromCharCode.apply(null,r);const n=[];for(let a=0;a<t;a+=e){const o=Math.min(a+e,t),l=r.subarray(a,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function Oo(r){typeof r!="string"&&ee("Invalid argument for stringToBytes");const t=r.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=r.charCodeAt(n)&255;return e}function vC(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function SC(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function AC(){try{return new Function(""),!0}catch{return!1}}class Be{static get isLittleEndian(){return Mt(this,"isLittleEndian",SC())}static get isEvalSupported(){return Mt(this,"isEvalSupported",AC())}static get isOffscreenCanvasSupported(){return Mt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Mt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Mt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Mt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Ed=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class ht{static makeHexColor(t,e,n){return`#${Ed[t]}${Ed[e]}${Ed[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const a=t[n],o=t[n+1];t[n]=a*e[0]+o*e[2]+e[4],t[n+1]=a*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const a=e[0],o=e[1],l=e[2],c=e[3],d=e[4],f=e[5];for(let p=0;p<6;p+=2){const m=t[n+p],b=t[n+p+1];t[n+p]=m*a+b*l+d,t[n+p+1]=m*o+b*c+f}}static applyInverseTransform(t,e){const n=t[0],a=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-a*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-n*e[1]+a*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,n){const a=e[0],o=e[1],l=e[2],c=e[3],d=e[4],f=e[5],p=t[0],m=t[1],b=t[2],v=t[3];let w=a*p+d,S=w,C=a*b+d,A=C,k=c*m+f,R=k,O=c*v+f,D=O;if(o!==0||l!==0){const M=o*p,z=o*b,H=l*m,V=l*v;w+=H,A+=H,C+=V,S+=V,k+=M,D+=M,O+=z,R+=z}n[0]=Math.min(n[0],w,C,S,A),n[1]=Math.min(n[1],k,O,R,D),n[2]=Math.max(n[2],w,C,S,A),n[3]=Math.max(n[3],k,O,R,D)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],a=t[1],o=t[2],l=t[3],c=n**2+a**2,d=n*o+a*l,f=o**2+l**2,p=(c+f)/2,m=Math.sqrt(p**2-(c*f-d**2));e[0]=Math.sqrt(p+m||1),e[1]=Math.sqrt(p-m||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>a)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>l?null:[n,o,a,l]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,a,o){o[0]=Math.min(o[0],t,n),o[1]=Math.min(o[1],e,a),o[2]=Math.max(o[2],t,n),o[3]=Math.max(o[3],e,a)}static#t(t,e,n,a,o,l,c,d,f,p){if(f<=0||f>=1)return;const m=1-f,b=f*f,v=b*f,w=m*(m*(m*t+3*f*e)+3*b*n)+v*a,S=m*(m*(m*o+3*f*l)+3*b*c)+v*d;p[0]=Math.min(p[0],w),p[1]=Math.min(p[1],S),p[2]=Math.max(p[2],w),p[3]=Math.max(p[3],S)}static#e(t,e,n,a,o,l,c,d,f,p,m,b){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,n,a,o,l,c,d,-m/p,b);return}const v=p**2-4*m*f;if(v<0)return;const w=Math.sqrt(v),S=2*f;this.#t(t,e,n,a,o,l,c,d,(-p+w)/S,b),this.#t(t,e,n,a,o,l,c,d,(-p-w)/S,b)}static bezierBoundingBox(t,e,n,a,o,l,c,d,f){f[0]=Math.min(f[0],t,c),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,c),f[3]=Math.max(f[3],e,d),this.#e(t,n,o,c,e,a,l,d,3*(-t+3*(n-o)+c),6*(t-2*n+o),3*(n-t),f),this.#e(t,n,o,c,e,a,l,d,3*(-e+3*(a-l)+d),6*(e-2*a+l),3*(a-e),f)}}function wC(r){return decodeURIComponent(escape(r))}let Cd=null,z1=null;function xb(r){return Cd||(Cd=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,z1=new Map([["","t"]])),r.replaceAll(Cd,(t,e,n)=>e?e.normalize("NFKC"):z1.get(n))}function Cf(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),wb(r)}const _f="pdfjs_internal_id_";function xC(r,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,a,...o]=e;if(!r(n)&&!Number.isInteger(n)||!t(a))return!1;const l=o.length;let c=!0;switch(a.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||c&&d===null))return!1;return!0}function qe(r,t,e){return Math.min(Math.max(r,t),e)}function Eb(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(wb(r))}function EC(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):Oo(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...t){return new Promise(e=>{e(r(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((t,e)=>t+e,0)});class wo{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function a(o){if(!o)return;let l=null;const c=o.name;if(c==="#text")l=o.value;else if(wo.shouldBuildText(c))o?.attributes?.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&e.push({str:l}),!!o.children)for(const d of o.children)a(d)}return a(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class Tf{static setupStorage(t,e,n,a,o){const l=a.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),o==="print")break;t.addEventListener("input",c=>{a.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",c=>{a.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),o==="print")break;t.addEventListener("input",c=>{a.setValue(e,{value:c.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const d=c.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;a.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:a,linkService:o}){const{attributes:l}=e,c=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${a}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!c||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}c&&o.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,a=t.xfaHtml,o=t.intent||"display",l=document.createElement(a.name);a.attributes&&this.setAttributes({html:l,element:a,intent:o,linkService:n});const c=o!=="richText",d=t.div;if(d.append(l),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=m}c&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(a.children.length===0){if(a.value){const m=document.createTextNode(a.value);l.append(m),c&&wo.shouldBuildText(a.name)&&f.push(m)}return{textDivs:f}}const p=[[a,-1,l]];for(;p.length>0;){const[m,b,v]=p.at(-1);if(b+1===m.children.length){p.pop();continue}const w=m.children[++p.at(-1)[1]];if(w===null)continue;const{name:S}=w;if(S==="#text"){const A=document.createTextNode(w.value);f.push(A),v.append(A);continue}const C=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,S):document.createElement(S);if(v.append(C),w.attributes&&this.setAttributes({html:C,element:w,storage:e,intent:o,linkService:n}),w.children?.length>0)p.push([w,-1,C]);else if(w.value){const A=document.createTextNode(w.value);c&&wo.shouldBuildText(S)&&f.push(A),C.append(A)}}for(const m of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Mi="http://www.w3.org/2000/svg";class Bs{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Zr(r,t="text"){if(uo(r,document.baseURI)){const e=await fetch(r);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}n(new Error(a.statusText))}},a.send(null)})}class No{constructor({viewBox:t,userUnit:e,scale:n,rotation:a,offsetX:o=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=a,this.offsetX=o,this.offsetY=l,n*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,b,v;switch(a%=360,a<0&&(a+=360),a){case 180:p=-1,m=0,b=0,v=1;break;case 90:p=0,m=1,b=1,v=0;break;case 270:p=0,m=-1,b=-1,v=0;break;case 0:p=1,m=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(b=-b,v=-v);let w,S,C,A;p===0?(w=Math.abs(f-t[1])*n+o,S=Math.abs(d-t[0])*n+l,C=(t[3]-t[1])*n,A=(t[2]-t[0])*n):(w=Math.abs(d-t[0])*n+o,S=Math.abs(f-t[1])*n+l,C=(t[2]-t[0])*n,A=(t[3]-t[1])*n),this.transform=[p*n,m*n,b*n,v*n,w-p*n*d-b*n*f,S-m*n*d-v*n*f],this.width=C,this.height=A}get rawDims(){const t=this.viewBox;return Mt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:a=this.offsetY,dontFlip:o=!1}={}){return new No({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:a,dontFlip:o})}convertToViewportPoint(t,e){const n=[t,e];return ht.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];ht.applyTransform(e,this.transform);const n=[t[2],t[3]];return ht.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return ht.applyInverseTransform(n,this.transform),n}}class Pu extends Hs{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Po(r){const t=r.length;let e=0;for(;e<t&&r[e].trim()==="";)e++;return r.substring(e,e+5).toLowerCase()==="data:"}function Bu(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function Cb(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function _b(r,t="document.pdf"){if(typeof r!="string")return t;if(Po(r))return Tt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return t;const a=c=>{try{let d=decodeURIComponent(c);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:c):d}catch{return c}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return a(l);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const f of c)if(o.test(f))return a(f);const d=Array.from(n.searchParams.keys()).reverse();for(const f of d)if(o.test(f))return a(f)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return a(d[0])}return t}class I1{started=Object.create(null);times=[];time(t){t in this.started&&Tt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Tt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:a,end:o}of this.times)t.push(`${n.padEnd(e)} ${o-a}ms
`);return t.join("")}}function uo(r,t){const e=t?URL.parse(r,t):URL.parse(r);return e?.protocol==="http:"||e?.protocol==="https:"}function Cn(r){r.preventDefault()}function de(r){r.preventDefault(),r.stopPropagation()}function CC(r){console.log("Deprecated API usage: "+r)}class Eu{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(l+=p,c+=m):f==="+"&&(l-=p,c-=m),new Date(Date.UTC(n,a,o,l,c,d))}}function Tb(r,{scale:t=1,rotation:e=0}){const{width:n,height:a}=r.attributes.style,o=[0,0,parseInt(n),parseInt(a)];return new No({viewBox:o,userUnit:1,scale:t,rotation:e})}function Jr(r){if(r.startsWith("#")){const t=parseInt(r.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(t=>parseInt(t)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Tt(`Not a valid color format: "${r}"`),[0,0,0])}function _C(r){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of r.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;r.set(e,Jr(n))}t.remove()}function he(r){const{a:t,b:e,c:n,d:a,e:o,f:l}=r.getTransform();return[t,e,n,a,o,l]}function ei(r){const{a:t,b:e,c:n,d:a,e:o,f:l}=r.getTransform().invertSelf();return[t,e,n,a,o,l]}function cs(r,t,e=!1,n=!0){if(t instanceof No){const{pageWidth:a,pageHeight:o}=t.rawDims,{style:l}=r,c=Be.isCSSRoundSupported,d=`var(--total-scale-factor) * ${a}px`,f=`var(--total-scale-factor) * ${o}px`,p=c?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,m=c?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(l.width=p,l.height=m):(l.width=m,l.height=p)}n&&r.setAttribute("data-main-rotation",t.rotation)}class Xn{constructor(){const{pixelRatio:t}=Xn;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,a,o=-1){let l=1/0,c=1/0,d=1/0;n=Xn.capPixels(n,o),n>0&&(l=Math.sqrt(n/(t*e))),a!==-1&&(c=a/t,d=a/e);const f=Math.min(l,c,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Cu=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class TC{static get isDarkMode(){return Mt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class Rb{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),Mt(this,"commentForegroundColor",Jr(n))}}function kb(r,t,e,n){n=Math.min(Math.max(n??1,0),1);const a=255*(1-n);return r=Math.round(r*n+a),t=Math.round(t*n+a),e=Math.round(e*n+a),[r,t,e]}function F1(r,t){const e=r[0]/255,n=r[1]/255,a=r[2]/255,o=Math.max(e,n,a),l=Math.min(e,n,a),c=(o+l)/2;if(o===l)t[0]=t[1]=0;else{const d=o-l;switch(t[1]=c<.5?d/(o+l):d/(2-o-l),o){case e:t[0]=((n-a)/d+(n<a?6:0))*60;break;case n:t[0]=((a-e)/d+2)*60;break;case a:t[0]=((e-n)/d+4)*60;break}}t[2]=c}function qd(r,t){const e=r[0],n=r[1],a=r[2],o=(1-Math.abs(2*a-1))*n,l=o*(1-Math.abs(e/60%2-1)),c=a-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+c,t[1]=l+c,t[2]=c;break;case 1:t[0]=l+c,t[1]=o+c,t[2]=c;break;case 2:t[0]=c,t[1]=o+c,t[2]=l+c;break;case 3:t[0]=c,t[1]=l+c,t[2]=o+c;break;case 4:t[0]=l+c,t[1]=c,t[2]=o+c;break;case 5:case 6:t[0]=o+c,t[1]=c,t[2]=l+c;break}}function U1(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function H1(r,t,e){qd(r,e),e.map(U1);const n=.2126*e[0]+.7152*e[1]+.0722*e[2];qd(t,e),e.map(U1);const a=.2126*e[0]+.7152*e[1]+.0722*e[2];return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)}const j1=new Map;function Mb(r,t){const e=r[0]+r[1]*256+r[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let n=j1.get(e);if(n)return n;const a=new Float32Array(9),o=a.subarray(0,3),l=a.subarray(3,6);F1(r,l);const c=a.subarray(6,9);F1(t,c);const d=c[2]<.5,f=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),H1(l,c,o)<f){let p,m;d?(p=l[2],m=1):(p=0,m=l[2]);const b=.005;for(;m-p>b;){const v=l[2]=(p+m)/2;d===H1(l,c,o)<f?p=v:m=v}l[2]=d?m:p}return qd(l,o),n=ht.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),j1.set(e,n),n}function Rf({html:r,dir:t,className:e},n){const a=document.createDocumentFragment();if(typeof r=="string"){const o=document.createElement("p");o.dir=t||"auto";const l=r.split(/(?:\r\n?|\n)/);for(let c=0,d=l.length;c<d;++c){const f=l[c];o.append(document.createTextNode(f)),c<d-1&&o.append(document.createElement("br"))}a.append(o)}else Tf.render({xfaHtml:r,div:a,intent:"richText"});a.firstChild.classList.add("richText",e),n.append(a)}class yo{#t=null;#e=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#u=null;constructor(t){this.#i=t,yo.#u||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Cn,{signal:e}),t.addEventListener("pointerdown",yo.#l,{signal:e}));const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const a=this.#i.toolbarPosition;if(a){const{style:o}=t,l=this.#i._uiManager.direction==="ltr"?1-a[0]:a[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,de(t)}#h(t){this.#i._focusEventsAllowed=!0,de(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Cn,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",yo.#u[t]),this.#f(n)&&n.addEventListener("click",a=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#m(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#m),this.#a=t}addComment(t,e=null){if(this.#s)return;const n=t.renderForToolbar();if(!n)return;this.#f(n);const a=this.#r=this.#m;e?(this.#n.insertBefore(n,e),this.#n.insertBefore(a,e)):this.#n.append(n,a),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#m)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#m)}removeButton(t){switch(t){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null;break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,n){const a=this.#n.querySelector(n);a&&t==="comment"&&this.addComment(e,a)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class RC{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Cn,{signal:e});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#a(t,e){let n=0,a=0;for(const o of t){const l=o.y+o.height;if(l<n)continue;const c=o.x+(e?o.width:0);if(l>n){a=c,n=l;continue}e?c>a&&(a=c):c<a&&(a=c)}return[e?1-a:a,n]}show(t,e,n){const[a,o]=this.#a(e,n),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*a}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,n,a){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const l=document.createElement("span");o.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",n);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(o.addEventListener("contextmenu",Cn,{signal:c}),o.addEventListener("click",a,{signal:c})),this.#t.append(o)}}function Db(r,t,e){for(const n of e)t.addEventListener(n,r[n].bind(r))}class kC{#t=0;get id(){return`${So}${this.#t++}`}}class kf{#t=Cf();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const o=a.decode().then(()=>(n.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Mt(this,"_isSVGFittingCanvas",o)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let a;if(typeof e=="string"?(n.url=e,a=await Zr(e,"blob")):e instanceof File?a=n.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const o=kf._isSVGFittingCanvas,l=new FileReader,c=new Image,d=new Promise((f,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,f()},l.onload=async()=>{const m=n.svgUrl=l.result;c.src=await o?`${m}#svgView(preserveAspectRatio(none))`:m},c.onerror=l.onerror=p});l.readAsDataURL(a),await d}else n.bitmap=await createImageBitmap(a);n.refCounter=1}catch(a){Tt(a),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:a,type:o}=t;return this.#n(`${e}_${n}_${a}_${o}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),n={bitmap:a.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=a.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class MC{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:a,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(a&&t(),this.#e)return;const d={cmd:t,undo:e,post:n,type:o};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(l&&this.#t[this.#n].type===o){c&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Bo{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Be.platform;for(const[n,a,o={}]of t)for(const l of n){const c=l.startsWith("mac+");e&&c?(this.callbacks.set(l.slice(4),{callback:a,options:o}),this.allKeys.add(l.split("+").at(-1))):!e&&!c&&(this.callbacks.set(l,{callback:a,options:o}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:a,options:{bubbles:o=!1,args:l=[],checker:c=null}}=n;c&&!c(t,e)||(a.bind(t,...l,e)(),o||de(e))}}class Mf{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return _C(t),Mt(this,"_colors",t)}convert(t){const e=Jr(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,a]of this._colors)if(a.every((o,l)=>o===e[l]))return Mf._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?ht.makeHexColor(...e):t}}class Pi{#t=new AbortController;#e=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#u=new MC;#l=null;#d=null;#h=null;#f=0;#m=new Set;#p=null;#c=null;#g=new Set;_editorUndoBar=null;#y=!1;#v=!1;#b=!1;#C=null;#x=null;#S=null;#T=null;#w=!1;#E=null;#M=new kC;#R=!1;#k=!1;#z=!1;#L=null;#N=null;#I=null;#P=null;#G=null;#_=_t.NONE;#A=new Set;#O=null;#F=null;#H=null;#Y=null;#X=null;#$={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#j=[0,0];#B=null;#q=null;#Z=null;#J=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Pi.prototype,e=l=>l.#q.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},a=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Mt(this,"_keyboardManager",new Bo([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#q.contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#q.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,n,a,o,l,c,d,f,p,m,b,v,w,S,C){const A=this._signal=this.#t.signal;this.#q=t,this.#Z=e,this.#J=n,this.#s=a,this.#l=o,this.#F=l,this.#X=d,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:A}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),c._on("setpreference",this.onSetPreference.bind(this),{signal:A}),c._on("switchannotationeditorparams",k=>this.updateParams(k.type,k.value),{signal:A}),window.addEventListener("pointerdown",()=>{this.#k=!0},{capture:!0,signal:A}),window.addEventListener("pointerup",()=>{this.#k=!1},{capture:!0,signal:A}),this.#lt(),this.#dt(),this.#et(),this.#r=d.annotationStorage,this.#C=d.filterFactory,this.#H=f,this.#T=p||null,this.#y=m,this.#v=b,this.#b=v,this.#G=w||null,this.viewParameters={realScale:Bs.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=S||null,this._supportsPinchToZoom=C!==!1,o?.setSidebarUiManager(this)}destroy(){this.#U?.resolve(),this.#U=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#n.clear(),this.#g.clear(),this.#P?.clear(),this.#e=null,this.#A.clear(),this.#u.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#F?.destroy(),this.#E?.hide(),this.#E=null,this.#I?.destroy(),this.#I=null,this.#i=null,this.#x&&(clearTimeout(this.#x),this.#x=null),this.#B&&(clearTimeout(this.#B),this.#B=null),this._editorUndoBar?.destroy(),this.#X=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#G}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return Mt(this,"hcmFilter",this.#H?this.#C.addHCMFilter(this.#H.foreground,this.#H.background):"none")}get direction(){return Mt(this,"direction",getComputedStyle(this.#q).direction)}get _highlightColors(){return Mt(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Mt(this,"highlightColors",null);const e=new Map,n=!!this.#H;for(const[a,o]of t){const l=a.endsWith("_HCM");if(n&&l){e.set(a.replace("_HCM",""),o);continue}!n&&!l&&e.set(a,o)}return Mt(this,"highlightColors",e)}get highlightColorNames(){return Mt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#I=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,n,a){this.#l?.showDialog(this,t,e,n,a)}selectComment(t,e){this.#a.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,n=void 0){this.#l?.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),a=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",a),e())};this._eventBus.on("editorsrendered",a),await n}getSignature(t){this.#F?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#F}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#b=e;break}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#q.focus()}findParent(t,e){for(const n of this.#a.values()){const{x:a,y:o,width:l,height:c}=n.div.getBoundingClientRect();if(t>=a&&t<=a+l&&e>=o&&e<=o+c)return n}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#g.add(t)}removeShouldRescale(t){this.#g.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Bs.PDF_TO_CSS_UNITS;for(const e of this.#g)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#a.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:a,anchorOffset:o,focusNode:l,focusOffset:c}=n,d=n.toString(),p=this.#Q(n).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;n.empty();const b=this.#tt(p),v=this.#_===_t.NONE,w=()=>{const S=b?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:a,anchorOffset:o,focusNode:l,focusOffset:c,text:d});v&&this.showAllEditors("highlight",!0,!0),e&&S?.editComment()};if(v){this.switchToMode(_t.HIGHLIGHT,w);return}w()}commentSelection(t=""){this.highlightSelection(t,!0)}#at(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Q(t).closest(".textLayer"),a=this.getSelectionBoxes(n);a&&(this.#E||=new RC(this),this.#E.show(n,a,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#r)return null;const e=`${So}${t}`,n=this.#r.getRawValue(e);return n&&this.#r.remove(e),n}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#O&&(this.#E?.hide(),this.#O=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#O)return;const a=this.#Q(t).closest(".textLayer");if(!a){this.#O&&(this.#E?.hide(),this.#O=null,this.#D({hasSelectedText:!1}));return}if(this.#E?.hide(),this.#O=e,this.#D({hasSelectedText:!0}),!(this.#_!==_t.HIGHLIGHT&&this.#_!==_t.NONE)&&(this.#_===_t.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#_===_t.HIGHLIGHT?this.#tt(a):null;if(o?.toggleDrawing(),this.#k){const l=new AbortController,c=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}else o?.toggleDrawing(!0),this.#K("main_toolbar")}}#K(t=""){this.#_===_t.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#at()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ut(){if(this.#S)return;this.#S=new AbortController;const t=this.combinedSignal(this.#S);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ct(){this.#S?.abort(),this.#S=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#A)if(e.div.contains(t)){this.#N=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[t,e]=this.#N;this.#N=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#L)return;this.#L=new AbortController;const t=this.combinedSignal(this.#L);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ht(){this.#L?.abort(),this.#L=null}#nt(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#ht(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#c)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#c)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#A){const a=n.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const l of this.#c)if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Tt(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const a=this.currentLayer;try{const o=[];for(const d of n){const f=await a.deserialize(d);if(!f)return;o.push(f)}const l=()=>{for(const d of o)this.#st(d);this.#rt(o)},c=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(o){Tt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#_!==_t.NONE&&!this.isEditorHandlingKeyboard&&Pi._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#K("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(t){Object.entries(t).some(([n,a])=>this.#$[n]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#$,t)}),this.#_===_t.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#V([[Bt.HIGHLIGHT_FREE,!0]]))}#V(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ut(),this.#nt(),this.#D({isEditing:this.#_!==_t.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#u.hasSomethingToUndo(),hasSomethingToRedo:this.#u.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ct(),this.#it(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#c){this.#c=t;for(const e of this.#c)this.#V(e.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#a.set(t.pageIndex,t),this.#R?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,a=!1,o=!1){if(this.#_!==t&&!(this.#U&&(await this.#U.promise,!this.#U))){if(this.#U=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#_===_t.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#_=t,t===_t.NONE){this.setEditingState(!1),this.#pt();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#U.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();t===_t.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const l of this.#a.values())l.updateMode(t);if(t===_t.POPUP){this.#i||=await this.#X.getAnnotationsByType(new Set(this.#c.map(d=>d._editorType)));const l=new Set,c=[];for(const d of this.#n.values()){const{annotationElementId:f,hasComment:p,deleted:m}=d;f&&l.add(f),p&&!m&&c.push(d.getData())}for(const d of this.#i){const{id:f,popupRef:p,contentsObj:m}=d;p&&m?.str&&!l.has(f)&&!this.#m.has(f)&&c.push(d)}this.#l?.showSidebar(c)}if(!e){n&&this.addNewEditorFromKeyboard(),this.#U.resolve();return}for(const l of this.#n.values())l.uid===e?(this.setSelected(l),o?l.editComment():a?l.enterInEditMode():l.focus()):l.unselect();this.#U.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#_&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#c){switch(t){case Bt.CREATE:this.currentLayer.addNewEditor(e);return;case Bt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#Y||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of this.#A)n.updateParams(t,e);else for(const n of this.#c)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#Y?.get(Bt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#V([[Bt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#z!==t){this.#z=t;for(const e of this.#a.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#R){this.#R=!0;const t=[];for(const e of this.#a.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#R){this.#R=!1;for(const t of this.#a.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.focusMainContainer(),this.#x=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#P?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#m.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#m.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#m.has(t)}removeDeletedAnnotationElement(t){this.#m.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#st(t){const e=this.#a.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#V(t.propertiesToUpdate))}get#gt(){let t=null;for(t of this.#A);return t}updateUI(t){this.#gt===t&&this.#V(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#V(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#A.has(t)){this.#A.delete(t),t.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#A.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#h?.commitOrRemove();for(const e of this.#A)e!==t&&e.unselect();this.#A.clear(),this.#A.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(t){return this.#A.has(t)}get firstSelectedEditor(){return this.#A.values().next().value}unselect(t){t.unselect(),this.#A.delete(t),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#A.size!==0}get isEnterHandled(){return this.#A.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#u.undo(),this.#D({hasSomethingToUndo:this.#u.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()}),this._editorUndoBar?.hide()}redo(){this.#u.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#u.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(t){this.#u.add(t),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}cleanUndoStack(t){this.#u.cleanType(t)}#W(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#A],n=()=>{this._editorUndoBar?.show(a,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},a=()=>{for(const o of e)this.#st(o)};this.addCommands({cmd:n,undo:a,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#rt(t){for(const e of this.#A)e.unselect();this.#A.clear();for(const e of t)e.isEmpty()||(this.#A.add(e),e.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#A)t.commit();this.#rt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#_!==_t.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#A)t.unselect();this.#A.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#j[0]+=t,this.#j[1]+=e;const[a,o]=this.#j,l=[...this.#A],c=1e3;this.#B&&clearTimeout(this.#B),this.#B=setTimeout(()=>{this.#B=null,this.#j[0]=this.#j[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(a,o),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-a,-o),d.translationDone())},mustExec:!1})},c);for(const d of l)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const t of this.#A)this.#p.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const t=this.#p;this.#p=null;let e=!1;for(const[{x:a,y:o,pageIndex:l},c]of t)c.newX=a,c.newY=o,c.newPageIndex=l,e||=a!==c.savedX||o!==c.savedY||l!==c.savedPageIndex;if(!e)return!1;const n=(a,o,l,c)=>{if(this.#n.has(a.id)){const d=this.#a.get(c);d?a._setParentAndPosition(d,o,l):(a.pageIndex=c,a.x=o,a.y=l)}};return this.addCommands({cmd:()=>{for(const[a,{newX:o,newY:l,newPageIndex:c}]of t)n(a,o,l,c)},undo:()=>{for(const[a,{savedX:o,savedY:l,savedPageIndex:c}]of t)n(a,o,l,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#p)for(const n of this.#p.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#A.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#_}isEditingMode(){return this.#_!==_t.NONE}get imageManager(){return Mt(this,"imageManager",new kf)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:a,width:o,height:l}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(f,p,m,b)=>({x:(p-a)/l,y:1-(f+m-n)/o,width:b/l,height:m/o});break;case"180":c=(f,p,m,b)=>({x:1-(f+m-n)/o,y:1-(p+b-a)/l,width:m/o,height:b/l});break;case"270":c=(f,p,m,b)=>({x:1-(p+b-a)/l,y:(f-n)/o,width:b/l,height:m/o});break;default:c=(f,p,m,b)=>({x:(f-n)/o,y:(p-a)/l,width:m/o,height:b/l});break}const d=[];for(let f=0,p=e.rangeCount;f<p;f++){const m=e.getRangeAt(f);if(!m.collapsed)for(const{x:b,y:v,width:w,height:S}of m.getClientRects())w===0||S===0||d.push(c(b,v,w,S))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#r.getRawValue(e);n&&(this.#_===_t.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const a=this.#P?.get(t);a&&(a.setCanvas(e,n),this.#P.delete(t))}addMissingCanvas(t,e){(this.#P||=new Map).set(t,e)}}class ri{#t=null;#e=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#u=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#u=t,this.#h=t._uiManager.useNewAltTextFlow,ri.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){ri._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",ri.#f.missing),e.setAttribute("data-l10n-id",ri.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#u._uiManager._signal;t.addEventListener("contextmenu",Cn,{signal:n}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const a=o=>{o.preventDefault(),this.#u._uiManager.editAltText(this.#u),this.#h&&this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return t.addEventListener("click",a,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#r=!0,a(o))},{signal:n}),await this.#p(),t}get#m(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await ri._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#u.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:a,cancel:o=!1}){n&&(this.#l=n,this.#d=a),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",ri.#f[this.#m]),this.#n?.setAttribute("data-l10n-id",ri.#f[`${this.#m}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#u.id}`;const a=100,o=this.#u._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#u._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#u.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class nu{#t=null;#e=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#u=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const a=this.#n.commentButtonColor;a&&(n.backgroundColor=a)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:n}=this.#t.getBoundingClientRect(),{x:a,y:o,width:l,height:c}=this.#n.parent.boundingClientRect;return[(t-a)/l,(e+n-o)/c]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",Cn,{signal:n}),e&&(t.addEventListener("focusin",o=>{this.#n._focusEventsAllowed=!1,de(o)},{capture:!0,signal:n}),t.addEventListener("focusout",o=>{this.#n._focusEventsAllowed=!0,de(o)},{capture:!0,signal:n})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const a=o=>{o.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",a,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#i=!0,a(o))},{signal:n}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),t}edit(t){const e=this.commentPopupPositionInLayer;let n,a;if(e)[n,a]=e;else{[n,a]=this.#n.commentButtonPosition;const{width:p,height:m,x:b,y:v}=this.#n;n=b+n*p,a=v+a*m}const o=this.#n.parent.boundingClientRect,{x:l,y:c,width:d,height:f}=o;this.#n._uiManager.editComment(this.#n,l+n*d,c+a*f,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#u||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#r&&(this.#s=null),t===null){this.#r="",this.#u=!0;return}this.#r=t,this.#o=new Date,this.#u=!1}setInitialText(t,e=null){this.#a=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#u=!1}}class zo{#t;#e=!1;#i=null;#n;#a;#s;#r;#o=null;#u;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:a=null,onPinching:o=null,onPinchEnd:l=null,signal:c}){this.#t=t,this.#i=n,this.#n=e,this.#a=a,this.#s=o,this.#r=l,this.#d=new AbortController,this.#u=AbortSignal.any([c,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#u})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Xn.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,o=AbortSignal.any([this.#u,a.signal]),l=this.#t,c={capture:!0,signal:o,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(de(f),d(f))},c),l.addEventListener("pointerup",d,c),l.addEventListener("pointercancel",d,c);return}if(!this.#h){this.#h=new AbortController;const a=AbortSignal.any([this.#u,this.#h.signal]),o=this.#t,l={signal:a,capture:!1,passive:!1};o.addEventListener("touchmove",this.#m.bind(this),l);const c=this.#p.bind(this);o.addEventListener("touchend",c,l),o.addEventListener("touchcancel",c,l),l.capture=!0,o.addEventListener("pointerdown",de,l),o.addEventListener("pointermove",de,l),o.addEventListener("pointercancel",de,l),o.addEventListener("pointerup",de,l),this.#a?.()}if(de(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#m(t){if(!this.#l||t.touches.length!==2)return;de(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:a,screenY:o}=e,{screenX:l,screenY:c}=n,d=this.#l,{touch0X:f,touch0Y:p,touch1X:m,touch1Y:b}=d,v=m-f,w=b-p,S=l-a,C=c-o,A=Math.hypot(S,C)||1,k=Math.hypot(v,w)||1;if(!this.#e&&Math.abs(k-A)<=zo.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=a,d.touch0Y=o,d.touch1X=l,d.touch1Y=c,!this.#e){this.#e=!0;return}const R=[(a+l)/2,(o+c)/2];this.#s?.(R,k,A)}#p(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#r?.()),this.#l&&(de(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class bt{#t=null;#e=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#u=null;#l=null;#d=null;#h=null;#f=null;#m="";#p=!1;#c=null;#g=!1;#y=!1;#v=!1;#b=null;#C=0;#x=0;#S=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#E=bt._zIndex++;static _borderLineWidth=-1;static _colorManager=new Mf;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=bt.prototype._resizeWithKeyboard,e=Pi.TRANSLATE_SMALL,n=Pi.TRANSLATE_BIG;return Mt(this,"_resizerKeyboardManager",new Bo([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],bt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:a,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,a],this.pageTranslation=[o,l];const[c,d]=this.parentDimensions;this.x=t.x/c,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Mt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new DC({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(bt._l10n??=t,bt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),bt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);bt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ee("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(t){this.#w=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#E}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#B(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,a){const[o,l]=this.parentDimensions;[n,a]=this.screenToPageTranslation(n,a),this.x=(t+n)/o,this.y=(e+a)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,a]=this.parentDimensions;this.setAt(t*n,e*a,this.width*n,this.height*a),this._onTranslated()}#M([t,e],n,a){[n,a]=this.screenToPageTranslation(n,a),this.x+=n/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#M(this.parentDimensions,t,e)}translateInPage(t,e){this.#c||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#c||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[a,o]}=this;if(this.x+=t/a,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[d,f]=this.getBaseTranslation();l+=d,c+=f;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#c&&(this.#c[0]!==this.x||this.#c[1]!==this.y)}get _hasBeenResized(){return!!this.#c&&(this.#c[2]!==this.width||this.#c[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=bt,a=n/t,o=n/e;switch(this.rotation){case 90:return[-a,o];case 180:return[a,o];case 270:return[a,-o];default:return[-a,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,a]}=this;let{x:o,y:l,width:c,height:d}=this;if(c*=n,d*=a,o*=n,l*=a,this._mustFixPosition)switch(t){case 0:o=qe(o,0,n-c),l=qe(l,0,a-d);break;case 90:o=qe(o,0,n-d),l=qe(l,c,a);break;case 180:o=qe(o,c,n),l=qe(l,d,a);break;case 270:o=qe(o,d,n),l=qe(l,0,a-c);break}this.x=o/=n,this.y=l/=a;const[f,p]=this.getBaseTranslation();o+=f,l+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#R(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return bt.#R(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return bt.#R(t,e,360-this.parentRotation)}#k(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#z(){if(this.#u)return;this.#u=document.createElement("div"),this.#u.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const a=document.createElement("div");this.#u.append(a),a.classList.add("resizer",n),a.setAttribute("data-resizer-name",n),a.addEventListener("pointerdown",this.#L.bind(this,n),{signal:e}),a.addEventListener("contextmenu",Cn,{signal:e}),a.tabIndex=-1}this.div.prepend(this.#u)}#L(t,e){e.preventDefault();const{isMac:n}=Be.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#P.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",de,{passive:!1,signal:l}),window.addEventListener("contextmenu",Cn,{signal:l}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=c,this.div.style.cursor=d,this.#I()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#N(t,e,n,a){this.width=n,this.height=a,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#I(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:a}=this.#d;this.#d=null;const o=this.x,l=this.y,c=this.width,d=this.height;o===t&&l===e&&c===n&&d===a||this.addCommands({cmd:this.#N.bind(this,o,l,c,d),undo:this.#N.bind(this,t,e,n,a),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#P(t,e){const[n,a]=this.parentDimensions,o=this.x,l=this.y,c=this.width,d=this.height,f=bt.MIN_SIZE/n,p=bt.MIN_SIZE/a,m=this.#k(this.rotation),b=(P,G)=>[m[0]*P+m[2]*G,m[1]*P+m[3]*G],v=this.#k(360-this.rotation),w=(P,G)=>[v[0]*P+v[2]*G,v[1]*P+v[3]*G];let S,C,A=!1,k=!1;switch(t){case"topLeft":A=!0,S=(P,G)=>[0,0],C=(P,G)=>[P,G];break;case"topMiddle":S=(P,G)=>[P/2,0],C=(P,G)=>[P/2,G];break;case"topRight":A=!0,S=(P,G)=>[P,0],C=(P,G)=>[0,G];break;case"middleRight":k=!0,S=(P,G)=>[P,G/2],C=(P,G)=>[0,G/2];break;case"bottomRight":A=!0,S=(P,G)=>[P,G],C=(P,G)=>[0,0];break;case"bottomMiddle":S=(P,G)=>[P/2,G],C=(P,G)=>[P/2,0];break;case"bottomLeft":A=!0,S=(P,G)=>[0,G],C=(P,G)=>[P,0];break;case"middleLeft":k=!0,S=(P,G)=>[0,G/2],C=(P,G)=>[P,G/2];break}const R=S(c,d),O=C(c,d);let D=b(...O);const M=bt._round(o+D[0]),z=bt._round(l+D[1]);let H=1,V=1,$,Y;if(e.fromKeyboard)({deltaX:$,deltaY:Y}=e);else{const{screenX:P,screenY:G}=e,[it,ft]=this.#l;[$,Y]=this.screenToPageTranslation(P-it,G-ft),this.#l[0]=P,this.#l[1]=G}if([$,Y]=w($/n,Y/a),A){const P=Math.hypot(c,d);H=V=Math.max(Math.min(Math.hypot(O[0]-R[0]-$,O[1]-R[1]-Y)/P,1/c,1/d),f/c,p/d)}else k?H=qe(Math.abs(O[0]-R[0]-$),f,1)/c:V=qe(Math.abs(O[1]-R[1]-Y),p,1)/d;const et=bt._round(c*H),nt=bt._round(d*V);D=b(...C(et,nt));const J=M-D[0],at=z-D[1];this.#c||=[this.x,this.y,this.width,this.height],this.width=et,this.height=nt,this.x=J,this.y=at,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new yo(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(ri.initialize(bt._l10n),this.#i=new ri(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new nu(this)}addStandaloneCommentButton(){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:a}}=this.#n;return{text:e,richText:t,date:n,deleted:a,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new nu(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:n}){if(!e||(this.#n||=new nu(this),this.#n.setInitialText(t,n),!this.annotationElementId))return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new nu(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,a]=t.rect,[o]=this.pageDimensions,[l]=this.pageTranslation,c=l+o+1,d=a-100,f=c+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,d,f,a]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#H();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[a,o]=this.getInitialTranslation();return this.translate(a,o),Db(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new zo({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#G.bind(this),onPinching:this.#_.bind(this),onPinchEnd:this.#A.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#G(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#_(t,e,n){let o=.7*(n/e)+1-.7;if(o===1)return;const l=this.#k(this.rotation),c=(M,z)=>[l[0]*M+l[2]*z,l[1]*M+l[3]*z],[d,f]=this.parentDimensions,p=this.x,m=this.y,b=this.width,v=this.height,w=bt.MIN_SIZE/d,S=bt.MIN_SIZE/f;o=Math.max(Math.min(o,1/b,1/v),w/b,S/v);const C=bt._round(b*o),A=bt._round(v*o);if(C===b&&A===v)return;this.#c||=[p,m,b,v];const k=c(b/2,v/2),R=bt._round(p+k[0]),O=bt._round(m+k[1]),D=c(C/2,A/2);this.x=R-D[0],this.y=O-D[1],this.width=C,this.height=A,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#A(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#I()}pointerdown(t){const{isMac:e}=Be.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#F(t);return}this.#O(t)}#O(t){const{isMac:e}=Be.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#F(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const a=new AbortController,o=this._uiManager.combinedSignal(a),l={capture:!0,passive:!1,signal:o},c=f=>{a.abort(),this.#r=null,this.#p=!1,this._uiManager.endDragSession()||this.#O(f),n&&this._onStopDragging()};e&&(this.#C=t.clientX,this.#x=t.clientY,this.#r=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:m,pointerId:b}=f;if(b!==this.#r){de(f);return}const[v,w]=this.screenToPageTranslation(p-this.#C,m-this.#x);this.#C=p,this.#x=m,this._uiManager.dragSelectedEditors(v,w)},l),window.addEventListener("touchmove",de,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#T||f.isPrimary)&&c(f),de(f)},l));const d=f=>{if(!this.#r||this.#r===f.pointerId){c(f);return}de(f)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const a=this.parentScale,[o,l]=this.pageDimensions,[c,d]=this.pageTranslation,f=t/a,p=e/a,m=this.x*o,b=this.y*l,v=this.width*o,w=this.height*l;switch(n){case 0:return[m+f+c,l-b-p-w+d,m+f+v+c,l-b-p+d];case 90:return[m+p+c,l-b+f+d,m+p+w+c,l-b+f+v+d];case 180:return[m-f-v+c,l-b+p+d,m-f+c,l-b+p+w+d];case 270:return[m-p-w+c,l-b-f-v+d,m-p+c,l-b-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,a,o,l]=t,c=o-n,d=l-a;switch(this.rotation){case 0:return[n,e-l,c,d];case 90:return[n,e-a,d,c];case 180:return[o,e-a,c,d];case 270:return[o,e-l,d,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&bt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:a,deleted:o,richText:l},uid:c,pageIndex:d,creationDate:f,modificationDate:p}=this;return{id:c,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:f,modificationDate:n||p,popupRef:!o,color:e,opacity:a}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:a}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return e<l&&a>0&&t<o&&n>0}#H(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#H()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,n){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});a.rotation=t.rotation,a.#t=t.accessibilityData,a._isCopy=t.isCopy||!1;const[o,l]=a.pageDimensions,[c,d,f,p]=a.getRectInCurrentCoords(t.rect,l);return a.x=c/o,a.y=d/l,a.width=f/o,a.height=p/l,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#B(),this.removeEditToolbar(),this.#S){for(const t of this.#S.values())clearTimeout(t);this.#S=null}this.parent=null,this.#T?.destroy(),this.#T=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#z(),this.#u.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,a,o,l]=this.getPDFRect();return[bt._round(n+(o-n)*t),bt._round(a+(l-a)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#u.children;if(!this.#e){this.#e=Array.from(e);const l=this.#Y.bind(this),c=this.#X.bind(this),d=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",c,{signal:d}),f.addEventListener("focus",this.#$.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",bt._l10nResizer[p])}}const n=this.#e[0];let a=0;for(const l of e){if(l===n)break;a++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==a){if(o<a)for(let c=0;c<a-o;c++)this.#u.append(this.#u.firstChild);else if(o>a)for(let c=0;c<o-a;c++)this.#u.firstChild.before(this.#u.lastChild);let l=0;for(const c of e){const f=this.#e[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",bt._l10nResizer[f])}}this.#j(0),this.#v=!0,this.#u.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#Y(t){bt._resizerKeyboardManager.exec(this,t)}#X(t){this.#v&&t.relatedTarget?.parentNode!==this.#u&&this.#B()}#$(t){this.#m=this.#v?t:""}#j(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#v&&this.#P(this.#m,{deltaX:t,deltaY:e,fromKeyboard:!0})}#B(){this.#v=!1,this.#j(-1),this.#I()}_stopResizingWithKeyboard(){this.#B(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#u?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(t){this.#g=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#S||=new Map;const{action:n}=t;let a=this.#S.get(n);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),this.#S.delete(n),this.#S.size===0&&(this.#S=null)},bt._telemetryTimeout),this.#S.set(n,a);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class DC extends bt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const V1=3285377520,Bn=4294901760,ni=65535;class Lb{constructor(t){this.h1=t?t&4294967295:V1,this.h2=t?t&4294967295:V1}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let S=0,C=t.length;S<C;S++){const A=t.charCodeAt(S);A<=255?e[n++]=A:(e[n++]=A>>>8,e[n++]=A&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=n>>2,o=n-a*4,l=new Uint32Array(e.buffer,0,a);let c=0,d=0,f=this.h1,p=this.h2;const m=3432918353,b=461845907,v=m&ni,w=b&ni;for(let S=0;S<a;S++)S&1?(c=l[S],c=c*m&Bn|c*v&ni,c=c<<15|c>>>17,c=c*b&Bn|c*w&ni,f^=c,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[S],d=d*m&Bn|d*v&ni,d=d<<15|d>>>17,d=d*b&Bn|d*w&ni,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,o){case 3:c^=e[a*4+2]<<16;case 2:c^=e[a*4+1]<<8;case 1:c^=e[a*4],c=c*m&Bn|c*v&ni,c=c<<15|c>>>17,c=c*b&Bn|c*w&ni,a&1?f^=c:p^=c}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Bn|t*36045&ni,e=e*4283543511&Bn|((e<<16|t>>>16)*2950163797&Bn)>>>16,t^=e>>>1,t=t*444984403&Bn|t*60499&ni,e=e*3301882366&Bn|((e<<16|t>>>16)*3120437893&Bn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Xd=Object.freeze({map:null,hash:"",transfer:void 0});class Df{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof bt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof bt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let a=!1;if(n!==void 0)for(const[o,l]of Object.entries(e))n[o]!==l&&(a=!0,n[o]=l);else a=!0,this.#n.set(t,e);a&&this.#a(),e instanceof bt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Ob(this)}get serializable(){if(this.#n.size===0)return Xd;const t=new Map,e=new Lb,n=[],a=Object.create(null);let o=!1;for(const[l,c]of this.#n){const d=c instanceof bt?c.serialize(!1,a):c;d&&(t.set(l,d),e.update(`${l}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Xd}get editorStats(){let t=null;const e=new Map;let n=0,a=0;for(const o of this.#n.values()){if(!(o instanceof bt)){o.popup&&(o.popup.deleted?a+=1:n+=1);continue}o.isCommentDeleted?a+=1:o.hasEditedComment&&(n+=1);const l=o.telemetryFinalData;if(!l)continue;const{type:c}=l;e.has(c)||e.set(c,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const d=t[c]||=new Map;for(const[f,p]of Object.entries(l)){if(f==="type")continue;let m=d.get(f);m||(m=new Map,d.set(f,m));const b=m.get(p)??0;m.set(p,b+1)}}if((a>0||n>0)&&(t||=Object.create(null),t.comments={deleted:a,edited:n}),!t)return null;for(const[o,l]of e)t[o]=l.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const n=this.#i?.get(t);return n?(n.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class Ob extends Df{#t;constructor(t){super();const{map:e,hash:n,transfer:a}=t.serializable,o=structuredClone(e,a?{transfer:a}:null);this.#t={map:o,hash:n,transfer:a}}get print(){ee("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Mt(this,"modifiedIds",{ids:new Set,hash:""})}}class LC{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(zt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:o,style:l}=t,c=new FontFace(a,o,l);this.addNativeFontFace(c);try{await c.load(),this.#t.add(a),n?.(t)}catch{Tt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}ee("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(a){throw Tt(`Failed to load font '${n.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const a=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Mt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Mt(this,"isSyncFontLoadingSupported",We||Be.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(zt(!a.done,"completeRequest() cannot be called twice."),a.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,a={done:!1,complete:e,callback:t};return n.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Mt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(O,D){return O.charCodeAt(D)<<24|O.charCodeAt(D+1)<<16|O.charCodeAt(D+2)<<8|O.charCodeAt(D+3)&255}function a(O,D,M,z){const H=O.substring(0,D),V=O.substring(D+M);return H+z+V}let o,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let f=0;function p(O,D){if(++f>30){Tt("Load test font never loaded."),D();return}if(d.font="30px "+O,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(p.bind(null,O,D))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=a(b,976,m.length,m);const w=16,S=1482184792;let C=n(b,w);for(o=0,l=m.length-3;o<l;o+=4)C=C-S+n(m,o)|0;o<m.length&&(C=C-S+n(m+"XXX",o)|0),b=a(b,w,4,vC(C));const A=`url(data:font/opentype;base64,${btoa(b)});`,k=`@font-face {font-family:"${m}";src:${A}}`;this.insertRule(k);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const O of[t.loadedName,m]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=O,R.append(D)}this._document.body.append(R),p(m,()=>{R.remove(),e.complete()})}}class OC{#t;constructor(t,e=null,n,a){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,n&&Object.assign(this,n),a&&(this.charProcOperatorList=a)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${Eb(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let a;try{a=t.get(n)}catch(l){Tt(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(a||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function NC(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(We)return r;const t=URL.parse(r,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function PC(r){if(We&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return Oo(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function iu(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const Yd=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,BC=r=>typeof r=="object"&&typeof r?.name=="string",Nb=xC.bind(null,Yd,BC);class zC{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[a]of this.#t)a.call(this,n)})}addEventListener(t,e,n=null){let a=null;if(n?.signal instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Tt("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);a=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}this.#t.set(e,a)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const su={DATA:1,ERROR:2},Ee={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function G1(){}function on(r){if(r instanceof Ni||r instanceof xu||r instanceof B1||r instanceof Ao||r instanceof xd)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||ee('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Ni(r.message);case"InvalidPDFException":return new xu(r.message);case"PasswordException":return new B1(r.message,r.code);case"ResponseException":return new Ao(r.message,r.status,r.missing);case"UnknownErrorException":return new xd(r.message,r.details)}return new xd(r.message,r.toString())}class co{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,a=this.callbackCapabilities[n];if(!a)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===su.DATA)a.resolve(t.data);else if(t.callback===su.ERROR)a.reject(on(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,a=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(l){o.postMessage({sourceName:n,targetName:a,callback:su.DATA,callbackId:t.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:a,callback:su.ERROR,callbackId:t.callbackId,reason:on(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const a=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[a]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(t,e,n,a){const o=this.streamId++,l=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:c,action:t,streamId:o,data:e,desiredSize:f.desiredSize},a),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,d.postMessage({sourceName:l,targetName:c,stream:Ee.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{zt(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:c,stream:Ee.CANCEL,streamId:o,reason:on(f)}),p.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,a=t.sourceName,o=this.comObj,l=this,c=this.actionHandler[t.action],d={enqueue(f,p=1,m){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=p,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:a,stream:Ee.ENQUEUE,streamId:e,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:a,stream:Ee.CLOSE,streamId:e}),delete l.streamSinks[e])},error(f){zt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:a,stream:Ee.ERROR,streamId:e,reason:on(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(c,t.data,d).then(function(){o.postMessage({sourceName:n,targetName:a,stream:Ee.START_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:a,stream:Ee.START_COMPLETE,streamId:e,reason:on(f)})})}#n(t){const e=t.streamId,n=this.sourceName,a=t.sourceName,o=this.comObj,l=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case Ee.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(on(t.reason));break;case Ee.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(on(t.reason));break;case Ee.PULL:if(!c){o.postMessage({sourceName:n,targetName:a,stream:Ee.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||G1).then(function(){o.postMessage({sourceName:n,targetName:a,stream:Ee.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:a,stream:Ee.PULL_COMPLETE,streamId:e,reason:on(f)})});break;case Ee.ENQUEUE:if(zt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case Ee.CLOSE:if(zt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,e);break;case Ee.ERROR:zt(l,"error should have stream controller"),l.controller.error(on(t.reason)),this.#a(l,e);break;case Ee.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(on(t.reason)),this.#a(l,e);break;case Ee.CANCEL:if(!c)break;const d=on(t.reason);Promise.try(c.onCancel||G1,d).then(function(){o.postMessage({sourceName:n,targetName:a,stream:Ee.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:a,stream:Ee.CANCEL_COMPLETE,streamId:e,reason:on(f)})}),c.sinkCapability.reject(d),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class Pb{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ee("Abstract method `_createCanvas` called.")}}class IC extends Pb{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class Bb{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ee("Abstract method `_fetch` called.")}}class q1 extends Bb{async _fetch(t){const e=await Zr(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Oo(e)}}class zb{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,a,o){return"none"}destroy(t=!1){}}class FC extends zb{#t;#e;#i;#n;#a;#s;#r=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#a=e}get#o(){return this.#e||=new Map}get#u(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#a.createElementNS(Mi,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(Mi,"defs"),t.append(n),n.append(this.#i),this.#a.body.append(t)}return this.#i}#d(t){if(t.length===1){const d=t[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=d[m]/255;const p=f.join(",");return[p,p,p]}const[e,n,a]=t,o=new Array(256),l=new Array(256),c=new Array(256);for(let d=0;d<256;d++)o[d]=e[d]/255,l[d]=n[d]/255,c[d]=a[d]/255;return[o.join(","),l.join(","),c.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(Po(e)?Tt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Ef(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,a,o]=this.#d(t),l=t.length===1?n:`${n}${a}${o}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const c=`g_${this.#n}_transfer_map_${this.#r++}`,d=this.#h(c);this.#o.set(t,d),this.#o.set(l,d);const f=this.#p(c);return this.#g(n,a,o,f),d}addHCMFilter(t,e){const n=`${t}-${e}`,a="base";let o=this.#u.get(a);if(o?.key===n||(o?(o.filter?.remove(),o.key=n,o.url="none",o.filter=null):(o={key:n,url:"none",filter:null},this.#u.set(a,o)),!t||!e))return o.url;const l=this.#v(t);t=ht.makeHexColor(...l);const c=this.#v(e);if(e=ht.makeHexColor(...c),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const d=new Array(256);for(let v=0;v<=255;v++){const w=v/255;d[v]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#n}_hcm_filter`,m=o.filter=this.#p(p);this.#g(f,f,f,m),this.#m(m);const b=(v,w)=>{const S=l[v]/255,C=c[v]/255,A=new Array(w+1);for(let k=0;k<=w;k++)A[k]=S+k/w*(C-S);return A.join(",")};return this.#g(b(0,5),b(1,5),b(2,5),m),o.url=this.#h(p),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#d([t]),a=`alpha_${n}`;if(e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_alpha_map_${this.#r++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(a,l);const c=this.#p(o);return this.#y(n,c),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,a;if(t?([n]=this.#d([t]),a=`luminosity_${n}`):a="luminosity",e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_luminosity_map_${this.#r++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(a,l);const c=this.#p(o);return this.#f(c),t&&this.#y(n,c),l}addHighlightHCMFilter(t,e,n,a,o){const l=`${e}-${n}-${a}-${o}`;let c=this.#u.get(t);if(c?.key===l||(c?(c.filter?.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},this.#u.set(t,c)),!e||!n))return c.url;const[d,f]=[e,n].map(this.#v.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[b,v]=[a,o].map(this.#v.bind(this));m<p&&([p,m,b,v]=[m,p,v,b]),this.#l.style.color="";const w=(A,k,R)=>{const O=new Array(256),D=(m-p)/R,M=A/255,z=(k-A)/(255*R);let H=0;for(let V=0;V<=R;V++){const $=Math.round(p+V*D),Y=M+V*z;for(let et=H;et<=$;et++)O[et]=Y;H=$+1}for(let V=H;V<256;V++)O[V]=O[H-1];return O.join(",")},S=`g_${this.#n}_hcm_${t}_filter`,C=c.filter=this.#p(S);return this.#m(C),this.#g(w(b[0],v[0],5),w(b[1],v[1],5),w(b[2],v[2],5),C),c.url=this.#h(S),c.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#r=0)}#f(t){const e=this.#a.createElementNS(Mi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#m(t){const e=this.#a.createElementNS(Mi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(Mi,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#c(t,e,n){const a=this.#a.createElementNS(Mi,e);a.setAttribute("type","discrete"),a.setAttribute("tableValues",n),t.append(a)}#g(t,e,n,a){const o=this.#a.createElementNS(Mi,"feComponentTransfer");a.append(o),this.#c(o,"feFuncR",t),this.#c(o,"feFuncG",e),this.#c(o,"feFuncB",n)}#y(t,e){const n=this.#a.createElementNS(Mi,"feComponentTransfer");e.append(n),this.#c(n,"feFuncA",t)}#v(t){return this.#l.style.color=t,Jr(getComputedStyle(this.#l).getPropertyValue("color"))}}class Ib{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ee("Abstract method `_fetch` called.")}}class X1 extends Ib{async _fetch(t){const e=await Zr(t,"arraybuffer");return new Uint8Array(e)}}class Fb{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){ee("Abstract method `_fetch` called.")}}class Y1 extends Fb{async _fetch(t){const e=await Zr(t,"arraybuffer");return new Uint8Array(e)}}We&&Tt("Please use the `legacy` build in Node.js environments.");async function Lf(r){const e=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(e)}class UC extends zb{}class HC extends Pb{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class jC extends Bb{async _fetch(t){return Lf(t)}}class VC extends Ib{async _fetch(t){return Lf(t)}}class GC extends Fb{async _fetch(t){return Lf(t)}}const Dr="__forcedDependency",{floor:$1,ceil:K1}=Math;function ru(r,t,e,n,a,o){r[t*4+0]=Math.min(r[t*4+0],e),r[t*4+1]=Math.min(r[t*4+1],n),r[t*4+2]=Math.max(r[t*4+2],a),r[t*4+3]=Math.max(r[t*4+3],o)}const $d=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class qC{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===$d}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const au=(r,t)=>{if(!r)return;let e=r.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},r.set(t,e)),e};class XC{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[Dr]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#u=-1;#l=new Set;#d=new Map;#h=new Map;#f;#m;#p;#c;#g;constructor(t,e,n=!1){this.#f=t.width,this.#m=t.height,this.#y(e),n&&(this.#g=new Map)}growOperationsCount(t){t>=this.#c.length&&this.#y(t,this.#c)}#y(t,e){const n=new ArrayBuffer(t*4);this.#p=new Uint8ClampedArray(n),this.#c=new Uint32Array(n),e&&e.length>0?(this.#c.set(e),this.#c.fill($d,e.length)):this.#c.fill($d)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[Dr]:{__proto__:this.#e[Dr]}},this.#r={__proto__:this.#r},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#r=Object.getPrototypeOf(this.#r);const n=this.#n.pop();return n!==void 0&&(au(this.#g,t)?.dependencies.add(n),this.#c[t]=this.#c[n]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(au(this.#g,t)?.dependencies.add(e),this.#c[t]=this.#c[e]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const e=this.#a.pop();return e!==void 0&&(au(this.#g,t)?.dependencies.add(e),this.#c[t]=this.#c[e]),this}pushBaseTransform(t){return this.#s.push(ht.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,n){this.#t[t]=this.#i.get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Dr,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(Dr,t);return this}resetBBox(t){return this.#u!==t&&(this.#u=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,n,a,o,l){const c=ht.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];ht.axialAlignedBoundingBox([n,o,a,l],c,d);const f=ht.intersect(this.#r,d);return f?(this.#r[0]=f[0],this.#r[1]=f[1],this.#r[2]=f[2],this.#r[3]=f[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(t,e,n,a,o,l){const c=this.#r;if(c[0]===1/0)return this;const d=ht.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(c[0]===-1/0)return ht.axialAlignedBoundingBox([n,o,a,l],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return ht.axialAlignedBoundingBox([n,o,a,l],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],c[3])),this}recordCharacterBBox(t,e,n,a=1,o=0,l=0,c){const d=n.bbox;let f,p;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#h.get(n),f!==!1&&(p=[0,0,0,0],ht.axialAlignedBoundingBox(d,n.fontMatrix,p),(a!==1||o!==0||l!==0)&&ht.scaleMinMax([a,0,0,-a,o,l],p),f)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!c)return this.recordFullPageBBox(t);const m=c();return d&&p&&f===void 0&&(f=p[0]<=o-m.actualBoundingBoxLeft&&p[2]>=o+m.actualBoundingBoxRight&&p[1]<=l-m.actualBoundingBoxAscent&&p[3]>=l+m.actualBoundingBoxDescent,this.#h.set(n,f),f)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,o-m.actualBoundingBoxLeft,o+m.actualBoundingBoxRight,l-m.actualBoundingBoxAscent,l+m.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#m,this.#r[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const n=this.#l,a=this.#t,o=this.#e;for(const l of e)l in this.#t?n.add(a[l]):l in o&&o[l].forEach(n.add,n);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Dr]),this.#g){const n=au(this.#g,t),{dependencies:a}=n;this.#l.forEach(a.add,a),this.#n.forEach(a.add,a),this.#a.forEach(a.add,a),a.delete(t),n.isRenderingOperation=!0}if(this.#u===t){const n=$1(this.#o[0]*256/this.#f),a=$1(this.#o[1]*256/this.#m),o=K1(this.#o[2]*256/this.#f),l=K1(this.#o[3]*256/this.#m);ru(this.#p,t,n,a,o,l);for(const c of this.#l)c!==t&&ru(this.#p,c,n,a,o,l);for(const c of this.#n)c!==t&&ru(this.#p,c,n,a,o,l);for(const c of this.#a)c!==t&&ru(this.#p,c,n,a,o,l);e||(this.#l.clear(),this.#u=-1)}return this}recordShowTextOperation(t,e=!1){const n=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const a of n)this.recordIncrementalData("sameLineText",a);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#u===t&&(this.#u=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new qC(this.#c,this.#p)}takeDebugMetadata(){return this.#g}}class _u{#t;#e;#i;#n=0;#a=0;constructor(t,e,n){if(t instanceof _u&&t.#i===!!n)return t;this.#t=t,this.#e=e,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,n,a,o,l){return this.#i||this.#t.recordClipBox(this.#e,e,n,a,o,l),this}recordBBox(t,e,n,a,o,l){return this.#i||this.#t.recordBBox(this.#e,e,n,a,o,l),this}recordCharacterBBox(t,e,n,a,o,l,c){return this.#i||this.#t.recordCharacterBBox(this.#e,e,n,a,o,l,c),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const zn={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},He={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Kd(r,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,n),r.clip(a)}class Of{isModifyingCurrentTransform(){return!1}getPattern(){ee("Abstract method `getPattern` called.")}}class YC extends Of{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,a){let o;if(a===He.STROKE||a===He.FILL){const l=e.current.getClippedPathBoundingBox(a,he(t))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=e.cachedCanvases.getCanvas("pattern",c,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=ht.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),Kd(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(n);o.setTransform(m)}else Kd(t,this._bbox),o=this._createGradient(t);return o}}function _d(r,t,e,n,a,o,l,c){const d=t.coords,f=t.colors,p=r.data,m=r.width*4;let b;d[e+1]>d[n+1]&&(b=e,e=n,n=b,b=o,o=l,l=b),d[n+1]>d[a+1]&&(b=n,n=a,a=b,b=l,l=c,c=b),d[e+1]>d[n+1]&&(b=e,e=n,n=b,b=o,o=l,l=b);const v=(d[e]+t.offsetX)*t.scaleX,w=(d[e+1]+t.offsetY)*t.scaleY,S=(d[n]+t.offsetX)*t.scaleX,C=(d[n+1]+t.offsetY)*t.scaleY,A=(d[a]+t.offsetX)*t.scaleX,k=(d[a+1]+t.offsetY)*t.scaleY;if(w>=k)return;const R=f[o],O=f[o+1],D=f[o+2],M=f[l],z=f[l+1],H=f[l+2],V=f[c],$=f[c+1],Y=f[c+2],et=Math.round(w),nt=Math.round(k);let J,at,P,G,it,ft,E,K;for(let st=et;st<=nt;st++){if(st<C){const Et=st<w?0:(w-st)/(w-C);J=v-(v-S)*Et,at=R-(R-M)*Et,P=O-(O-z)*Et,G=D-(D-H)*Et}else{let Et;st>k?Et=1:C===k?Et=0:Et=(C-st)/(C-k),J=S-(S-A)*Et,at=M-(M-V)*Et,P=z-(z-$)*Et,G=H-(H-Y)*Et}let T;st<w?T=0:st>k?T=1:T=(w-st)/(w-k),it=v-(v-A)*T,ft=R-(R-V)*T,E=O-(O-$)*T,K=D-(D-Y)*T;const lt=Math.round(Math.min(J,it)),yt=Math.round(Math.max(J,it));let ut=m*st+lt*4;for(let Et=lt;Et<=yt;Et++)T=(J-Et)/(J-it),T<0?T=0:T>1&&(T=1),p[ut++]=at-(at-ft)*T|0,p[ut++]=P-(P-E)*T|0,p[ut++]=G-(G-K)*T|0,p[ut++]=255}}function $C(r,t,e){const n=t.coords,a=t.colors;let o,l;switch(t.type){case"lattice":const c=t.verticesPerRow,d=Math.floor(n.length/c)-1,f=c-1;for(o=0;o<d;o++){let p=o*c;for(let m=0;m<f;m++,p++)_d(r,e,n[p],n[p+1],n[p+c],a[p],a[p+1],a[p+c]),_d(r,e,n[p+c+1],n[p+1],n[p+c],a[p+c+1],a[p+1],a[p+c])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)_d(r,e,n[o],n[o+1],n[o+2],a[o],a[o+1],a[o+2]);break;default:throw new Error("illegal figure")}}class KC extends Of{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-d,m=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),v=f/m,w=p/b,S={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/v,scaleY:1/w},C=m+4,A=b+4,k=n.getCanvas("mesh",C,A),R=k.context,O=R.createImageData(m,b);if(e){const M=O.data;for(let z=0,H=M.length;z<H;z+=4)M[z]=e[0],M[z+1]=e[1],M[z+2]=e[2],M[z+3]=255}for(const M of this._figures)$C(O,M,S);return R.putImageData(O,2,2),{canvas:k.canvas,offsetX:c-2*v,offsetY:d-2*w,scaleX:v,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,a){Kd(t,this._bbox);const o=new Float32Array(2);if(a===He.SHADING)ht.singularValueDecompose2dScale(he(t),o);else if(this.matrix){ht.singularValueDecompose2dScale(this.matrix,o);const[c,d]=o;ht.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=c,o[1]*=d}else ht.singularValueDecompose2dScale(e.baseTransform,o);const l=this._createMeshCanvas(o,a===He.SHADING?null:this._background,e.cachedCanvases);return a!==He.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class WC extends Of{getPattern(){return"hotpink"}}function QC(r){switch(r[0]){case"RadialAxial":return new YC(r);case"Mesh":return new KC(r);case"Dummy":return new WC}throw new Error(`Unknown IR type: ${r[0]}`)}const W1={COLORED:1,UNCOLORED:2};class Nf{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=a}createPatternCanvas(t,e){const{bbox:n,operatorList:a,paintType:o,tilingType:l,color:c,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),Nu("TilingType: "+l);const m=n[0],b=n[1],v=n[2],w=n[3],S=v-m,C=w-b,A=new Float32Array(2);ht.singularValueDecompose2dScale(this.matrix,A);const[k,R]=A;ht.singularValueDecompose2dScale(this.baseTransform,A);const O=k*A[0],D=R*A[1];let M=S,z=C,H=!1,V=!1;const $=Math.ceil(f*O),Y=Math.ceil(p*D),et=Math.ceil(S*O),nt=Math.ceil(C*D);$>=et?M=f:H=!0,Y>=nt?z=p:V=!0;const J=this.getSizeAndScale(M,this.ctx.canvas.width,O),at=this.getSizeAndScale(z,this.ctx.canvas.height,D),P=t.cachedCanvases.getCanvas("pattern",J.size,at.size),G=P.context,it=d.createCanvasGraphics(G,e);if(it.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(it,o,c),G.translate(-J.scale*m,-at.scale*b),it.transform(0,J.scale,0,0,at.scale,0,0),G.save(),it.dependencyTracker?.save(),this.clipBbox(it,m,b,v,w),it.baseTransform=he(it.ctx),it.executeOperatorList(a),it.endDrawing(),it.dependencyTracker?.restore(),G.restore(),H||V){const ft=P.canvas;H&&(M=f),V&&(z=p);const E=this.getSizeAndScale(M,this.ctx.canvas.width,O),K=this.getSizeAndScale(z,this.ctx.canvas.height,D),st=E.size,T=K.size,lt=t.cachedCanvases.getCanvas("pattern-workaround",st,T),yt=lt.context,ut=H?Math.floor(S/f):0,Et=V?Math.floor(C/p):0;for(let Ct=0;Ct<=ut;Ct++)for(let jt=0;jt<=Et;jt++)yt.drawImage(ft,st*Ct,T*jt,st,T,0,0,st,T);return{canvas:lt.canvas,scaleX:E.scale,scaleY:K.scale,offsetX:m,offsetY:b}}return{canvas:P.canvas,scaleX:J.scale,scaleY:at.scale,offsetX:m,offsetY:b}}getSizeAndScale(t,e,n){const a=Math.max(Nf.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*n);return o>=a?o=a:n=o/t,{scale:n,size:o}}clipBbox(t,e,n,a,o){const l=a-e,c=o-n;t.ctx.rect(e,n,l,c),ht.axialAlignedBoundingBox([e,n,a,o],he(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const a=t.ctx,o=t.current;switch(e){case W1.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;a.fillStyle=o.fillColor=l,a.strokeStyle=o.strokeColor=c;break;case W1.UNCOLORED:a.fillStyle=a.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new bC(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,a,o){let l=n;a!==He.SHADING&&(l=ht.transform(l,e.baseTransform),this.matrix&&(l=ht.transform(l,this.matrix)));const c=this.createPatternCanvas(e,o);let d=new DOMMatrix(l);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(d),f}}function ZC({src:r,srcPos:t=0,dest:e,width:n,height:a,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const c=Be.isLittleEndian?4278190080:255,[d,f]=l?[o,c]:[c,o],p=n>>3,m=n&7,b=r.length;e=new Uint32Array(e.buffer);let v=0;for(let w=0;w<a;w++){for(const C=t+p;t<C;t++){const A=t<b?r[t]:255;e[v++]=A&128?f:d,e[v++]=A&64?f:d,e[v++]=A&32?f:d,e[v++]=A&16?f:d,e[v++]=A&8?f:d,e[v++]=A&4?f:d,e[v++]=A&2?f:d,e[v++]=A&1?f:d}if(m===0)continue;const S=t<b?r[t++]:255;for(let C=0;C<m;C++)e[v++]=S&1<<7-C?f:d}return{srcPos:t,destPos:v}}const Q1=16,Z1=100,JC=15,J1=10,ln=16,Td=new DOMMatrix,xn=new Float32Array(2),Nr=new Float32Array([1/0,1/0,-1/0,-1/0]);function t_(r,t){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){t.save(),this.__originalSave()},r.restore=function(){t.restore(),this.__originalRestore()},r.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},r.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},r.transform=function(e,n,a,o,l,c){t.transform(e,n,a,o,l,c),this.__originalTransform(e,n,a,o,l,c)},r.setTransform=function(e,n,a,o,l,c){t.setTransform(e,n,a,o,l,c),this.__originalSetTransform(e,n,a,o,l,c)},r.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},r.rotate=function(e){t.rotate(e),this.__originalRotate(e)},r.clip=function(e){t.clip(e),this.__originalClip(e)},r.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},r.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},r.bezierCurveTo=function(e,n,a,o,l,c){t.bezierCurveTo(e,n,a,o,l,c),this.__originalBezierCurveTo(e,n,a,o,l,c)},r.rect=function(e,n,a,o){t.rect(e,n,a,o),this.__originalRect(e,n,a,o)},r.closePath=function(){t.closePath(),this.__originalClosePath()},r.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class e_{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,n)):(a=this.canvasFactory.create(e,n),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function ou(r,t,e,n,a,o,l,c,d,f){const[p,m,b,v,w,S]=he(r);if(m===0&&b===0){const k=l*p+w,R=Math.round(k),O=c*v+S,D=Math.round(O),M=(l+d)*p+w,z=Math.abs(Math.round(M)-R)||1,H=(c+f)*v+S,V=Math.abs(Math.round(H)-D)||1;return r.setTransform(Math.sign(p),0,0,Math.sign(v),R,D),r.drawImage(t,e,n,a,o,0,0,z,V),r.setTransform(p,m,b,v,w,S),[z,V]}if(p===0&&v===0){const k=c*b+w,R=Math.round(k),O=l*m+S,D=Math.round(O),M=(c+f)*b+w,z=Math.abs(Math.round(M)-R)||1,H=(l+d)*m+S,V=Math.abs(Math.round(H)-D)||1;return r.setTransform(0,Math.sign(m),Math.sign(b),0,R,D),r.drawImage(t,e,n,a,o,0,0,V,z),r.setTransform(p,m,b,v,w,S),[V,z]}r.drawImage(t,e,n,a,o,l,c,d,f);const C=Math.hypot(p,m),A=Math.hypot(b,v);return[C*d,A*f]}class ty{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Gd;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Ue.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Nr.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=He.FILL,e=null){const n=this.minMax.slice();if(t===He.STROKE){e||ee("Stroke bounding box must include transform."),ht.singularValueDecompose2dScale(e,xn);const a=xn[0]*this.lineWidth/2,o=xn[1]*this.lineWidth/2;n[0]-=a,n[1]-=o,n[2]+=a,n[3]+=o}return n}updateClipFromPath(){const t=ht.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Nr,0)}getClippedPathBoundingBox(t=He.FILL,e=null){return ht.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function ey(r,t){if(t instanceof ImageData){r.putImageData(t,0,0);return}const e=t.height,n=t.width,a=e%ln,o=(e-a)/ln,l=a===0?o:o+1,c=r.createImageData(n,ln);let d=0,f;const p=t.data,m=c.data;let b,v,w,S;if(t.kind===mo.GRAYSCALE_1BPP){const C=p.byteLength,A=new Uint32Array(m.buffer,0,m.byteLength>>2),k=A.length,R=n+7>>3,O=4294967295,D=Be.isLittleEndian?4278190080:255;for(b=0;b<l;b++){for(w=b<o?ln:a,f=0,v=0;v<w;v++){const M=C-d;let z=0;const H=M>R?n:M*8-7,V=H&-8;let $=0,Y=0;for(;z<V;z+=8)Y=p[d++],A[f++]=Y&128?O:D,A[f++]=Y&64?O:D,A[f++]=Y&32?O:D,A[f++]=Y&16?O:D,A[f++]=Y&8?O:D,A[f++]=Y&4?O:D,A[f++]=Y&2?O:D,A[f++]=Y&1?O:D;for(;z<H;z++)$===0&&(Y=p[d++],$=128),A[f++]=Y&$?O:D,$>>=1}for(;f<k;)A[f++]=0;r.putImageData(c,0,b*ln)}}else if(t.kind===mo.RGBA_32BPP){for(v=0,S=n*ln*4,b=0;b<o;b++)m.set(p.subarray(d,d+S)),d+=S,r.putImageData(c,0,v),v+=ln;b<l&&(S=n*a*4,m.set(p.subarray(d,d+S)),r.putImageData(c,0,v))}else if(t.kind===mo.RGB_24BPP)for(w=ln,S=n*w,b=0;b<l;b++){for(b>=o&&(w=a,S=n*w),f=0,v=S;v--;)m[f++]=p[d++],m[f++]=p[d++],m[f++]=p[d++],m[f++]=255;r.putImageData(c,0,b*ln)}else throw new Error(`bad image kind: ${t.kind}`)}function ny(r,t){if(t.bitmap){r.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,a=e%ln,o=(e-a)/ln,l=a===0?o:o+1,c=r.createImageData(n,ln);let d=0;const f=t.data,p=c.data;for(let m=0;m<l;m++){const b=m<o?ln:a;({srcPos:d}=ZC({src:f,srcPos:d,dest:p,width:n,height:b,nonBlackColor:0})),r.putImageData(c,0,m*ln)}}function ro(r,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)r[n]!==void 0&&(t[n]=r[n]);r.setLineDash!==void 0&&(t.setLineDash(r.getLineDash()),t.lineDashOffset=r.lineDashOffset)}function lu(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:t}=r;t!=="none"&&t!==""&&(r.filter="none")}function iy(r,t){if(t)return!0;ht.singularValueDecompose2dScale(r,xn);const e=Math.fround(Xn.pixelRatio*Bs.PDF_TO_CSS_UNITS);return xn[0]<=e&&xn[1]<=e}const n_=["butt","round","square"],i_=["miter","round","bevel"],s_={},sy={};class Ir{constructor(t,e,n,a,o,{optionalContentConfig:l,markedContentStack:c=null},d,f,p){this.ctx=t,this.current=new ty(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=a,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new e_(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,n=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:a=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=c,n){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...he(this.compositeCtx))}this.ctx.save(),lu(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=he(this.ctx)}executeOperatorList(t,e,n,a,o){const l=t.argsArray,c=t.fnArray;let d=e||0;const f=l.length;if(f===d)return d;const p=f-d>J1&&typeof n=="function",m=p?Date.now()+JC:0;let b=0;const v=this.commonObjs,w=this.objs;let S,C;for(;;){if(a!==void 0&&d===a.nextBreakPoint)return a.breakIt(d,n),d;if(!o||o(d))if(S=c[d],C=l[d]??null,S!==qr.dependency)C===null?this[S](d):this[S](d,...C);else for(const A of C){this.dependencyTracker?.recordNamedData(A,d);const k=A.startsWith("g_")?v:w;if(!k.has(A))return k.get(A,n),d}if(d++,d===f)return d;if(p&&++b>J1){if(Date.now()>m)return n(),d;b=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,a=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=n,d=a,f="prescale1",p,m;for(;o>2&&c>1||l>2&&d>1;){let b=c,v=d;o>2&&c>1&&(b=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),o/=c/b),l>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/v),p=this.cachedCanvases.getCanvas(f,b,v),m=p.context,m.clearRect(0,0,b,v),m.drawImage(t,0,0,c,d,0,0,b,v),t=p.canvas,c=b,d=v,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:d}}_createMaskCanvas(t,e){const n=this.ctx,{width:a,height:o}=e,l=this.current.fillColor,c=this.current.patternFill,d=he(n);let f,p,m,b;if((e.bitmap||e.data)&&e.count>1){const $=e.bitmap||e.data.buffer;p=JSON.stringify(c?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get($),f||(f=new Map,this._cachedBitmapsMap.set($,f));const Y=f.get(p);if(Y&&!c){const et=Math.round(Math.min(d[0],d[2])+d[4]),nt=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,zn.transformAndFill),{canvas:Y,offsetX:et,offsetY:nt}}m=Y}m||(b=this.cachedCanvases.getCanvas("maskCanvas",a,o),ny(b.context,e));let v=ht.transform(d,[1/a,0,0,-1/o,0,0]);v=ht.transform(v,[1,0,0,1,0,-o]);const w=Nr.slice();ht.axialAlignedBoundingBox([0,0,a,o],v,w);const[S,C,A,k]=w,R=Math.round(A-S)||1,O=Math.round(k-C)||1,D=this.cachedCanvases.getCanvas("fillCanvas",R,O),M=D.context,z=S,H=C;M.translate(-z,-H),M.transform(...v),m||(m=this._scaleImage(b.canvas,ei(M)),m=m.img,f&&c&&f.set(p,m)),M.imageSmoothingEnabled=iy(he(M),e.interpolate),ou(M,m,0,0,m.width,m.height,0,0,a,o),M.globalCompositeOperation="source-in";const V=ht.transform(ei(M),[1,0,0,1,-z,-H]);return M.fillStyle=c?l.getPattern(n,this,V,He.FILL,t):l,M.fillRect(0,0,a,o),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,D.canvas)),this.dependencyTracker?.recordDependencies(t,zn.transformAndFill),{canvas:D.canvas,offsetX:Math.round(z),offsetY:Math.round(H)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=n_[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=i_[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(e),a.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,a]of e)switch(n){case"LW":this.setLineWidth(t,a);break;case"LC":this.setLineCap(t,a);break;case"LJ":this.setLineJoin(t,a);break;case"ML":this.setMiterLimit(t,a);break;case"D":this.setDash(t,a[0],a[1]);break;case"RI":this.setRenderingIntent(t,a);break;case"FL":this.setFlatness(t,a);break;case"Font":this.setFont(t,a[0],a[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=a;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=a;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=a;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(a,e,n);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),ro(this.suspendedCtx,l),t_(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ro(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,a){const o=a[0],l=a[1],c=a[2]-o,d=a[3]-l;c===0||d===0||(this.genericComposeSMask(e.context,n,c,d,e.subtype,e.backdrop,e.transferMap,o,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,a,o,l,c,d,f,p,m){let b=t.canvas,v=d-p,w=f-m;if(l)if(v<0||w<0||v+n>b.width||w+a>b.height){const C=this.cachedCanvases.getCanvas("maskExtension",n,a),A=C.context;A.drawImage(b,-v,-w),A.globalCompositeOperation="destination-atop",A.fillStyle=l,A.fillRect(0,0,n,a),A.globalCompositeOperation="source-over",b=C.canvas,v=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(v,w,n,a),t.clip(C),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(v,w,n,a),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const S=new Path2D;S.rect(d,f,n,a),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(b,v,w,n,a,d,f,n,a),e.restore()}save(t){this.inSMaskMode&&ro(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&ro(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,a,o,l,c){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,a,o,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,a){let[o]=n;if(!a){o||=n[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const l=e===qr.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,a[0]-l,a[2]+l,a[1]-l,a[3]+l).recordDependencies(t,["transform"])}if(!(o instanceof Path2D)){const l=n[0]=new Path2D;for(let c=0,d=o.length;c<d;)switch(o[c++]){case eu.moveTo:l.moveTo(o[c++],o[c++]);break;case eu.lineTo:l.lineTo(o[c++],o[c++]);break;case eu.curveTo:l.bezierCurveTo(o[c++],o[c++],o[c++],o[c++],o[c++],o[c++]);break;case eu.closePath:l.closePath();break;default:Tt(`Unrecognized drawing path operator: ${o[c-1]}`);break}o=l}ht.axialAlignedBoundingBox(a,he(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){const a=this.ctx,o=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const l=o.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=o.getPattern(a,this,ei(a),He.STROKE,t),l){const c=new Path2D;c.addPath(e,a.getTransform().invertSelf().multiplySelf(l)),e=c}this.rescaleAndStroke(e,!1),a.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,zn.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(He.STROKE,he(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){const a=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const f=o.isModifyingCurrentTransform()?a.getTransform():null;if(this.dependencyTracker?.save(t),a.save(),a.fillStyle=o.getPattern(a,this,ei(a),He.FILL,t),f){const p=new Path2D;p.addPath(e,a.getTransform().invertSelf().multiplySelf(f)),e=p}c=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(a.fill(e,"evenodd"),this.pendingEOFill=!1):a.fill(e)),this.dependencyTracker?.recordDependencies(t,zn.fill),c&&(a.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,zn.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=s_}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=sy}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:a}=this;e!==void 0&&a.recordFutureForcedDependency("textClip",a.getOpenMarker()).recordFutureForcedDependency("textClip",t),a.recordCloseMarker(t)}if(e!==void 0){const a=new Path2D,o=n.getTransform().invertSelf();for(const{transform:l,x:c,y:d,fontSize:f,path:p}of e)p&&a.addPath(p,new DOMMatrix(l).preMultiplySelf(o).translate(c,d).scale(f,-f));n.clip(a)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const a=this.commonObjs.get(e),o=this.current;if(!a)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=a.fontMatrix||Gd,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&Tt("Invalid font matrix for font "+e),n<0?(n=-n,o.fontDirection=-1):o.fontDirection=1,this.current.font=a,this.current.fontSize=n,a.isType3Font)return;const l=a.loadedName||"sans-serif",c=a.systemFontInfo?.css||`"${l}", ${a.fallbackName}`;let d="normal";a.black?d="900":a.bold&&(d="bold");const f=a.italic?"italic":"normal";let p=n;n<Q1?p=Q1:n>Z1&&(p=Z1),this.current.fontSizeScale=n/p,this.ctx.font=`${f} ${d} ${p}px ${c}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,n){const a=new Path2D;return a.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),a}paintChar(t,e,n,a,o,l){const c=this.ctx,d=this.current,f=d.font,p=d.textRenderingMode,m=d.fontSize/d.fontSizeScale,b=p&Ue.FILL_STROKE_MASK,v=!!(p&Ue.ADD_TO_PATH_FLAG),w=d.patternFill&&!f.missingFile,S=d.patternStroke&&!f.missingFile;let C;if((f.disableFontFace||v||w||S)&&!f.missingFile&&(C=f.getPathGenerator(this.commonObjs,e)),C&&(f.disableFontFace||w||S)){c.save(),c.translate(n,a),c.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(t,c,f);let A;if(b===Ue.FILL||b===Ue.FILL_STROKE)if(o){A=c.getTransform(),c.setTransform(...o);const k=this.#i(C,A,o);c.fill(k)}else c.fill(C);if(b===Ue.STROKE||b===Ue.FILL_STROKE)if(l){A||=c.getTransform(),c.setTransform(...l);const{a:k,b:R,c:O,d:D}=A,M=ht.inverseTransform(l),z=ht.transform([k,R,O,D,0,0],M);ht.singularValueDecompose2dScale(z,xn),c.lineWidth*=Math.max(xn[0],xn[1])/m,c.stroke(this.#i(C,A,l))}else c.lineWidth/=m,c.stroke(C);c.restore()}else(b===Ue.FILL||b===Ue.FILL_STROKE)&&(c.fillText(e,n,a),this.dependencyTracker?.recordCharacterBBox(t,c,f,m,n,a,()=>c.measureText(e))),(b===Ue.STROKE||b===Ue.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,c,f,m,n,a,()=>c.measureText(e)).recordDependencies(t,zn.stroke),c.strokeText(e,n,a));v&&((this.pendingTextPaths||=[]).push({transform:he(c),x:n,y:a,fontSize:m,path:C}),this.dependencyTracker?.recordCharacterBBox(t,c,f,m,n,a))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){n=!0;break}return Mt(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,zn.showText).resetBBox(t),this.current.textRenderingMode&Ue.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,a=n.font;if(a.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=n.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,c=n.fontSizeScale,d=n.charSpacing,f=n.wordSpacing,p=n.fontDirection,m=n.textHScale*p,b=e.length,v=a.vertical,w=v?1:-1,S=a.defaultVMetrics,C=o*n.fontMatrix[0],A=n.textRenderingMode===Ue.FILL&&!a.disableFontFace&&!n.patternFill;l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),p>0?l.scale(m,-1):l.scale(m,1);let k,R;if(n.patternFill){l.save();const H=n.fillColor.getPattern(l,this,ei(l),He.FILL,t);k=he(l),l.restore(),l.fillStyle=H}if(n.patternStroke){l.save();const H=n.strokeColor.getPattern(l,this,ei(l),He.STROKE,t);R=he(l),l.restore(),l.strokeStyle=H}let O=n.lineWidth;const D=n.textMatrixScale;if(D===0||O===0){const H=n.textRenderingMode&Ue.FILL_STROKE_MASK;(H===Ue.STROKE||H===Ue.FILL_STROKE)&&(O=this.getSinglePixelWidth())}else O/=D;if(c!==1&&(l.scale(c,c),O/=c),l.lineWidth=O,a.isInvalidPDFjsFont){const H=[];let V=0;for(const Y of e)H.push(Y.unicode),V+=Y.width;const $=H.join("");if(l.fillText($,0,0),this.dependencyTracker!==null){const Y=l.measureText($);this.dependencyTracker.recordBBox(t,this.ctx,-Y.actualBoundingBoxLeft,Y.actualBoundingBoxRight,-Y.actualBoundingBoxAscent,Y.actualBoundingBoxDescent).recordShowTextOperation(t)}n.x+=V*C*m,l.restore(),this.compose();return}let M=0,z;for(z=0;z<b;++z){const H=e[z];if(typeof H=="number"){M+=w*H*o/1e3;continue}let V=!1;const $=(H.isSpace?f:0)+d,Y=H.fontChar,et=H.accent;let nt,J,at=H.width;if(v){const it=H.vmetric||S,ft=-(H.vmetric?it[1]:at*.5)*C,E=it[2]*C;at=it?-it[0]:at,nt=ft/c,J=(M+E)/c}else nt=M/c,J=0;let P;if(a.remeasure&&at>0){P=l.measureText(Y);const it=P.width*1e3/o*c;if(at<it&&this.isFontSubpixelAAEnabled){const ft=at/it;V=!0,l.save(),l.scale(ft,1),nt/=ft}else at!==it&&(nt+=(at-it)/2e3*o/c)}if(this.contentVisible&&(H.isInFont||a.missingFile)){if(A&&!et)l.fillText(Y,nt,J),this.dependencyTracker?.recordCharacterBBox(t,l,P?{bbox:null}:a,o/c,nt,J,()=>P??l.measureText(Y));else if(this.paintChar(t,Y,nt,J,k,R),et){const it=nt+o*et.offset.x/c,ft=J-o*et.offset.y/c;this.paintChar(t,et.fontChar,it,ft,k,R)}}const G=v?at*C-$*p:at*C+$*p;M+=G,V&&l.restore()}v?n.y-=M:n.x+=M*m,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,a=this.current,o=a.font,l=a.fontSize,c=a.fontDirection,d=o.vertical?1:-1,f=a.charSpacing,p=a.wordSpacing,m=a.textHScale*c,b=a.fontMatrix||Gd,v=e.length,w=a.textRenderingMode===Ue.INVISIBLE;let S,C,A,k;if(w||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),a.textMatrix&&n.transform(...a.textMatrix),n.translate(a.x,a.y+a.textRise),n.scale(m,c);const R=this.dependencyTracker;for(this.dependencyTracker=R?new _u(R,t):null,S=0;S<v;++S){if(C=e[S],typeof C=="number"){k=d*C*l/1e3,this.ctx.translate(k,0),a.x+=k*m;continue}const O=(C.isSpace?p:0)+f,D=o.charProcOperatorList[C.operatorListId];D?this.contentVisible&&(this.save(),n.scale(l,l),n.transform(...b),this.executeOperatorList(D),this.restore()):Tt(`Type3 character "${C.operatorListId}" is not available.`);const M=[C.width,0];ht.applyTransform(M,b),A=M[0]*l+O,n.translate(A,0),a.x+=A*m}n.restore(),R&&(this.dependencyTracker=R)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,a,o,l,c){const d=new Path2D;d.rect(a,o,l-a,c-o),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,a,l,o,c).recordClipBox(t,this.ctx,a,l,o,c),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const a=this.baseTransform||he(this.ctx),o={createCanvasGraphics:(l,c)=>new Ir(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new _u(this.dependencyTracker,c,!0):null)};n=new Nf(e,this.ctx,o,a)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let a;return this.cachedPatterns.has(e)?a=this.cachedPatterns.get(e):(a=QC(this.getObject(t,e)),this.cachedPatterns.set(e,a)),n&&(a.matrix=n),a}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const a=this._getPattern(t,e);n.fillStyle=a.getPattern(n,this,ei(n),He.SHADING,t);const o=ei(n);if(o){const{width:l,height:c}=n.canvas,d=Nr.slice();ht.axialAlignedBoundingBox([0,0,l,c],o,d);const[f,p,m,b]=d;this.ctx.fillRect(f,p,m-f,b-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,zn.transform).recordDependencies(t,zn.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){ee("Should not call beginInlineImage")}beginImageData(){ee("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=he(this.ctx),n)){ht.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[a,o,l,c]=n,d=new Path2D;d.rect(a,o,l-a,c-o),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,a,l,o,c),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||Nu("TODO: Support non-isolated groups."),e.knockout&&Tt("Knockout groups not supported.");const a=he(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=Nr.slice();ht.axialAlignedBoundingBox(e.bbox,he(n),o);const l=[0,0,n.canvas.width,n.canvas.height];o=ht.intersect(o,l)||[0,0,0,0];const c=Math.floor(o[0]),d=Math.floor(o[1]),f=Math.max(Math.ceil(o[2])-c,1),p=Math.max(Math.ceil(o[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(m,f,p),v=b.context;v.translate(-c,-d),v.transform(...a);let w=new Path2D;const[S,C,A,k]=e.bbox;if(w.rect(S,C,A-S,k-C),e.matrix){const R=new Path2D;R.addPath(w,new DOMMatrix(e.matrix)),w=R}v.clip(w),e.smask&&this.smaskStack.push({canvas:b.canvas,context:v,offsetX:c,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(c,d),n.save()),ro(n,v),this.ctx=v,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=he(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const l=Nr.slice();ht.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,a,o,l){if(this.#t(),lu(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const c=n[2]-n[0],d=n[3]-n[1];if(l&&this.annotationCanvasMap){a=a.slice(),a[4]-=n[0],a[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=c,n[3]=d,ht.singularValueDecompose2dScale(he(this.ctx),xn);const{viewportScale:f}=this,p=Math.ceil(c*this.outputScaleX*f),m=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:b,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(xn[0],0,0,-xn[1],0,d*xn[1]),lu(this.ctx)}else{lu(this.ctx),this.endPath(t);const f=new Path2D;f.rect(n[0],n[1],c,d),this.ctx.clip(f)}}this.current=new ty(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...a),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const a=this.ctx,o=this._createMaskCanvas(t,e),l=o.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(l,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+l.width,o.offsetY,o.offsetY+l.height).recordOperation(t),a.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,a=0,o=0,l,c){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const f=he(d);d.transform(n,a,o,l,0,0);const p=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let m=0,b=c.length;m<b;m+=2){const v=ht.transform(f,[n,a,o,l,c[m],c[m+1]]);d.drawImage(p.canvas,v[4],v[5]),this.dependencyTracker?.recordBBox(t,this.ctx,v[4],v[4]+p.canvas.width,v[5],v[5]+p.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,a=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,zn.transformAndFill);for(const l of e){const{data:c,width:d,height:f,transform:p}=l,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),b=m.context;b.save();const v=this.getObject(t,c,l);ny(b,v),b.globalCompositeOperation="source-in",b.fillStyle=o?a.getPattern(b,this,ei(n),He.FILL,t):a,b.fillRect(0,0,d,f),b.restore(),n.save(),n.transform(...p),n.scale(1,-1),ou(n,m.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,d,0,f),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){Tt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,a,o){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){Tt("Dependent image isn't ready yet");return}const c=l.width,d=l.height,f=[];for(let p=0,m=o.length;p<m;p+=2)f.push({transform:[n,0,0,a,o[p],o[p+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(t,l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:a}=t,o=this.cachedCanvases.getCanvas("inlineImage",n,a),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,a=e.height,o=this.ctx;this.save(t);const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/n,-1/a);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",n,a).context;ey(p,e),c=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(c,ei(o));o.imageSmoothingEnabled=iy(he(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,n,-a,0).recordDependencies(t,zn.imageXObject).recordOperation(t),ou(o,d.img,0,0,d.paintWidth,d.paintHeight,0,-a,n,a),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const a=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,c=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;ey(f,e),o=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const l of n)a.save(),a.transform(...l.transform),a.scale(1,-1),ou(a,o,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,a,0,1,-1,0),a.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,zn.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const o=this.ctx;this.pendingClip?(a||(this.pendingClip===sy?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=he(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:a,d:o}=this.ctx.getTransform();let l,c;if(n===0&&a===0){const d=Math.abs(e),f=Math.abs(o);if(d===f)if(t===0)l=c=1/d;else{const p=d*t;l=c=p<1?1/p:1}else if(t===0)l=1/d,c=1/f;else{const p=d*t,m=f*t;l=p<1?1/p:1,c=m<1?1/m:1}}else{const d=Math.abs(e*o-n*a),f=Math.hypot(e,n),p=Math.hypot(a,o);if(t===0)l=p/d,c=f/d;else{const m=t*d;l=p>m?p/m:1,c=f>m?f/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:a}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(a||1)*o,n.stroke(t);return}const c=n.getLineDash();e&&n.save(),n.scale(o,l),Td.a=1/o,Td.d=1/l;const d=new Path2D;if(d.addPath(t,Td),c.length>0){const f=Math.max(o,l);n.setLineDash(c.map(p=>p/f)),n.lineDashOffset/=f}n.lineWidth=a||1,n.stroke(d),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const r in qr)Ir.prototype[r]!==void 0&&(Ir.prototype[qr[r]]=Ir.prototype[r]);class Fr{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,n={};let a=0;for(const f of Fr.strings){const p=e.encode(t[f]);n[f]=p,a+=4+p.length}const o=new ArrayBuffer(a),l=new Uint8Array(o),c=new DataView(o);let d=0;for(const f of Fr.strings){const p=n[f],m=p.length;c.setUint32(d,m),l.set(p,d+4),d+=4+m}return zt(d===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){zt(t<Fr.strings.length,"Invalid string index");let e=0;for(let a=0;a<t;a++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Ur{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,n={};let a=0;for(const b of Ur.strings){const v=e.encode(t[b]);n[b]=v,a+=4+v.length}a+=4;let o,l,c=1+a;t.style&&(o=e.encode(t.style.style),l=e.encode(t.style.weight),c+=4+o.length+4+l.length);const d=new ArrayBuffer(c),f=new Uint8Array(d),p=new DataView(d);let m=0;p.setUint8(m++,t.guessFallback?1:0),p.setUint32(m,0),m+=4,a=0;for(const b of Ur.strings){const v=n[b],w=v.length;a+=4+w,p.setUint32(m,w),f.set(v,m+4),m+=4+w}return p.setUint32(m-a-4,a),t.style&&(p.setUint32(m,o.length),f.set(o,m+4),m+=4+o.length,p.setUint32(m,l.length),f.set(l,m+4),m+=4+l.length),zt(m<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(m)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){zt(t<Ur.strings.length,"Invalid string index");let e=5;for(let a=0;a<t;a++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),n=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const a=this.#e.getUint32(t),o=this.#i.decode(new Uint8Array(this.#t,t+4,a));return{style:n,weight:o}}}class Qt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:t,extra:e}){this.#s=t,this.#r=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#u(t){zt(t<Qt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=t*2%8,a=this.#o.getUint8(e)>>n&3;return a===0?void 0:a===2}get black(){return this.#u(0)}get bold(){return this.#u(1)}get disableFontFace(){return this.#u(2)}get fontExtraProperties(){return this.#u(3)}get isInvalidPDFjsFont(){return this.#u(4)}get isType3Font(){return this.#u(5)}get italic(){return this.#u(6)}get missingFile(){return this.#u(7)}get remeasure(){return this.#u(8)}get vertical(){return this.#u(9)}#l(t){return zt(t<Qt.numbers.length,"Invalid number index"),this.#o.getFloat64(Qt.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Qt.#e;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let a=0;a<4;a++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=Qt.#i;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let a=0;a<6;a++)n.push(this.#o.getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=Qt.#n;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let a=0;a<3;a++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}#d(t){zt(t<Qt.strings.length,"Invalid string index");let e=Qt.#a+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const n=this.#o.getUint32(e),a=new Uint8Array(n);return a.set(new Uint8Array(this.#s,e+4,n)),this.#r.decode(a)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=Qt.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const a=this.#o.getUint32(t);t+=4+a;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#s,t+4,o)}clearData(){let t=Qt.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const a=this.#o.getUint32(t);t+=4+a;const o=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Qt.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const a=this.#o.getUint32(t);if(a===0)return null;const o=new Uint8Array(a);return o.set(new Uint8Array(this.#s,t+4,a)),new Fr(o.buffer)}get systemFontInfo(){let t=Qt.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);if(n===0)return null;const a=new Uint8Array(n);return a.set(new Uint8Array(this.#s,t+4,n)),new Ur(a.buffer)}static write(t){const e=t.systemFontInfo?Ur.write(t.systemFontInfo):null,n=t.cssFontInfo?Fr.write(t.cssFontInfo):null,a=new TextEncoder,o={};let l=0;for(const S of Qt.strings)o[S]=a.encode(t[S]),l+=4+o[S].length;const c=Qt.#a+4+l+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(c),f=new Uint8Array(d),p=new DataView(d);let m=0;const b=Qt.bools.length;let v=0,w=0;for(let S=0;S<b;S++){const C=t[Qt.bools[S]];v|=(C===void 0?0:C?2:1)<<w,w+=2,(w===8||S===b-1)&&(p.setUint8(m++,v),v=0,w=0)}zt(m===Qt.#t,"FontInfo.write: Boolean properties offset mismatch");for(const S of Qt.numbers)p.setFloat64(m,t[S]),m+=8;if(zt(m===Qt.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(m++,4);for(const S of t.bbox)p.setInt16(m,S,!0),m+=2}else p.setUint8(m++,0),m+=8;if(zt(m===Qt.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(m++,6);for(const S of t.fontMatrix)p.setFloat64(m,S,!0),m+=8}else p.setUint8(m++,0),m+=48;if(zt(m===Qt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(m++,1);for(const S of t.defaultVMetrics)p.setInt16(m,S,!0),m+=2}else p.setUint8(m++,0),m+=6;zt(m===Qt.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(Qt.#a,0),m+=4;for(const S of Qt.strings){const C=o[S],A=C.length;p.setUint32(m,A),f.set(C,m+4),m+=4+A}if(p.setUint32(Qt.#a,m-Qt.#a-4),!e)p.setUint32(m,0),m+=4;else{const S=e.byteLength;p.setUint32(m,S),zt(m+4+S<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),m+4),m+=4+S}if(!n)p.setUint32(m,0),m+=4;else{const S=n.byteLength;p.setUint32(m,S),zt(m+4+S<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(n),m+4),m+=4+S}return t.data===void 0?(p.setUint32(m,0),m+=4):(p.setUint32(m,t.data.length),f.set(t.data,m+4),m+=4+t.data.length),zt(m<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(m)}}class us{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class r_{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Or=Symbol("INTERNAL");class a_{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:a,rbGroups:o}){this.#t=!!(t&An.DISPLAY),this.#e=!!(t&An.PRINT),this.name=e,this.intent=n,this.usage=a,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==Or&&ee("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class o_{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=An.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new a_(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(Or,!1);for(const n of t.on)this.#e.get(n)._setVisible(Or,!0);for(const n of t.off)this.#e.get(n)._setVisible(Or,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let a=1;a<e;a++){const o=t[a];let l;if(Array.isArray(o))l=this.#a(o);else if(this.#e.has(o))l=this.#e.get(o).visible;else return Tt(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Nu("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Tt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return Tt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return Tt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return Tt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return Tt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return Tt(`Unknown optional content policy ${t.policy}.`),!0}return Tt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const a=this.#e.get(t);if(!a){Tt(`Optional content group not found: ${t}`);return}if(n&&e&&a.rbGroups.length)for(const o of a.rbGroups)for(const l of o)l!==t&&this.#e.get(l)?._setVisible(Or,!1,!0);a._setVisible(Or,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":n=a;continue}const o=this.#e.get(a);if(o)switch(n){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new Lb;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class l_{constructor(t,{disableRange:e=!1,disableStream:n=!1}){zt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:o,progressiveDone:l,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,o?.length>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const a=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(n),!0)});zt(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){zt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new u_(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new c_(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class u_{constructor(t,e,n=!1,a=null){this._stream=t,this._done=n||!1,this._filename=Bu(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class c_{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function h_(r){let t=!0,e=n("filename\\*","i").exec(r);if(e){e=e[1];let p=c(e);return p=unescape(p),p=d(p),p=f(p),o(p)}if(e=l(r),e){const p=f(e);return o(p)}if(e=n("filename","i").exec(r),e){e=e[1];let p=c(e);return p=f(p),o(p)}function n(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function a(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const b=new TextDecoder(p,{fatal:!0}),v=Oo(m);m=b.decode(v),t=!1}catch{}}return m}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=a("utf-8",p),t&&(p=a("iso-8859-1",p))),p}function l(p){const m=[];let b;const v=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=v.exec(p))!==null;){let[,S,C,A]=b;if(S=parseInt(S,10),S in m){if(S===0)break;continue}m[S]=[C,A]}const w=[];for(let S=0;S<m.length&&S in m;++S){let[C,A]=m[S];A=c(A),C&&(A=unescape(A),S===0&&(A=d(A))),w.push(A)}return w.join("")}function c(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let b=0;b<m.length;++b){const v=m[b].indexOf('"');v!==-1&&(m[b]=m[b].slice(0,v),m.length=b+1),m[b]=m[b].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function d(p){const m=p.indexOf("'");if(m===-1)return p;const b=p.slice(0,m),w=p.slice(m+1).replace(/^[^']*'/,"");return a(b,w)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,b,v,w){if(v==="q"||v==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,C){return String.fromCharCode(parseInt(C,16))}),a(b,w);try{w=atob(w)}catch{}return a(b,w)})}return""}function Ub(r,t){const e=new Headers;if(!r||!t||typeof t!="object")return e;for(const n in t){const a=t[n];a!==void 0&&e.append(n,a)}return e}function zu(r){return URL.parse(r)?.origin??null}function Hb({responseHeaders:r,isHttp:t,rangeChunkSize:e,disableRange:n}){const a={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(r.get("Content-Length"),10);return!Number.isInteger(o)||(a.suggestedLength=o,o<=2*e)||n||!t||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function jb(r){const t=r.get("Content-Disposition");if(t){let e=h_(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Bu(e))return e}return null}function Io(r,t){return new Ao(`Unexpected server response (${r}) while retrieving PDF "${t}".`,r,r===404||r===0&&t.startsWith("file:"))}function Vb(r){return r===200||r===206}function Gb(r,t,e){return{method:"GET",headers:r,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function qb(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Tt(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class d_{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Ub(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return zt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new f_(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new p_(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class f_{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),a=e.url;fetch(a,Gb(n,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=zu(o.url),!Vb(o.status))throw Io(o.status,a);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:c,suggestedLength:d}=Hb({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=jb(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ni("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:qb(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class p_{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${n-1}`);const l=a.url;fetch(l,Gb(o,this._withCredentials,this._abortController)).then(c=>{const d=zu(c.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!Vb(c.status))throw Io(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:qb(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Rd=200,kd=206;function g_(r){const t=r.response;return typeof t!="string"?t:Oo(t).buffer}class m_{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Ub(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,a=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,l]of this.headers)e.setRequestHeader(o,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=kd):a.expectedStatus=Rd,e.responseType="arraybuffer",zt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){n.onError(a.status);return}const o=a.status||Rd;if(!(o===Rd&&n.expectedStatus===kd)&&o!==n.expectedStatus){n.onError(a.status);return}const c=g_(a);if(o===kd){const d=a.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?n.onDone({begin:parseInt(f[1],10),chunk:c}):(Tt('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class y_{constructor(t){this._source=t,this._manager=new m_(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return zt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new b_(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new v_(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class b_{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=zu(e.responseURL);const n=e.getAllResponseHeaders(),a=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[d,...f]=c.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=Hb({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=jb(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Io(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class v_{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=zu(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Io(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const S_=/^[a-z][a-z0-9\-+.]+:/i;function A_(r){if(S_.test(r))return new URL(r);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(r))}class w_{constructor(t){this.source=t,this.url=A_(t.url),zt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return zt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new x_(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new E_(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class x_{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=Io(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ni("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class E_{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const ao=Symbol("INITIAL_DATA");class Xb{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:ao}}get(t,e=null){if(e){const a=this.#e(t);return a.promise.then(()=>e(a.data)),null}const n=this.#t[t];if(!n||n.data===ao)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==ao}delete(t){const e=this.#t[t];return!e||e.data===ao?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==ao&&(yield[t,e])}}}const C_=1e5,ry=30;let xo=class In{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#u=null;#l=null;#d=0;#h=0;#f=Object.create(null);#m=[];#p=null;#c=[];#g=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#C=new WeakMap;static#x=null;static#S=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=n.scale*Xn.pixelRatio,this.#d=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:o,pageX:l,pageY:c}=n.rawDims;this.#y=[1,0,0,-1,-l,c+o],this.#o=a,this.#r=o,In.#k(),cs(e,n),this.#t.promise.finally(()=>{In.#S.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Be.platform;return Mt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#u.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#T(e.items),t()},this.#t.reject)};return this.#u=this.#p.getReader(),In.#S.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*Xn.pixelRatio,a=t.rotation;if(a!==this.#d&&(e?.(),this.#d=a,cs(this.#l,{rotation:a})),n!==this.#h){e?.(),this.#h=n;const o={div:null,properties:null,ctx:In.#M(this.#a)};for(const l of this.#c)o.properties=this.#g.get(l),o.div=l,this.#E(o)}}cancel(){const t=new Ni("TextLayer task cancelled.");this.#u?.cancel(t).catch(()=>{}),this.#u=null,this.#t.reject(t)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#m}#T(t){if(this.#i)return;this.#s.ctx??=In.#M(this.#a);const e=this.#c,n=this.#m;for(const a of t){if(e.length>C_){Tt("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),a.id&&this.#e.setAttribute("id",`${a.id}`),o.append(this.#e)}else a.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(a.str),this.#w(a)}}#w(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#c.push(e);const a=ht.transform(this.#y,t.transform);let o=Math.atan2(a[1],a[0]);const l=this.#f[t.fontName];l.vertical&&(o+=Math.PI/2);let c=this.#n&&l.fontSubstitution||l.fontFamily;c=In.fontFamilyMap.get(c)||c;const d=Math.hypot(a[2],a[3]),f=d*In.#z(c,l,this.#a);let p,m;o===0?(p=a[4],m=a[5]-f):(p=a[4]+f*Math.sin(o),m=a[5]-f*Math.cos(o));const b="calc(var(--total-scale-factor) *",v=e.style;this.#e===this.#l?(v.left=`${(100*p/this.#o).toFixed(2)}%`,v.top=`${(100*m/this.#r).toFixed(2)}%`):(v.left=`${b}${p.toFixed(2)}px)`,v.top=`${b}${m.toFixed(2)}px)`),v.fontSize=`${b}${(In.#x*d).toFixed(2)}px)`,v.fontFamily=c,n.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),o!==0&&(n.angle=o*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const S=Math.abs(t.transform[0]),C=Math.abs(t.transform[3]);S!==C&&Math.max(S,C)/Math.min(S,C)>1.5&&(w=!0)}if(w&&(n.canvasWidth=l.vertical?t.height:t.width),this.#g.set(e,n),this.#s.div=e,this.#s.properties=n,this.#E(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),this.#e.append(S)}}#E(t){const{div:e,properties:n,ctx:a}=t,{style:o}=e;let l="";if(In.#x>1&&(l=`scale(${1/In.#x})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=o,{canvasWidth:d,fontSize:f}=n;In.#R(a,f*this.#h,c);const{width:p}=a.measureText(e.textContent);p>0&&(l=`scaleX(${d*this.#h/p}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)}static cleanup(){if(!(this.#S.size>0)){this.#v.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#M(t=null){let e=this.#b.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,e),this.#C.set(e,{size:0,family:""})}return e}static#R(t,e,n){const a=this.#C.get(t);e===a.size&&n===a.family||(t.font=`${e}px ${n}`,a.size=e,a.family=n)}static#k(){if(this.#x!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#x=t.getBoundingClientRect().height,t.remove()}static#z(t,e,n){const a=this.#v.get(t);if(a)return a;const o=this.#M(n);o.canvas.width=o.canvas.height=ry,this.#R(o,ry,t);const l=o.measureText(""),c=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return c?f=c/(c+d):(Be.platform.isFirefox&&Tt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#v.set(t,f),f}};const __=100;function Pf(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const t=new Bf,{docId:e}=t,n=r.url?NC(r.url):null,a=r.data?PC(r.data):null,o=r.httpHeaders||null,l=r.withCredentials===!0,c=r.password??null,d=r.range instanceof zf?r.range:null,f=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let p=r.worker instanceof Xr?r.worker:null;const m=r.verbosity,b=typeof r.docBaseUrl=="string"&&!Po(r.docBaseUrl)?r.docBaseUrl:null,v=iu(r.cMapUrl),w=r.cMapPacked!==!1,S=r.CMapReaderFactory||(We?jC:q1),C=iu(r.iccUrl),A=iu(r.standardFontDataUrl),k=r.StandardFontDataFactory||(We?VC:X1),R=iu(r.wasmUrl),O=r.WasmFactory||(We?GC:Y1),D=r.stopAtErrors!==!0,M=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,z=r.isEvalSupported!==!1,H=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!We,V=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!We&&(Be.platform.isFirefox||!globalThis.chrome),$=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,Y=typeof r.disableFontFace=="boolean"?r.disableFontFace:We,et=r.fontExtraProperties===!0,nt=r.enableXfa===!0,J=r.ownerDocument||globalThis.document,at=r.disableRange===!0,P=r.disableStream===!0,G=r.disableAutoFetch===!0,it=r.pdfBug===!0,ft=r.CanvasFactory||(We?HC:IC),E=r.FilterFactory||(We?UC:FC),K=r.enableHWA===!0,st=r.useWasm!==!1,T=d?d.length:r.length??NaN,lt=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!We&&!Y,yt=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(S===q1&&k===X1&&O===Y1&&v&&A&&R&&uo(v,document.baseURI)&&uo(A,document.baseURI)&&uo(R,document.baseURI)),ut=null;gC(m);const Et={canvasFactory:new ft({ownerDocument:J,enableHWA:K}),filterFactory:new E({docId:e,ownerDocument:J}),cMapReaderFactory:yt?null:new S({baseUrl:v,isCompressed:w}),standardFontDataFactory:yt?null:new k({baseUrl:A}),wasmFactory:yt?null:new O({baseUrl:R})};p||(p=Xr.create({verbosity:m,port:us.workerPort}),t._worker=p);const Ct={docId:e,apiVersion:"5.4.296",data:a,password:c,disableAutoFetch:G,rangeChunkSize:f,length:T,docBaseUrl:b,enableXfa:nt,evaluatorOptions:{maxImageSize:M,disableFontFace:Y,ignoreErrors:D,isEvalSupported:z,isOffscreenCanvasSupported:H,isImageDecoderSupported:V,canvasMaxAreaInBytes:$,fontExtraProperties:et,useSystemFonts:lt,useWasm:st,useWorkerFetch:yt,cMapUrl:v,iccUrl:C,standardFontDataUrl:A,wasmUrl:R}},jt={ownerDocument:J,pdfBug:it,styleElement:ut,loadingParams:{disableAutoFetch:G,enableXfa:nt}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const It=p.messageHandler.sendWithPromise("GetDocRequest",Ct,a?[a.buffer]:null);let _e;if(d)_e=new l_(d,{disableRange:at,disableStream:P});else if(!a){if(!n)throw new Error("getDocument - no `url` parameter provided.");const $e=uo(n)?d_:We?w_:y_;_e=new $e({url:n,length:T,httpHeaders:o,withCredentials:l,rangeChunkSize:f,disableRange:at,disableStream:P})}return It.then($e=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Ot=new co(e,$e,p.port),qt=new k_(Ot,t,_e,jt,Et,K);t._transport=qt,Ot.send("Ready",null)})}).catch(t._capability.reject),t}class Bf{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Bf.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let zf=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,e,n=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=a}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#a)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){ee("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class T_{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Mt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class R_{#t=!1;constructor(t,e,n,a=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=a?new I1:null,this._pdfBug=a,this.commonObjs=n.commonObjs,this.objs=new Xb,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:a=0,dontFlip:o=!1}={}){return new No({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:a,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Mt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:a="display",annotationMode:o=li.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:b=!1,recordOperations:v=!1,operationsFilter:w=null}){this._stats?.time("Overall");const S=this._transport.getRenderingIntent(a,o,m,b),{renderingIntent:C,cacheKey:A}=S;this.#t=!1,d||=this._transport.getOptionalContentConfig(C);let k=this._intentStates.get(A);k||(k=Object.create(null),this._intentStates.set(A,k)),k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null);const R=!!(C&An.PRINT);k.displayReadyCapability||(k.displayReadyCapability=Promise.withResolvers(),k.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(S));const O=!!(this._pdfBug&&globalThis.StepperManager?.enabled),D=!this.recordedBBoxes&&(v||O),M=V=>{if(k.renderTasks.delete(z),D){const $=z.gfx?.dependencyTracker.take();$&&(z.stepper&&z.stepper.setOperatorBBoxes($,z.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=$))}R&&(this.#t=!0),this.#e(),V?(z.capability.reject(V),this._abortOperatorList({intentState:k,reason:V instanceof Error?V:new Error(V)})):z.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},z=new Pr({callback:M,params:{canvas:e,canvasContext:t,dependencyTracker:D?new XC(e,k.operatorList.length,O):null,viewport:n,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:k.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:w});(k.renderTasks||=new Set).add(z);const H=z.task;return Promise.all([k.displayReadyCapability.promise,d]).then(([V,$])=>{if(this.destroyed){M();return}if(this._stats?.time("Rendering"),!($.renderingIntent&C))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");z.initializeGraphics({transparency:V,optionalContentConfig:$}),z.operatorListChanged()}).catch(M),H}getOperatorList({intent:t="display",annotationMode:e=li.ENABLE,printAnnotationStorage:n=null,isEditing:a=!1}={}){function o(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(t,e,n,a,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>wo.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,a){function o(){l.read().then(function({value:d,done:f}){if(f){n(c);return}c.lang??=d.lang,Object.assign(c.styles,d.styles),c.items.push(...d.items),o()},a)}const l=e.getReader(),c={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new I1),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,a=t.length;n<a;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:a}){const{map:o,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:a},l).getReader(),f=this._intentStates.get(e);f.streamReader=d;const p=()=>{d.read().then(({value:m,done:b})=>{if(b){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),p())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const b of f.renderTasks)b.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Pu){let a=__;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new Ni(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,o]of this._intentStates)if(o===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var os,qn,Di,Os,Tu,Ns,Ps,Qe,mu,Yb,$b,ho,Vr,yu;const le=class le{constructor({name:t=null,port:e=null,verbosity:n=mC()}={}){Jn(this,Qe);Jn(this,os,Promise.withResolvers());Jn(this,qn,null);Jn(this,Di,null);Jn(this,Os,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(oe(le,Ps).has(e))throw new Error("Cannot use more than one PDFWorker per port.");oe(le,Ps).set(e,this),ti(this,Qe,Yb).call(this,e)}else ti(this,Qe,$b).call(this)}get promise(){return oe(this,os).promise}get port(){return oe(this,Di)}get messageHandler(){return oe(this,qn)}destroy(){this.destroyed=!0,oe(this,Os)?.terminate(),rn(this,Os,null),oe(le,Ps).delete(oe(this,Di)),rn(this,Di,null),oe(this,qn)?.destroy(),rn(this,qn,null)}static create(t){const e=oe(this,Ps).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new le(t)}static get workerSrc(){if(us.workerSrc)return us.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Mt(this,"_setupFakeWorkerGlobal",(async()=>oe(this,Vr,yu)?oe(this,Vr,yu):(await import(this.workerSrc)).WorkerMessageHandler)())}};os=new WeakMap,qn=new WeakMap,Di=new WeakMap,Os=new WeakMap,Tu=new WeakMap,Ns=new WeakMap,Ps=new WeakMap,Qe=new WeakSet,mu=function(){oe(this,os).resolve(),oe(this,qn).send("configure",{verbosity:this.verbosity})},Yb=function(t){rn(this,Di,t),rn(this,qn,new co("main","worker",t)),oe(this,qn).on("ready",()=>{}),ti(this,Qe,mu).call(this)},$b=function(){if(oe(le,Ns)||oe(le,Vr,yu)){ti(this,Qe,ho).call(this);return}let{workerSrc:t}=le;try{le._isSameOrigin(window.location,t)||(t=le._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new co("main","worker",e),a=()=>{o.abort(),n.destroy(),e.terminate(),this.destroyed?oe(this,os).reject(new Error("Worker was destroyed")):ti(this,Qe,ho).call(this)},o=new AbortController;e.addEventListener("error",()=>{oe(this,Os)||a()},{signal:o.signal}),n.on("test",c=>{if(o.abort(),this.destroyed||!c){a();return}rn(this,qn,n),rn(this,Di,e),rn(this,Os,e),ti(this,Qe,mu).call(this)}),n.on("ready",c=>{if(o.abort(),this.destroyed){a();return}try{l()}catch{ti(this,Qe,ho).call(this)}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{Nu("The worker has been disabled.")}ti(this,Qe,ho).call(this)},ho=function(){oe(le,Ns)||(Tt("Setting up fake worker."),rn(le,Ns,!0)),le._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){oe(this,os).reject(new Error("Worker was destroyed"));return}const e=new zC;rn(this,Di,e);const n=`fake${N0(le,Tu)._++}`,a=new co(n+"_worker",n,e);t.setup(a,e),rn(this,qn,new co(n,n+"_worker",e)),ti(this,Qe,mu).call(this)}).catch(t=>{oe(this,os).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Vr=new WeakSet,yu=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Jn(le,Vr),Jn(le,Tu,0),Jn(le,Ns,!1),Jn(le,Ps,new WeakMap),We&&(rn(le,Ns,!0),us.workerSrc||="./pdf.worker.mjs"),le._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const a=new URL(e,n);return n.origin===a.origin},le._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},le.fromPort=t=>{if(CC("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return le.create(t)};let Xr=le;class k_{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#a=null;constructor(t,e,n,a,o,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Xb,this.fontLoader=new LC({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const a=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,a),a}get annotationStorage(){return Mt(this,"annotationStorage",new Df)}getRenderingIntent(t,e=li.ENABLE,n=null,a=!1,o=!1){let l=An.DISPLAY,c=Xd;switch(t){case"any":l=An.ANY;break;case"display":break;case"print":l=An.PRINT;break;default:Tt(`getRenderingIntent - invalid intent: ${t}`)}const d=l&An.PRINT&&n instanceof Ob?n:this.annotationStorage;switch(e){case li.DISABLE:l+=An.ANNOTATIONS_DISABLE;break;case li.ENABLE:break;case li.ENABLE_FORMS:l+=An.ANNOTATIONS_FORMS;break;case li.ENABLE_STORAGE:l+=An.ANNOTATIONS_STORAGE,c=d.serializable;break;default:Tt(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(l+=An.IS_EDITING),o&&(l+=An.OPLIST);const{ids:f,hash:p}=d.modifiedIds,m=[l,c.hash,p];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:c,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),xo.cleanup(),this._networkStream?.cancelAllRequests(new Ni("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,a)=>{zt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},a.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){a.close();return}zt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{a.error(o)})},a.onCancel=o=>{this._fullReader.cancel(o),a.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:o,contentLength:l}=this._fullReader;return(!a||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{e.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:a,isRangeSupported:o,contentLength:l}}),t.on("GetRangeReader",(n,a)=>{zt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){a.close();return}a.onPull=()=>{o.read().then(function({value:l,done:c}){if(c){a.close();return}zt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{a.error(l)})},a.onCancel=l=>{o.cancel(l),a.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new T_(n,this))}),t.on("DocException",n=>{e._capability.reject(on(n))}),t.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw on(n);const a=o=>{o instanceof Error?this.#a.reject(o):this.#a.resolve({password:o})};e.onPassword(a,n.code)}catch(a){this.#a.reject(a)}return this.#a.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,a,o])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(a){case"Font":if("error"in o){const p=o.error;Tt(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const l=new Qt(o),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new OC(l,c,o.extra,o.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:f}=o;zt(f,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,m]of p.objs)if(m?.ref===f)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([n,a,o,l])=>{if(this.destroyed)return;const c=this.#e.get(a);if(!c.objs.has(n)){if(c._intentStates.size===0){l?.bitmap?.close();return}switch(o){case"Image":case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[n.type];if(!a)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Tt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#n.set(o.refStr,t);const l=new R_(e,o,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,a),a}getPageIndex(t){return Yd(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new o_(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(a=>({info:a[0],metadata:a[1]?new r_(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),xo.cleanup()}}cachedPageNumber(t){if(!Yd(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class M_{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Pr{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:a,annotationCanvasMap:o,operatorList:l,pageIndex:c,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:b=null,enableHWA:v=!1,operationsFilter:w=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=a,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=m,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new M_(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=v,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Pr.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Pr.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:a,background:o,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Ir(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:a,viewport:n,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Pr.#e.delete(this._canvas),t||=new Pu(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Pr.#e.delete(this._canvas),this.callback())))}}const Kb="5.4.296",Wb="f56dc8601";class wn{#t=null;#e=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#u=null;#l=null;static#d=null;static get _keyboardManager(){return Mt(this,"_keyboardManager",new Bo([[["Escape","mac+Escape"],wn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],wn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],wn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],wn.prototype._moveToPrevious],[["Home","mac+Home"],wn.prototype._moveToBeginning],[["End","mac+End"],wn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#r=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",wn.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#r&&(t.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#p.bind(this),{signal:e}),t.addEventListener("keydown",this.#m.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Cn,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(t.id=`${this.#r.id}_colorpicker_dropdown`);for(const[n,a]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",a),o.title=n,o.setAttribute("data-l10n-id",wn.#d[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=a,o.ariaSelected=a===this.#i,o.addEventListener("click",this.#f.bind(this,a),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#m.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Bt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#p(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#g){this.#p(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#p(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#g){this.#p(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#g){this.#p(t);return}this.#n.lastChild?.focus()}#m(t){wn._keyboardManager.exec(this,t)}#p(t){if(this.#g){this.hideDropdown();return}if(this.#a=t.detail===0,this.#u||(this.#u=new AbortController,window.addEventListener("pointerdown",this.#c.bind(this),{signal:this.#l.combinedSignal(this.#u)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#c(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#u?.abort(),this.#u=null}get#g(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#g){this.#r?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class Eo{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,Eo.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:n}=this.#e,a=this.#t=document.createElement("input");return a.type="color",a.value=n||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",Eo.#n[t]),a.addEventListener("input",()=>{this.#i.updateParams(e,a.value)},{signal:this.#i._signal}),a}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function ay(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function oo(r){return Math.max(0,Math.min(255,255*r))}class oy{static CMYK_G([t,e,n,a]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=oo(t),[t,t,t]}static G_HTML([t]){const e=ay(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(oo)}static RGB_HTML(t){return`#${t.map(ay).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,n+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,n,a]){return[oo(1-Math.min(1,t+a)),oo(1-Math.min(1,n+a)),oo(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const a=1-t,o=1-e,l=1-n,c=Math.min(a,o,l);return["CMYK",a,o,l,c]}}class D_{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),n||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ee("Abstract method `_createSVG` called.")}}class Co extends D_{_createSVG(t){return document.createElementNS(Mi,t)}}const L_=9,zs=new WeakSet,O_=new Date().getTimezoneOffset()*60*1e3;class ly{static create(t){switch(t.data.annotationType){case ve.LINK:return new If(t);case ve.TEXT:return new P_(t);case ve.WIDGET:switch(t.data.fieldType){case"Tx":return new B_(t);case"Btn":return t.data.radioButton?new Qb(t):t.data.checkBox?new I_(t):new F_(t);case"Ch":return new U_(t);case"Sig":return new z_(t)}return new js(t);case ve.POPUP:return new Wd(t);case ve.FREETEXT:return new Zb(t);case ve.LINE:return new j_(t);case ve.SQUARE:return new V_(t);case ve.CIRCLE:return new G_(t);case ve.POLYLINE:return new Jb(t);case ve.CARET:return new X_(t);case ve.INK:return new Ff(t);case ve.POLYGON:return new q_(t);case ve.HIGHLIGHT:return new t2(t);case ve.UNDERLINE:return new Y_(t);case ve.SQUIGGLY:return new $_(t);case ve.STRIKEOUT:return new K_(t);case ve.STAMP:return new e2(t);case ve.FILEATTACHMENT:return new W_(t);default:return new pe(t)}}}class pe{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return pe._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:a}=this.data;let o=-1/0,l=-1/0;if(e?.length>=8){for(let c=0;c<e.length;c+=8)e[c+1]>l?(l=e[c+1],o=e[c+2]):e[c+1]===l&&(o=Math.max(o,e[c+2]));return[o,l]}if(n?.length>=1){for(const c of n)for(let d=0,f=c.length;d<f;d+=2)c[d+1]>l?(l=c[d+1],o=c[d]):c[d+1]===l&&(o=Math.max(o,c[d]));if(o!==1/0)return[o,l]}return a?[a[2],a[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:a,pageX:o,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/n,t[1]=100*(t[1]-l)/a,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${So}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${So}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#n(e);let a=this.#i?.popup||this.popup;!a&&n?.text&&(this._createPopup(n),a=this.#i.popup),a&&(a.updateEdited(t),n?.deleted&&(a.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:a},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:c,pageY:d}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-c)/o}%`,e.top=`${100*(l-t[3]+d)/l}%`,a===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(a)}_createContainer(t){const{data:e,parent:{page:n,viewport:a}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof js)&&!(this instanceof If)&&(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof Wd){const{rotation:S}=e;return!e.hasOwnCanvas&&S!==0&&this.setRotation(S,o),o}const{width:c,height:d}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,C=e.borderStyle.verticalCornerRadius;if(S>0||C>0){const k=`calc(${S}px * var(--total-scale-factor)) / calc(${C}px * var(--total-scale-factor))`;l.borderRadius=k}else if(this instanceof Qb){const k=`calc(${c}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=k}switch(e.borderStyle.style){case Lr.SOLID:l.borderStyle="solid";break;case Lr.DASHED:l.borderStyle="dashed";break;case Lr.BEVELED:Tt("Unimplemented border style: beveled");break;case Lr.INSET:Tt("Unimplemented border style: inset");break;case Lr.UNDERLINE:l.borderBottomStyle="solid";break}const A=e.borderColor||null;A?(this.#e=!0,l.borderColor=ht.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):l.borderWidth=0}const f=ht.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:m,pageX:b,pageY:v}=a.rawDims;l.left=`${100*(f[0]-b)/p}%`,l.top=`${100*(f[1]-v)/m}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(l.width=`${100*c/p}%`,l.height=`${100*d/m}%`):this.setRotation(w,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:a}=this.parent.viewport.rawDims;let{width:o,height:l}=this;t%180!==0&&([o,l]=[l,o]),e.style.width=`${100*o/n}%`,e.style.height=`${100*l/a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,a)=>{const o=a.detail[e],l=o[0],c=o.slice(1);a.target.style[n]=oy[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:oy[`${l}_rgb`](c)})};return Mt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,a=n%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const a of Object.keys(e.detail))(t[a]||n[a])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[a,o]of Object.entries(e)){const l=n[a];if(l){const c={detail:{[a]:o},target:t};l(c),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,a,o]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,C,A,k]=t.subarray(2,6);if(a===S&&o===C&&e===A&&n===k)return}const{style:l}=this.container;let c;if(this.#e){const{borderColor:S,borderWidth:C}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const d=a-e,f=o-n,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const b=p.createElement("defs");m.append(b);const v=p.createElement("clipPath"),w=`clippath_${this.data.id}`;v.setAttribute("id",w),v.setAttribute("clipPathUnits","objectBoundingBox"),b.append(v);for(let S=2,C=t.length;S<C;S+=8){const A=t[S],k=t[S+1],R=t[S+2],O=t[S+3],D=p.createElement("rect"),M=(R-e)/d,z=(o-k)/f,H=(A-R)/d,V=(k-O)/f;D.setAttribute("x",M),D.setAttribute("y",z),D.setAttribute("width",H),D.setAttribute("height",V),v.append(D),c?.push(`<rect vector-effect="non-scaling-stroke" x="${M}" y="${z}" width="${H}" height="${V}"/>`)}this.#e&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(m),this.container.style.clipPath=`url(#${w})`}_createPopup(t=null){const{data:e}=this;let n,a;t?(n={str:t.text},a=t.date):(n=e.contentsObj,a=e.modificationDate);const o=this.#i=new Wd({data:{color:e.color,titleObj:e.titleObj,modificationDate:a,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){ee("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:o,id:l,exportValues:c}of a){if(o===-1||l===e)continue;const d=typeof c=="string"?c:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!zs.has(f)){Tt(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:f})}return n}for(const a of document.getElementsByName(t)){const{exportValue:o}=a,l=a.getAttribute("data-element-id");l!==e&&zs.has(a)&&n.push({id:l,exportValue:o,domElement:a})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class N_ extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class If extends pe{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let a=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),a=!0):t.attachment?(this.#e(n,t.attachment,t.overlaidText,t.attachmentDest),a=!0):t.setOCGState?(this.#i(n,t.setOCGState,t.overlaidText),a=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),a=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(n,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,n=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),n&&(t.title=n)}_bindNamedAction(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#t()}#e(t,e,n="",a=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,a),!1),this.#t()}#i(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(e.actions)){const o=n.get(a);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:a}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Tt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:a,refs:o,include:l}=e,c=[];if(a.length!==0||o.length!==0){const p=new Set(o);for(const m of a){const b=this._fieldObjects[m]||[];for(const{id:v}of b)p.add(v)}for(const m of Object.values(this._fieldObjects))for(const b of m)p.has(b.id)===l&&c.push(b)}else for(const p of Object.values(this._fieldObjects))c.push(...p);const d=this.annotationStorage,f=[];for(const p of c){const{id:m}=p;switch(f.push(m),p.type){case"text":{const v=p.defaultValue||"";d.setValue(m,{value:v});break}case"checkbox":case"radiobutton":{const v=p.defaultValue===p.exportValues;d.setValue(m,{value:v});break}case"combobox":case"listbox":{const v=p.defaultValue||"";d.setValue(m,{value:v});break}default:continue}const b=document.querySelector(`[data-element-id="${m}"]`);if(b){if(!zs.has(b)){Tt(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class P_ extends pe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class js extends pe{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Be.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,a,o){n.includes("mouse")?t.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(l)}})})}_setEventListeners(t,e,n,a){for(const[o,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,l,a),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ht.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||L_,o=t.style;let l;const c=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(f/(wd*a))||1,m=f/p;l=Math.min(a,d(m/wd))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(a,d(f/wd))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=ht.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class B_ extends js{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,a){const o=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),o.setValue(l.id,{[a]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let o=a.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),zs.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:m}=this.data,b=!!p&&this.enableScripting;f&&(n.title=f),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",w=>{t.setValue(e,{value:w.target.value}),this.setPropertyOnSiblings(n,"value",w.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",w=>{const S=this.data.defaultFieldValue??"";n.value=d.userValue=S,d.formattedValue=null});let v=w=>{const{formattedValue:S}=d;S!=null&&(w.target.value=S),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",S=>{if(d.focused)return;const{target:C}=S;if(b&&(C.type=p,m&&(C.step=m)),d.userValue){const A=d.userValue;if(b)if(p==="time"){const k=new Date(A),R=[k.getHours(),k.getMinutes(),k.getSeconds()];C.value=R.map(O=>O.toString().padStart(2,"0")).join(":")}else C.value=new Date(A-O_).toISOString().split(p==="date"?"T":".",1)[0];else C.value=A}d.lastCommittedValue=C.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const C={value(A){d.userValue=A.detail.value??"",b||t.setValue(e,{value:d.userValue.toString()}),A.target.value=d.userValue},formattedValue(A){const{formattedValue:k}=A.detail;d.formattedValue=k,k!=null&&A.target!==document.activeElement&&(A.target.value=k);const R={formattedValue:k};b&&(R.value=k),t.setValue(e,R)},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{const{charLimit:k}=A.detail,{target:R}=A;if(k===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",k);let O=d.userValue;!O||O.length<=k||(O=O.slice(0,k),R.value=d.userValue=O,t.setValue(e,{value:O}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:O,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(C,S)}),n.addEventListener("keydown",S=>{d.commitKey=1;let C=-1;if(S.key==="Escape"?C=0:S.key==="Enter"&&!this.data.multiLine?C=2:S.key==="Tab"&&(d.commitKey=3),C===-1)return;const{value:A}=S.target;d.lastCommittedValue!==A&&(d.lastCommittedValue=A,d.userValue=A,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:C,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const w=v;v=null,n.addEventListener("blur",S=>{if(!d.focused||!S.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:C}=S;let{value:A}=C;if(b){if(A&&p==="time"){const k=A.split(":").map(R=>parseInt(R,10));A=new Date(2e3,0,1,k[0],k[1],k[2]||0).valueOf(),C.step=""}else A.includes("T")||(A=`${A}T00:00`),A=new Date(A).valueOf();C.type="text"}d.userValue=A,d.lastCommittedValue!==A&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:d.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}),w(S)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",S=>{d.lastCommittedValue=null;const{data:C,target:A}=S,{value:k,selectionStart:R,selectionEnd:O}=A;let D=R,M=O;switch(S.inputType){case"deleteWordBackward":{const z=k.substring(0,R).match(/\w*[^\w]*$/);z&&(D-=z[0].length);break}case"deleteWordForward":{const z=k.substring(R).match(/^[^\w]*\w*/);z&&(M+=z[0].length);break}case"deleteContentBackward":R===O&&(D-=1);break;case"deleteContentForward":R===O&&(M+=1);break}S.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:k,change:C||"",willCommit:!1,selStart:D,selEnd:M}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class z_ extends js{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class I_ extends js{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let a=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(n,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return zs.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const f of this._getElementsByName(c,n)){const p=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const c=e.defaultFieldValue||"Off";l.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const c={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Qb extends js{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let a=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(n,{value:a})),a)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const o=document.createElement("input");if(zs.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const f of this._getElementsByName(c,n))t.setValue(f.id,{value:!1});t.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const c=e.defaultFieldValue;l.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;o.addEventListener("updatefromsandbox",c=>{const d={value:f=>{const p=l===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const b=p&&m.id===n;m.domElement&&(m.domElement.checked=b),t.setValue(m.id,{value:b})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class F_ extends If{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class U_ extends js{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");zs.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const b of a.options)b.selected=b.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,n.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),o=!1),a.append(m)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),a.prepend(p),l=()=>{p.remove(),a.removeEventListener("input",l),l=null},a.addEventListener("input",l)}const c=p=>{const m=p?"value":"textContent",{options:b,multiple:v}=a;return v?Array.prototype.filter.call(b,w=>w.selected).map(w=>w[m]):b.selectedIndex===-1?null:b[b.selectedIndex][m]};let d=c(!1);const f=p=>{const m=p.target.options;return Array.prototype.map.call(m,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",p=>{const m={value(b){l?.();const v=b.detail.value,w=new Set(Array.isArray(v)?v:[v]);for(const S of a.options)S.selected=w.has(S.value);t.setValue(e,{value:c(!0)}),d=c(!1)},multipleSelection(b){a.multiple=!0},remove(b){const v=a.options,w=b.detail.remove;v[w].selected=!1,a.remove(w),v.length>0&&Array.prototype.findIndex.call(v,C=>C.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:c(!0),items:f(b)}),d=c(!1)},clear(b){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),d=c(!1)},insert(b){const{index:v,displayValue:w,exportValue:S}=b.detail.insert,C=a.children[v],A=document.createElement("option");A.textContent=w,A.value=S,C?C.before(A):a.append(A),t.setValue(e,{value:c(!0),items:f(b)}),d=c(!1)},items(b){const{items:v}=b.detail;for(;a.length!==0;)a.remove(0);for(const w of v){const{displayValue:S,exportValue:C}=w,A=document.createElement("option");A.textContent=S,A.value=C,a.append(A)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:c(!0),items:f(b)}),d=c(!1)},indices(b){const v=new Set(b.detail.indices);for(const w of b.target.options)w.selected=v.has(w.index);t.setValue(e,{value:c(!0)}),d=c(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(m,p)}),a.addEventListener("input",p=>{const m=c(!0),b=c(!1);t.setValue(e,{value:m}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:b,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):a.addEventListener("input",function(p){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Wd extends pe{constructor(t){const{data:e,elements:n,parent:a}=t,o=!!a._commentManager;if(super(t,{isRenderable:!o&&pe._hasPopupData(e)}),this.elements=n,o&&pe._hasPopupData(e)){const l=this.popup=this.#t();for(const c of n)c.popup=l}else this.popup=null}#t(){return new H_({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),n=[];for(const a of this.elements)a.popup=e,a.container.ariaHasPopup="dialog",n.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(a=>`${_f}${a}`).join(",")),this.container}}class H_{#t=null;#e=this.#G.bind(this);#i=this.#F.bind(this);#n=this.#O.bind(this);#a=this.#A.bind(this);#s=null;#r=null;#o=null;#u=null;#l=null;#d=null;#h=null;#f=!1;#m=null;#p=null;#c=null;#g=null;#y=null;#v=null;#b=null;#C=null;#x=null;#S=null;#T=!1;#w=null;#E=null;constructor({container:t,color:e,elements:n,titleObj:a,modificationDate:o,contentsObj:l,richText:c,parent:d,rect:f,parentRect:p,open:m,commentManager:b=null}){this.#r=t,this.#x=a,this.#o=l,this.#C=c,this.#d=d,this.#s=e,this.#b=f,this.#h=p,this.#l=n,this.#t=b,this.#w=n[0],this.#u=Eu.toDateObject(o),this.trigger=n.flatMap(v=>v.getElementsToTriggerPopup()),b?this.renderCommentButton():(this.#M(),this.#r.hidden=!0,m&&this.#A())}#M(){if(this.#p)return;this.#p=new AbortController;const{signal:t}=this.#p;for(const e of this.trigger)e.addEventListener("click",this.#a,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#R(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#g||(this.#y||this.#R(),!this.#y))return;const{signal:t}=this.#p=new AbortController,e=!!this.#w.extraPopupElement,n=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},a=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#g=this.#w.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",a,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#g=document.createElement("button");l.className="annotationCommentButton";const c=this.#w.container;l.style.zIndex=c.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#z(),this.#k(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",a,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),c.after(l)}}#k(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:n}=this.#g;n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`}#z(){this.#w.extraPopupElement||(this.renderCommentButton(),this.#g.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#w.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#g?.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:a,modificationDate:o}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:a,modificationDate:o}}get elementBeforePopup(){return this.#g}get comment(){return this.#E||=this.#w.commentText,this.#E}set comment(t){t!==this.comment&&(this.#w.commentText=this.#E=t)}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#g&&(this.#g.classList.toggle("selected",t),this.#g.ariaExpanded=e)}setSelectedCommentButton(t){this.#g.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:t,y:e,height:n}=this.#g.getBoundingClientRect(),{x:a,y:o,width:l,height:c}=this.#w.layer.getBoundingClientRect();return[(t-a)/l,(e+n-o)/c]}set commentPopupPosition(t){this.#v=t}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#g.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=this.#v||this.commentButtonPosition.map(f=>f/100),a=this.parentBoundingClientRect,{x:o,y:l,width:c,height:d}=a;this.#t.showDialog(null,this,o+e*c,l+n*d,{...t,parentDimensions:a})}render(){if(this.#m)return;const t=this.#m=document.createElement("div");if(t.className="popup",this.#s){const n=t.style.outlineColor=ht.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#x?.str){const n=document.createElement("span");n.className="title",e.append(n),{dir:n.dir,str:n.textContent}=this.#x}if(t.append(e),this.#u){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#u.valueOf()})),n.dateTime=this.#u.toISOString(),e.append(n)}Rf({html:this.#L||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#r.append(t)}get#L(){const t=this.#C,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#C.html||null}get#N(){return this.#L?.attributes?.style?.fontSize||0}get#I(){return this.#L?.attributes?.style?.color||null}#P(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:this.#I,fontSize:this.#N?`calc(${this.#N}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:a});return n}#G(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#A()}updateEdited({rect:t,popup:e,deleted:n}){if(this.#t){n?(this.remove(),this.#E=null):e&&(e.deleted?this.remove():(this.#z(),this.#E=e.text)),t&&(this.#y=null,this.#R(),this.#k());return}if(n||e?.deleted){this.remove();return}this.#M(),this.#S||={contentsObj:this.#o,richText:this.#C},t&&(this.#c=null),e&&e.text&&(this.#C=this.#P(e.text),this.#u=Eu.toDateObject(e.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#S&&({contentsObj:this.#o,richText:this.#C}=this.#S,this.#S=null,this.#m?.remove(),this.#m=null,this.#c=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#m?.remove(),this.#m=null,this.#T=!1,this.#f=!1,this.#g?.remove(),this.#g=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#_(){if(this.#c!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:a,pageY:o}}}=this.#d;let l=!!this.#h,c=l?this.#h:this.#b;for(const w of this.#l)if(!c||ht.intersect(w.data.rect,c)!==null){c=w.data.rect,l=!0;break}const d=ht.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),p=l?c[2]-c[0]+5:0,m=d[0]+p,b=d[1];this.#c=[100*(m-a)/e,100*(b-o)/n];const{style:v}=this.#r;v.left=`${this.#c[0]}%`,v.top=`${this.#c[1]}%`}#A(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#O(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#e)):(this.#F(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#e))}#O(){this.#m||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#_(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#F(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#T=this.isVisible,this.#T&&(this.#r.hidden=!0)}maybeShow(){this.#t||(this.#M(),this.#T&&(this.#m||this.#O(),this.#T=!1,this.#r.hidden=!1))}get isVisible(){return this.#t?!1:this.#r.hidden===!1}}class Zb extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=_t.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class j_ extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,a=this.svgFactory.create(e,n,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class V_ extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,a=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",e-o),l.setAttribute("height",n-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class G_ extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,a=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",n/2),l.setAttribute("rx",e/2-o/2),l.setAttribute("ry",n/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Jb extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:a},width:o,height:l}=this;if(!e)return this.container;const c=this.svgFactory.create(o,l,!0);let d=[];for(let p=0,m=e.length;p<m;p+=2){const b=e[p]-t[0],v=t[3]-e[p+1];d.push(`${b},${v}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",n.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),c.append(f),this.container.append(c),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class q_ extends Jb{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class X_ extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ff extends pe{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?_t.HIGHLIGHT:_t.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:a,popupRef:o}}=this,{transform:l,width:c,height:d}=this.#i(e,t),f=this.svgFactory.create(c,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",a.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let m=0,b=n.length;m<b;m++){const v=this.svgFactory.createElement(this.svgElementName);this.#e.push(v),v.setAttribute("points",n[m].join(",")),p.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:a}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),n)for(let l=0,c=this.#e.length;l<c;l++)this.#e[l].setAttribute("points",n[l].join(","));if(a){const{transform:l,width:c,height:d}=this.#i(this.data.rotation,a);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class t2 extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=_t.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class Y_ extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class $_ extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class K_ extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class e2 extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=_t.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class W_ extends pe{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:a}=Be.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(a?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Uf=class n2{#t=null;#e=null;#i=null;#n=new Map;#a=null;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:a,page:o,viewport:l,structTreeLayer:c,commentManager:d,linkService:f,annotationStorage:p}){this.div=t,this.#t=e,this.#e=n,this.#a=c||null,this.#s=f||null,this.#i=p||new Df,this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async#r(t,e,n){const a=t.firstChild||t,o=a.id=`${_f}${e}`,l=await this.#a?.getAriaAttributes(o);if(l)for(const[c,d]of l)a.setAttribute(c,d);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,a,!1))}async render(t){const{annotations:e}=t,n=this.div;cs(n,this.viewport);const a=new Map,o={data:null,layer:n,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Co,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const c=l.annotationType===ve.POPUP;if(c){const p=a.get(l.id);if(!p)continue;o.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const d=ly.create(o);if(!d.isRenderable)continue;if(!c&&l.popupRef){const p=a.get(l.popupRef);p?p.push(d):a.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),await this.#r(f,l.id,o.elements),d.extraPopupElement?.popup?.renderCommentButton(),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new Co,parent:this};for(const n of t){n.borderStyle||=n2._defaultBorderStyle,e.data=n;const a=ly.create(e);if(!a.isRenderable)continue;const o=a.render();await this.#r(o,n.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,cs(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;n.className="annotationContent";const{firstChild:o}=a;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):a.append(n);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,a.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:n,rotation:a}=t,o=new N_({data:{id:n,rect:t.getPDFRect(),rotation:a},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i}),l=o.render();return e.append(l),this.#t?.moveElementInDOM(e,l,l,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return Mt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Lr.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const uu=/\r\n?|\n/g;class Ne extends bt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Ne.prototype,e=o=>o.isEmpty(),n=Pi.TRANSLATE_SMALL,a=Pi.TRANSLATE_BIG;return Mt(this,"_keyboardManager",new Bo([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:e}]]))}static _type="freetext";static _editorType=_t.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Ne._defaultColor||bt._defaultLineColor,this.#n=t.fontSize||Ne._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){bt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Bt.FREETEXT_SIZE:Ne._defaultFontSize=e;break;case Bt.FREETEXT_COLOR:Ne._defaultColor=e;break}}updateParams(t,e){switch(t){case Bt.FREETEXT_SIZE:this.#a(e);break;case Bt.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[Bt.FREETEXT_SIZE,Ne._defaultFontSize],[Bt.FREETEXT_COLOR,Ne._defaultColor||bt._defaultLineColor]]}get propertiesToUpdate(){return[[Bt.FREETEXT_SIZE,this.#n],[Bt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Eo(this),[["colorPicker",this._colorPicker]]}get colorType(){return Bt.FREETEXT_COLOR}#a(t){const e=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#n)*this.parentScale),this.#n=a,this.#o()},n=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=a=>{this.color=a,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ne._internalPadding*t,-(Ne._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(Ne.#u(n)),e=n);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:a,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",a.div.append(this.div),n=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#r().trimEnd();if(t===e)return;const n=a=>{if(this.#t=a,!a){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ne._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[f,p]=this.pageDimensions,[m,b]=this.pageTranslation;let v,w;switch(this.rotation){case 0:v=t+(l[0]-m)/f,w=e+this.height-(l[1]-b)/p;break;case 90:v=t+(l[0]-m)/f,w=e-(l[1]-b)/p,[c,d]=[d,-c];break;case 180:v=t-this.width+(l[0]-m)/f,w=e-(l[1]-b)/p,[c,d]=[-c,-d];break;case 270:v=t+(l[0]-m-this.height*p)/f,w=e+(l[1]-b-this.width*f)/p,[c,d]=[-d,c];break}this.setAt(v*a,w*o,c,d)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#u(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(uu,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const a=Ne.#h(e.getData("text")||"").replaceAll(uu,`
`);if(!a)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!a.includes(`
`)){l.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:d}=l,f=[],p=[];if(c.nodeType===Node.TEXT_NODE){const v=c.parentElement;if(p.push(c.nodeValue.slice(d).replaceAll(uu,"")),v!==this.editorDiv){let w=f;for(const S of this.editorDiv.childNodes){if(S===v){w=p;continue}w.push(Ne.#u(S))}}f.push(c.nodeValue.slice(0,d).replaceAll(uu,""))}else if(c===this.editorDiv){let v=f,w=0;for(const S of this.editorDiv.childNodes)w++===d&&(v=p),v.push(Ne.#u(S))}this.#t=`${f.join(`
`)}${a}${p.join(`
`)}`,this.#l();const m=new Range;let b=Math.sumPrecise(f.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const w=v.nodeValue.length;if(b<=w){m.setStart(v,b),m.setEnd(v,b);break}b-=w}o.removeAllRanges(),o.addRange(m)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Ne._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let a=null;if(t instanceof Zb){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:f,id:p,popupRef:m,richText:b,contentsObj:v,creationDate:w,modificationDate:S},textContent:C,textPosition:A,parent:{page:{pageNumber:k}}}=t;if(!C||C.length===0)return null;a=t={annotationType:_t.FREETEXT,color:Array.from(c),fontSize:l,value:C.join(`
`),position:A,pageIndex:k-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:m,comment:v?.str||null,richText:b,creationDate:w,modificationDate:S}}const o=await super.deserialize(t,e,n);return o.#n=t.fontSize,o.color=ht.makeHexColor(...t.color),o.#t=Ne.#h(t.value),o._initialData=a,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=bt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(t){const{value:e,fontSize:n,color:a,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((l,c)=>l!==a[c])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,e.replaceChildren();for(const a of this.#t.split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class ct{static PRECISION=1e-4;toSVGPath(){ee("Abstract method `toSVGPath` must be implemented.")}get box(){ee("Abstract getter `box` must be implemented.")}serialize(t,e){ee("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,a,o,l){l||=new Float32Array(t.length);for(let c=0,d=t.length;c<d;c+=2)l[c]=e+t[c]*a,l[c+1]=n+t[c+1]*o;return l}static _rescaleAndSwap(t,e,n,a,o,l){l||=new Float32Array(t.length);for(let c=0,d=t.length;c<d;c+=2)l[c]=e+t[c+1]*a,l[c+1]=n+t[c]*o;return l}static _translate(t,e,n,a){a||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)a[o]=e+t[o],a[o+1]=n+t[o+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,a,o){switch(o){case 90:return[1-e/n,t/a];case 180:return[1-t/n,1-e/a];case 270:return[e/n,1-t/a];default:return[t/n,e/a]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,a,o,l){return[(t+5*n)/6,(e+5*a)/6,(5*n+o)/6,(5*a+l)/6,(n+o)/2,(a+l)/2]}}class Ls{#t;#e=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#u;#l;#d;#h;#f=[];static#m=8;static#p=2;static#c=Ls.#m+Ls.#p;constructor({x:t,y:e},n,a,o,l,c=0){this.#t=n,this.#h=o*a,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=c,this.#l=Ls.#m*a,this.#u=Ls.#c*a,this.#d=a,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#g(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,a,o,l]=this.#t;return[(this.#r+(t[0]-e[0])/2-n)/o,(this.#o+(t[1]-e[1])/2-a)/l,(this.#r+(e[0]-t[0])/2-n)/o,(this.#o+(e[1]-t[1])/2-a)/l]}add({x:t,y:e}){this.#r=t,this.#o=e;const[n,a,o,l]=this.#t;let[c,d,f,p]=this.#s.subarray(8,12);const m=t-f,b=e-p,v=Math.hypot(m,b);if(v<this.#u)return!1;const w=v-this.#l,S=w/v,C=S*m,A=S*b;let k=c,R=d;c=f,d=p,f+=C,p+=A,this.#f?.push(t,e);const O=-A/w,D=C/w,M=O*this.#h,z=D*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+M,p+z],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-M,p-z],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([c+M,d+z],2),this.#a.push(NaN,NaN,NaN,NaN,(c+M-n)/o,(d+z-a)/l),this.#s.set([c-M,d-z],14),this.#e.push(NaN,NaN,NaN,NaN,(c-M-n)/o,(d-z-a)/l)),this.#s.set([k,R,c,d,f,p],6),!this.isEmpty()):(this.#s.set([k,R,c,d,f,p],6),Math.abs(Math.atan2(R-d,k-c)-Math.atan2(A,C))<Math.PI/2?([c,d,f,p]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+f)/2-n)/o,((d+p)/2-a)/l),[c,d,k,R]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((k+c)/2-n)/o,((R+d)/2-a)/l),!0):([k,R,c,d,f,p]=this.#s.subarray(0,6),this.#a.push(((k+5*c)/6-n)/o,((R+5*d)/6-a)/l,((5*c+f)/6-n)/o,((5*d+p)/6-a)/l,((c+f)/2-n)/o,((d+p)/2-a)/l),[f,p,c,d,k,R]=this.#s.subarray(12,18),this.#e.push(((k+5*c)/6-n)/o,((R+5*d)/6-a)/l,((5*c+f)/6-n)/o,((5*d+p)/6-a)/l,((c+f)/2-n)/o,((d+p)/2-a)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?n.push(`L${t[a+4]} ${t[a+5]}`):n.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);this.#b(n);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?n.push(`L${e[a+4]} ${e[a+5]}`):n.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return this.#v(n),n.join(" ")}#y(){const[t,e,n,a]=this.#t,[o,l,c,d]=this.#g();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/a} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/a} L${o} ${l} L${c} ${d} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/a} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/a} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#b(t){const[e,n,a,o]=this.#t,l=this.#s.subarray(4,6),c=this.#s.subarray(16,18),[d,f,p,m]=this.#g();t.push(`L${(l[0]-e)/a} ${(l[1]-n)/o} L${d} ${f} L${p} ${m} L${(c[0]-e)/a} ${(c[1]-n)/o}`)}newFreeDrawOutline(t,e,n,a,o,l){return new i2(t,e,n,a,o,l)}getOutlines(){const t=this.#a,e=this.#e,n=this.#s,[a,o,l,c]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let m=0,b=d.length-2;m<b;m+=2)d[m]=(this.#f[m]-a)/l,d[m+1]=(this.#f[m+1]-o)/c;if(d[d.length-2]=(this.#r-a)/l,d[d.length-1]=(this.#o-o)/c,isNaN(n[6])&&!this.isEmpty())return this.#C(d);const f=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let m=0;m<p;m+=2){if(isNaN(t[m])){f[m]=f[m+1]=NaN;continue}f[m]=t[m],f[m+1]=t[m+1]}p=this.#S(f,p);for(let m=e.length-6;m>=6;m-=6)for(let b=0;b<6;b+=2){if(isNaN(e[m+b])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[m+b],f[p+1]=e[m+b+1],p+=2}return this.#x(f,p),this.newFreeDrawOutline(f,d,this.#t,this.#d,this.#i,this.#n)}#C(t){const e=this.#s,[n,a,o,l]=this.#t,[c,d,f,p]=this.#g(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-n)/o,(e[3]-a)/l,NaN,NaN,NaN,NaN,(e[4]-n)/o,(e[5]-a)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-n)/o,(e[17]-a)/l,NaN,NaN,NaN,NaN,(e[14]-n)/o,(e[15]-a)/l],0),this.newFreeDrawOutline(m,t,this.#t,this.#d,this.#i,this.#n)}#x(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#S(t,e){const n=this.#s.subarray(4,6),a=this.#s.subarray(16,18),[o,l,c,d]=this.#t,[f,p,m,b]=this.#g();return t.set([NaN,NaN,NaN,NaN,(n[0]-o)/c,(n[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,m,b,NaN,NaN,NaN,NaN,(a[0]-o)/c,(a[1]-l)/d],e),e+=24}}class i2 extends ct{#t;#e=new Float32Array(4);#i;#n;#a;#s;#r;constructor(t,e,n,a,o,l){super(),this.#r=t,this.#a=e,this.#t=n,this.#s=a,this.#i=o,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[c,d,f,p]=this.#e;for(let m=0,b=t.length;m<b;m+=2)t[m]=(t[m]-c)/f,t[m+1]=(t[m+1]-d)/p;for(let m=0,b=e.length;m<b;m+=2)e[m]=(e[m]-c)/f,e[m+1]=(e[m+1]-d)/p}toSVGPath(){const t=[`M${this.#r[4]} ${this.#r[5]}`];for(let e=6,n=this.#r.length;e<n;e+=6){if(isNaN(this.#r[e])){t.push(`L${this.#r[e+4]} ${this.#r[e+5]}`);continue}t.push(`C${this.#r[e]} ${this.#r[e+1]} ${this.#r[e+2]} ${this.#r[e+3]} ${this.#r[e+4]} ${this.#r[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,a],o){const l=n-t,c=a-e;let d,f;switch(o){case 0:d=ct._rescale(this.#r,t,a,l,-c),f=ct._rescale(this.#a,t,a,l,-c);break;case 90:d=ct._rescaleAndSwap(this.#r,t,e,l,c),f=ct._rescaleAndSwap(this.#a,t,e,l,c);break;case 180:d=ct._rescale(this.#r,n,e,-l,c),f=ct._rescale(this.#a,n,e,-l,c);break;case 270:d=ct._rescaleAndSwap(this.#r,n,a,-l,-c),f=ct._rescaleAndSwap(this.#a,n,a,-l,-c);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#r;let n=e[4],a=e[5];const o=[n,a,n,a];let l=n,c=a,d=n,f=a;const p=t?Math.max:Math.min,m=new Float32Array(4);for(let v=6,w=e.length;v<w;v+=6){const S=e[v+4],C=e[v+5];isNaN(e[v])?(ht.pointBoundingBox(S,C,o),c>C?(l=S,c=C):c===C&&(l=p(l,S)),f<C?(d=S,f=C):f===C&&(d=p(d,S))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,ht.bezierBoundingBox(n,a,...e.slice(v,v+6),m),ht.rectBoundingBox(m[0],m[1],m[2],m[3],o),c>m[1]?(l=m[0],c=m[1]):c===m[1]&&(l=p(l,m[0])),f<m[3]?(d=m[2],f=m[3]):f===m[3]&&(d=p(d,m[2]))),n=S,a=C}const b=this.#e;b[0]=o[0]-this.#i,b[1]=o[1]-this.#i,b[2]=o[2]-o[0]+2*this.#i,b[3]=o[3]-o[1]+2*this.#i,this.firstPoint=[l,c],this.lastPoint=[d,f]}get box(){return this.#e}newOutliner(t,e,n,a,o,l=0){return new Ls(t,e,n,a,o,l)}getNewOutline(t,e){const[n,a,o,l]=this.#e,[c,d,f,p]=this.#t,m=o*f,b=l*p,v=n*f+c,w=a*p+d,S=this.newOutliner({x:this.#a[0]*m+v,y:this.#a[1]*b+w},this.#t,this.#s,t,this.#n,e??this.#i);for(let C=2;C<this.#a.length;C+=2)S.add({x:this.#a[C]*m+v,y:this.#a[C+1]*b+w});return S.getOutlines()}}class Qd{#t;#e;#i;#n=[];#a=[];constructor(t,e=0,n=0,a=!0){const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:S,y:C,width:A,height:k}of t){const R=Math.floor((S-e)/l)*l,O=Math.ceil((S+A+e)/l)*l,D=Math.floor((C-e)/l)*l,M=Math.ceil((C+k+e)/l)*l,z=[R,D,M,!0],H=[O,D,M,!1];this.#n.push(z,H),ht.rectBoundingBox(R,D,O,M,o)}const c=o[2]-o[0]+2*n,d=o[3]-o[1]+2*n,f=o[0]-n,p=o[1]-n;let m=a?-1/0:1/0,b=1/0;const v=this.#n.at(a?-1:-2),w=[v[0],v[2]];for(const S of this.#n){const[C,A,k,R]=S;!R&&a?A<b?(b=A,m=C):A===b&&(m=Math.max(m,C)):R&&!a&&(A<b?(b=A,m=C):A===b&&(m=Math.min(m,C))),S[0]=(C-f)/c,S[1]=(A-p)/d,S[2]=(k-p)/d}this.#t=new Float32Array([f,p,c,d]),this.#e=[m,b],this.#i=w}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#u(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const l of t){const[c,d,f]=l;e.push([c,d,l],[c,f,l])}e.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=e.length;l<c;l+=2){const d=e[l][2],f=e[l+1][2];d.push(f),f.push(d),n.add(d),n.add(f)}const a=[];let o;for(;n.size>0;){const l=n.values().next().value;let[c,d,f,p,m]=l;n.delete(l);let b=c,v=d;for(o=[c,f],a.push(o);;){let w;if(n.has(p))w=p;else if(n.has(m))w=m;else break;n.delete(w),[c,d,f,p,m]=w,b!==c&&(o.push(b,v,c,v===d?d:f),b=c),v=v===d?f:d}o.push(b,v)}return new Q_(a,this.#t,this.#e,this.#i)}#r(t){const e=this.#a;let n=0,a=e.length-1;for(;n<=a;){const o=n+a>>1,l=e[o][0];if(l===t)return o;l<t?n=o+1:a=o-1}return a+1}#o([,t,e]){const n=this.#r(t);this.#a.splice(n,0,[t,e])}#u([,t,e]){const n=this.#r(t);for(let a=n;a<this.#a.length;a++){const[o,l]=this.#a[a];if(o!==t)break;if(o===t&&l===e){this.#a.splice(a,1);return}}for(let a=n-1;a>=0;a--){const[o,l]=this.#a[a];if(o!==t)break;if(o===t&&l===e){this.#a.splice(a,1);return}}}#l(t){const[e,n,a]=t,o=[[e,n,a]],l=this.#r(a);for(let c=0;c<l;c++){const[d,f]=this.#a[c];for(let p=0,m=o.length;p<m;p++){const[,b,v]=o[p];if(!(f<=b||v<=d)){if(b>=d){if(v>f)o[p][1]=f;else{if(m===1)return[];o.splice(p,1),p--,m--}continue}o[p][2]=d,v>f&&o.push([e,f,v])}}}return o}}class Q_ extends ct{#t;#e;constructor(t,e,n,a){super(),this.#e=t,this.#t=e,this.firstPoint=n,this.lastPoint=a}toSVGPath(){const t=[];for(const e of this.#e){let[n,a]=e;t.push(`M${n} ${a}`);for(let o=2;o<e.length;o+=2){const l=e[o],c=e[o+1];l===n?(t.push(`V${c}`),a=c):c===a&&(t.push(`H${l}`),n=l)}t.push("Z")}return t.join(" ")}serialize([t,e,n,a],o){const l=[],c=n-t,d=a-e;for(const f of this.#e){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=t+f[m]*c,p[m+1]=a-f[m+1]*d;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Zd extends Ls{newFreeDrawOutline(t,e,n,a,o,l){return new Z_(t,e,n,a,o,l)}}class Z_ extends i2{newOutliner(t,e,n,a,o,l=0){return new Zd(t,e,n,a,o,l)}}class Se extends bt{#t=null;#e=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#u=null;#l=null;#d=null;#h=!1;#f=null;#m=null;#p=null;#c="";#g;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=_t.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Se.prototype;return Mt(this,"_keyboardManager",new Bo([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Se._defaultColor,this.#g=t.thickness||Se._defaultThickness,this.opacity=t.opacity||Se._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#c=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#b(t),this.#w()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#r=t.focusNode,this.#o=t.focusOffset,this.#v(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#g,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new Qd(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new Qd(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:n}=this.#l;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:a}=this.#s;this.#m=[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const a=1.5;if(this.#s=t.getNewOutline(this.#g/2+a,.0025),e>=0)this.#d=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:Se.#E(this.#l.box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:Se.#E(this.#s.box,m),path:{d:this.#s.toSVGPath()}})}const[o,l,c,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=d;break;case 90:{const[m,b]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*b/m,this.height=d*m/b;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=d;break;case 270:{const[m,b]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*b/m,this.height=d*m/b;break}}const{firstPoint:f}=t;this.#f=[(f[0]-o)/c,(f[1]-l)/d];const{lastPoint:p}=this.#s;this.#m=[(p[0]-o)/c,(p[1]-l)/d]}static initialize(t,e){bt.initialize(t,e),Se._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Bt.HIGHLIGHT_COLOR:Se._defaultColor=e;break;case Bt.HIGHLIGHT_THICKNESS:Se._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case Bt.HIGHLIGHT_COLOR:this.#C(e);break;case Bt.HIGHLIGHT_THICKNESS:this.#x(e);break}}static get defaultPropertiesToUpdate(){return[[Bt.HIGHLIGHT_COLOR,Se._defaultColor],[Bt.HIGHLIGHT_THICKNESS,Se._defaultThickness]]}get propertiesToUpdate(){return[[Bt.HIGHLIGHT_COLOR,this.color||Se._defaultColor],[Bt.HIGHLIGHT_THICKNESS,this.#g||Se._defaultThickness],[Bt.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#C(t){const e=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},n=this.color,a=this.opacity;this.addCommands({cmd:e.bind(this,t,Se._defaultOpacity),undo:e.bind(this,n,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#x(t){const e=this.#g,n=a=>{this.#g=a,this.#S(a)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new wn({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#k())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#k())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#T():t&&(this.#w(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#S(t){this.#h&&(this.#b({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#T(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#w(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#u&&(this.#u.style.clipPath=this.#n))}static#E([t,e,n,a],o){switch(o){case 90:return[1-e-a,t,a,n];case 180:return[1-t-n,1-e-a,n,a];case 270:return[e,1-t-n,a,n]}return[t,e,n,a]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#h?(t=(t-this.rotation+360)%360,n=Se.#E(this.#l.box,t)):n=Se.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:Se.#E(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#c&&(t.setAttribute("aria-label",this.#c),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#M.bind(this),{signal:this._uiManager._signal});const e=this.#u=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),Db(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#M(t){Se._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#R(!0);break;case 1:case 3:this.#R(!1);break}}#R(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#r,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#h||this.#R(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#k(){return this.#h?this.rotation:0}#z(){if(this.#h)return null;const[t,e]=this.pageDimensions,[n,a]=this.pageTranslation,o=this.#i,l=new Float32Array(o.length*8);let c=0;for(const{x:d,y:f,width:p,height:m}of o){const b=d*t+n,v=(1-f)*e+a;l[c]=l[c+4]=b,l[c+1]=l[c+3]=v,l[c+2]=l[c+6]=b+p*t,l[c+5]=l[c+7]=v-m*e,c+=8}return l}#L(t){return this.#l.serialize(t,this.#k())}static startHighlighting(t,e,{target:n,x:a,y:o}){const{x:l,y:c,width:d,height:f}=n.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),b=v=>{p.abort(),this.#I(t,v)};window.addEventListener("blur",b,{signal:m}),window.addEventListener("pointerup",b,{signal:m}),window.addEventListener("pointerdown",de,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Cn,{signal:m}),n.addEventListener("pointermove",this.#N.bind(this,t),{signal:m}),this._freeHighlight=new Zd({x:a,y:o},[l,c,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#I(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let a=null;if(t instanceof t2){const{data:{quadPoints:w,rect:S,rotation:C,id:A,color:k,opacity:R,popupRef:O,richText:D,contentsObj:M,creationDate:z,modificationDate:H},parent:{page:{pageNumber:V}}}=t;a=t={annotationType:_t.HIGHLIGHT,color:Array.from(k),opacity:R,quadPoints:w,boxes:null,pageIndex:V-1,rect:S.slice(0),rotation:C,annotationElementId:A,id:A,deleted:!1,popupRef:O,richText:D,comment:M?.str||null,creationDate:z,modificationDate:H}}else if(t instanceof Ff){const{data:{inkLists:w,rect:S,rotation:C,id:A,color:k,borderStyle:{rawWidth:R},popupRef:O,richText:D,contentsObj:M,creationDate:z,modificationDate:H},parent:{page:{pageNumber:V}}}=t;a=t={annotationType:_t.HIGHLIGHT,color:Array.from(k),thickness:R,inkLists:w,boxes:null,pageIndex:V-1,rect:S.slice(0),rotation:C,annotationElementId:A,id:A,deleted:!1,popupRef:O,richText:D,comment:M?.str||null,creationDate:z,modificationDate:H}}const{color:o,quadPoints:l,inkLists:c,opacity:d}=t,f=await super.deserialize(t,e,n);f.color=ht.makeHexColor(...o),f.opacity=d||1,c&&(f.#g=t.thickness),f._initialData=a,t.comment&&f.setCommentData(t);const[p,m]=f.pageDimensions,[b,v]=f.pageTranslation;if(l){const w=f.#i=[];for(let S=0;S<l.length;S+=8)w.push({x:(l[S]-b)/p,y:1-(l[S+1]-v)/m,width:(l[S+2]-l[S])/p,height:(l[S+1]-l[S+5])/m});f.#v(),f.#w(),f.rotate(f.rotation)}else if(c){f.#h=!0;const w=c[0],S={x:w[0]-b,y:m-(w[1]-v)},C=new Zd(S,[0,0,p,m],1,f.#g/2,!0,.001);for(let R=0,O=w.length;R<O;R+=2)S.x=w[R]-b,S.y=m-(w[R+1]-v),C.add(S);const{id:A,clipPathId:k}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:C.toSVGPath()}},!0,!0);f.#b({highlightOutlines:C.getOutlines(),highlightId:A,clipPathId:k}),f.#w(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=bt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:this.#g,quadPoints:this.#z(),outlines:this.#L(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#P(n)?null:(n.id=this.annotationElementId,n)}#P(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((n,a)=>n!==e[a])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class s2{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){ee("Not implemented")}}class At extends bt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static#s=NaN;static#r=null;static#o=null;static#u=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#c(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(At._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[a,o]of Object.entries(e))n.has(a)?Object.assign(t[a],o):t[a]=o;return t}static getDefaultDrawingOptions(t){ee("Not implemented")}static get typesMap(){ee("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(At.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,a]of this.typesMap)t.push([n,e[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,a]of this.constructor.typesMap)t.push([n,e[a]]);return t}_updateProperty(t,e,n){const a=this._drawingOptions,o=a[e],l=c=>{a.updateProperty(e,c);const d=this.#t.updateProperty(e,c);d&&this.#c(d),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,At._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,At._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,At._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#c(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#h()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#m([t,e,n,a]){const{parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[e,1-t,n*(l/o),a*(o/l)];case 180:return[1-t,1-e,n,a];case 270:return[1-e,t,n*(l/o),a*(o/l)];default:return[t,e,n,a]}}#p(){const{x:t,y:e,width:n,height:a,parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[1-e,t,n*(o/l),a*(l/o)];case 180:return[1-t,1-e,n,a];case 270:return[e,1-t,n*(o/l),a*(l/o)];default:return[t,e,n,a]}}#c(t){[this.x,this.y,this.width,this.height]=this.#m(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#g(){const{x:t,y:e,width:n,height:a,rotation:o,parentRotation:l,parentDimensions:[c,d]}=this;switch((o*4+l)/90){case 1:return[1-e-a,t,a,n];case 2:return[1-t-n,1-e-a,n,a];case 3:return[e,1-t-n,a,n];case 4:return[t,e-n*(c/d),a*(d/c),n*(c/d)];case 5:return[1-e,t,n*(c/d),a*(d/c)];case 6:return[1-t-a*(d/c),1-e,a*(d/c),n*(c/d)];case 7:return[e-n*(c/d),1-t-a*(d/c),n*(c/d),a*(d/c)];case 8:return[t-n,e-a,n,a];case 9:return[1-e,t-n,a,n];case 10:return[1-t,1-e,n,a];case 11:return[e-a,1-t,a,n];case 12:return[t-a*(d/c),e,a*(d/c),n*(c/d)];case 13:return[1-e-n*(c/d),t-a*(d/c),n*(c/d),a*(d/c)];case 14:return[1-t,1-e-n*(c/d),a*(d/c),n*(c/d)];case 15:return[e,1-t,n*(c/d),a*(d/c)];default:return[t,e,n,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,At._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#c(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const a=document.createElement("div");return n.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,a,o){ee("Not implemented")}static startDrawing(t,e,n,a){const{target:o,offsetX:l,offsetY:c,pointerId:d,pointerType:f}=a;if(At.#r&&At.#r!==f)return;const{viewport:{rotation:p}}=t,{width:m,height:b}=o.getBoundingClientRect(),v=At.#n=new AbortController,w=t.combinedSignal(v);if(At.#s||=d,At.#r??=f,window.addEventListener("pointerup",S=>{At.#s===S.pointerId?this._endDraw(S):At.#o?.delete(S.pointerId)},{signal:w}),window.addEventListener("pointercancel",S=>{At.#s===S.pointerId?this._currentParent.endDrawingSession():At.#o?.delete(S.pointerId)},{signal:w}),window.addEventListener("pointerdown",S=>{At.#r===S.pointerType&&((At.#o||=new Set).add(S.pointerId),At.#i.isCancellable()&&(At.#i.removeLastElement(),At.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",Cn,{signal:w}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),o.addEventListener("touchmove",S=>{S.timeStamp===At.#u&&de(S)},{signal:w}),t.toggleDrawing(),e._editorUndoBar?.hide(),At.#i){t.drawLayer.updateProperties(this._currentDrawId,At.#i.startNew(l,c,m,b,p));return}e.updateUIForDefaultProperties(this),At.#i=this.createDrawerInstance(l,c,m,b,p),At.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(At.#a.toSVGProperties(),At.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(At.#u=-1,!At.#i)return;const{offsetX:e,offsetY:n,pointerId:a}=t;if(At.#s===a){if(At.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,At.#i.add(e,n)),At.#u=t.timeStamp,de(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,At.#i=null,At.#a=null,At.#r=null,At.#u=NaN),At.#n&&(At.#n.abort(),At.#n=null,At.#s=NaN,At.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,At.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=At.#i,a=this._currentDrawId,o=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(a,n.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(a,n.removeLastElement())},mustExec:!1,type:Bt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Bt.DRAW_STEP),!At.#i.isEmpty()){const{pageDimensions:[n,a],scale:o}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:At.#i.getOutlines(n*o,a*o,o,this._INNER_MARGIN),drawingOptions:At.#a,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,a,o,l){ee("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:a,pageHeight:o,pageX:l,pageY:c}}=e.viewport,d=this.deserializeDraw(l,c,a,o,this._INNER_MARGIN,t),f=await super.deserialize(t,e,n);return f.createDrawingOptions(t),f.#l({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,n]=this.pageTranslation,[a,o]=this.pageDimensions;return this.#t.serialize([e,n,a,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class J_{#t=new Float64Array(6);#e;#i;#n;#a;#s;#r="";#o=0;#u=new Fo;#l;#d;constructor(t,e,n,a,o,l){this.#l=n,this.#d=a,this.#n=o,this.#a=l,[t,e]=this.#h(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:c,points:this.#s}],this.#t.set(c,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#h(t,e){return ct._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#h(t,e);const[n,a,o,l]=this.#t.subarray(2,6),c=t-o,d=e-l;return Math.hypot(this.#l*c,this.#d*d)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([o,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,a,o,l,t,e],0),this.#e.push(...ct.createBezierPoints(n,a,o,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,a,o){this.#l=n,this.#d=a,this.#n=o,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:l,points:this.#s}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#u.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#u.removeLastElement();this.#i.pop(),this.#r="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:a}=this.#i[t];this.#e=n,this.#s=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const t=ct.svgRound(this.#e[4]),e=ct.svgRound(this.#e[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${t} ${e} Z`,this.#r;if(this.#s.length<=6){const a=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,a)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const a=ct.svgRound(this.#e[10]),o=ct.svgRound(this.#e[11]);return this.#r=`${this.#r} L ${a} ${o}`,this.#o=12,this.#r}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let a=this.#o,o=this.#e.length;a<o;a+=6){const[l,c,d,f,p,m]=this.#e.slice(a,a+6).map(ct.svgRound);n.push(`C${l} ${c} ${d} ${f} ${p} ${m}`)}return this.#r+=n.join(" "),this.#o=this.#e.length,this.#r}getOutlines(t,e,n,a){const o=this.#i.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#u.build(this.#i,t,e,n,this.#n,this.#a,a),this.#t=null,this.#e=null,this.#i=null,this.#r=null,this.#u}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Fo extends ct{#t;#e=0;#i;#n;#a;#s;#r;#o;#u;build(t,e,n,a,o,l,c){this.#a=e,this.#s=n,this.#r=a,this.#o=o,this.#u=l,this.#i=c??0,this.#n=t,this.#h()}get thickness(){return this.#u}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${ct.svgRound(e[4])} ${ct.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${ct.svgRound(e[10])} ${ct.svgRound(e[11])}`);continue}for(let n=6,a=e.length;n<a;n+=6){const[o,l,c,d,f,p]=e.subarray(n,n+6).map(ct.svgRound);t.push(`C${o} ${l} ${c} ${d} ${f} ${p}`)}}return t.join("")}serialize([t,e,n,a],o){const l=[],c=[],[d,f,p,m]=this.#d();let b,v,w,S,C,A,k,R,O;switch(this.#o){case 0:O=ct._rescale,b=t,v=e+a,w=n,S=-a,C=t+d*n,A=e+(1-f-m)*a,k=t+(d+p)*n,R=e+(1-f)*a;break;case 90:O=ct._rescaleAndSwap,b=t,v=e,w=n,S=a,C=t+f*n,A=e+d*a,k=t+(f+m)*n,R=e+(d+p)*a;break;case 180:O=ct._rescale,b=t+n,v=e,w=-n,S=a,C=t+(1-d-p)*n,A=e+f*a,k=t+(1-d)*n,R=e+(f+m)*a;break;case 270:O=ct._rescaleAndSwap,b=t+n,v=e+a,w=-n,S=-a,C=t+(1-f-m)*n,A=e+(1-d-p)*a,k=t+(1-f)*n,R=e+(1-d)*a;break}for(const{line:D,points:M}of this.#n)l.push(O(D,b,v,w,S,o?new Array(D.length):null)),c.push(O(M,b,v,w,S,o?new Array(M.length):null));return{lines:l,points:c,rect:[C,A,k,R]}}static deserialize(t,e,n,a,o,{paths:{lines:l,points:c},rotation:d,thickness:f}){const p=[];let m,b,v,w,S;switch(d){case 0:S=ct._rescale,m=-t/n,b=e/a+1,v=1/n,w=-1/a;break;case 90:S=ct._rescaleAndSwap,m=-e/a,b=-t/n,v=1/a,w=1/n;break;case 180:S=ct._rescale,m=t/n+1,b=-e/a,v=-1/n,w=1/a;break;case 270:S=ct._rescaleAndSwap,m=e/a+1,b=t/n+1,v=-1/a,w=-1/n;break}if(!l){l=[];for(const A of c){const k=A.length;if(k===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1]]));continue}if(k===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1],NaN,NaN,NaN,NaN,A[2],A[3]]));continue}const R=new Float32Array(3*(k-2));l.push(R);let[O,D,M,z]=A.subarray(0,4);R.set([NaN,NaN,NaN,NaN,O,D],0);for(let H=4;H<k;H+=2){const V=A[H],$=A[H+1];R.set(ct.createBezierPoints(O,D,M,z,V,$),(H-2)*3),[O,D,M,z]=[M,z,V,$]}}}for(let A=0,k=l.length;A<k;A++)p.push({line:S(l[A].map(R=>R??NaN),m,b,v,w),points:S(c[A].map(R=>R??NaN),m,b,v,w)});const C=new this.prototype.constructor;return C.build(p,n,a,1,d,f,o),C}#l(t=this.#u){const e=this.#i+t/2*this.#r;return this.#o%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#d(){const[t,e,n,a]=this.#t,[o,l]=this.#l(0);return[t+o,e+l,n-2*o,a-2*l]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#n){if(a.length<=12){for(let c=4,d=a.length;c<d;c+=6)ht.pointBoundingBox(a[c],a[c+1],t);continue}let o=a[4],l=a[5];for(let c=6,d=a.length;c<d;c+=6){const[f,p,m,b,v,w]=a.subarray(c,c+6);ht.bezierBoundingBox(o,l,f,p,m,b,v,w,t),o=v,l=w}}const[e,n]=this.#l();t[0]=qe(t[0]-e,0,1),t[1]=qe(t[1]-n,0,1),t[2]=qe(t[2]+e,0,1),t[3]=qe(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#u=t;const[a,o]=this.#l(),[l,c]=[a-e,o-n],d=this.#t;return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateParentDimensions([t,e],n){const[a,o]=this.#l();this.#a=t,this.#s=e,this.#r=n;const[l,c]=this.#l(),d=l-a,f=c-o,p=this.#t;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(ct.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,a=0,o=0,l=0,c=0,d=0;switch(this.#e){case 90:a=e/t,o=-t/e,c=t;break;case 180:n=-1,l=-1,c=t,d=e;break;case 270:a=-e/t,o=t/e,d=e;break;default:return""}return`matrix(${n} ${a} ${o} ${l} ${ct.svgRound(c)} ${ct.svgRound(d)})`}getPathResizingSVGProperties([t,e,n,a]){const[o,l]=this.#l(),[c,d,f,p]=this.#t;if(Math.abs(f-o)<=ct.PRECISION||Math.abs(p-l)<=ct.PRECISION){const S=t+n/2-(c+f/2),C=e+a/2-(d+p/2);return{path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:`${this.rotationTransform} translate(${S} ${C})`}}}const m=(n-2*o)/(f-2*o),b=(a-2*l)/(p-2*l),v=f/n,w=p/a;return{path:{"transform-origin":`${ct.svgRound(c)} ${ct.svgRound(d)}`,transform:`${this.rotationTransform} scale(${v} ${w}) translate(${ct.svgRound(o)} ${ct.svgRound(l)}) scale(${m} ${b}) translate(${ct.svgRound(-o)} ${ct.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,n,a]){const[o,l]=this.#l(),c=this.#t,[d,f,p,m]=c;if(c[0]=t,c[1]=e,c[2]=n,c[3]=a,Math.abs(p-o)<=ct.PRECISION||Math.abs(m-l)<=ct.PRECISION){const C=t+n/2-(d+p/2),A=e+a/2-(f+m/2);for(const{line:k,points:R}of this.#n)ct._translate(k,C,A,k),ct._translate(R,C,A,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(n-2*o)/(p-2*o),v=(a-2*l)/(m-2*l),w=-b*(d+o)+t+o,S=-v*(f+l)+e+l;if(b!==1||v!==1||w!==0||S!==0)for(const{line:C,points:A}of this.#n)ct._rescale(C,w,S,b,v,C),ct._rescale(A,w,S,b,v,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[a,o]=n,l=this.#t,c=t-l[0],d=e-l[1];if(this.#a===a&&this.#s===o)for(const{line:f,points:p}of this.#n)ct._translate(f,c,d,f),ct._translate(p,c,d,p);else{const f=this.#a/a,p=this.#s/o;this.#a=a,this.#s=o;for(const{line:m,points:b}of this.#n)ct._rescale(m,c,d,f,p,m),ct._rescale(b,c,d,f,p,b);l[2]*=f,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ct.svgRound(t[0])} ${ct.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Iu extends s2{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:bt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Iu(this._viewParameters);return t.updateAll(this),t}}class Hf extends At{static _type="ink";static _editorType=_t.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){bt.initialize(t,e),this._defaultDrawingOptions=new Iu(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Mt(this,"typesMap",new Map([[Bt.INK_THICKNESS,"stroke-width"],[Bt.INK_COLOR,"stroke"],[Bt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,a,o){return new J_(t,e,n,a,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,a,o,l){return Fo.deserialize(t,e,n,a,o,l)}static async deserialize(t,e,n){let a=null;if(t instanceof Ff){const{data:{inkLists:l,rect:c,rotation:d,id:f,color:p,opacity:m,borderStyle:{rawWidth:b},popupRef:v,richText:w,contentsObj:S,creationDate:C,modificationDate:A},parent:{page:{pageNumber:k}}}=t;a=t={annotationType:_t.INK,color:Array.from(p),thickness:b,opacity:m,paths:{points:l},boxes:null,pageIndex:k-1,rect:c.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:v,richText:w,comment:S?.str||null,creationDate:C,modificationDate:A}}const o=await super.deserialize(t,e,n);return o._initialData=a,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new Eo(this),[["colorPicker",this._colorPicker]]}get colorType(){return Bt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=Hf.getDefaultDrawingOptions({stroke:ht.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":l}}=this,c=Object.assign(super.serialize(t),{color:bt._colorManager.convert(a),opacity:o,thickness:l,paths:{lines:e,points:n}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!this.#t(c)?null:(c.id=this.annotationElementId,c)}#t(t){const{color:e,thickness:n,opacity:a,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==e[c])||t.thickness!==n||t.opacity!==a||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class Jd extends Fo{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const cu=8,lo=3;class Ds{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,a){return n-=t,a-=e,n===0?a>0?0:4:n===1?a+6:2-a}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,a,o,l,c){const d=this.#e(n,a,o,l);for(let f=0;f<8;f++){const p=(-f+d-c+16)%8,m=this.#i[2*p],b=this.#i[2*p+1];if(t[(n+m)*e+(a+b)]!==0)return p}return-1}static#a(t,e,n,a,o,l,c){const d=this.#e(n,a,o,l);for(let f=0;f<8;f++){const p=(f+d+c+16)%8,m=this.#i[2*p],b=this.#i[2*p+1];if(t[(n+m)*e+(a+b)]!==0)return p}return-1}static#s(t,e,n,a){const o=t.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=t[p]<=a?1:0;for(let p=1;p<n-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*n-1-p]=0;let c=1,d;const f=[];for(let p=1;p<n-1;p++){d=1;for(let m=1;m<e-1;m++){const b=p*e+m,v=l[b];if(v===0)continue;let w=p,S=m;if(v===1&&l[b-1]===0)c+=1,S-=1;else if(v>=1&&l[b+1]===0)c+=1,S+=1,v>1&&(d=v);else{v!==1&&(d=Math.abs(v));continue}const C=[m,p],A=S===m+1,k={isHole:A,points:C,id:c,parent:0};f.push(k);let R;for(const Y of f)if(Y.id===d){R=Y;break}R?R.isHole?k.parent=A?R.parent:d:k.parent=A?d:R.parent:k.parent=A?d:0;const O=this.#n(l,e,p,m,w,S,0);if(O===-1){l[b]=-c,l[b]!==1&&(d=Math.abs(l[b]));continue}let D=this.#i[2*O],M=this.#i[2*O+1];const z=p+D,H=m+M;w=z,S=H;let V=p,$=m;for(;;){const Y=this.#a(l,e,V,$,w,S,1);D=this.#i[2*Y],M=this.#i[2*Y+1];const et=V+D,nt=$+M;C.push(nt,et);const J=V*e+$;if(l[J+1]===0?l[J]=-c:l[J]===1&&(l[J]=c),et===p&&nt===m&&V===z&&$===H){l[b]!==1&&(d=Math.abs(l[b]));break}else w=V,S=$,V=et,$=nt}}}return f}static#r(t,e,n,a){if(n-e<=4){for(let z=e;z<n-2;z+=2)a.push(t[z],t[z+1]);return}const o=t[e],l=t[e+1],c=t[n-4]-o,d=t[n-3]-l,f=Math.hypot(c,d),p=c/f,m=d/f,b=p*l-m*o,v=d/c,w=1/f,S=Math.atan(v),C=Math.cos(S),A=Math.sin(S),k=w*(Math.abs(C)+Math.abs(A)),R=w*(1-k+k**2),O=Math.max(Math.atan(Math.abs(A+C)*R),Math.atan(Math.abs(A-C)*R));let D=0,M=e;for(let z=e+2;z<n-2;z+=2){const H=Math.abs(b-p*t[z+1]+m*t[z]);H>D&&(M=z,D=H)}D>(f*O)**2?(this.#r(t,e,M+2,a),this.#r(t,M,n,a)):a.push(o,l)}static#o(t){const e=[],n=t.length;return this.#r(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#u(t,e,n,a,o,l){const c=new Float32Array(l**2),d=-2*a**2,f=l>>1;for(let S=0;S<l;S++){const C=(S-f)**2;for(let A=0;A<l;A++)c[S*l+A]=Math.exp((C+(A-f)**2)/d)}const p=new Float32Array(256),m=-2*o**2;for(let S=0;S<256;S++)p[S]=Math.exp(S**2/m);const b=t.length,v=new Uint8Array(b),w=new Uint32Array(256);for(let S=0;S<n;S++)for(let C=0;C<e;C++){const A=S*e+C,k=t[A];let R=0,O=0;for(let M=0;M<l;M++){const z=S+M-f;if(!(z<0||z>=n))for(let H=0;H<l;H++){const V=C+H-f;if(V<0||V>=e)continue;const $=t[z*e+V],Y=c[M*l+H]*p[Math.abs($-k)];R+=$*Y,O+=Y}}const D=v[A]=Math.round(R/O);w[D]++}return[v,w]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let a=-1/0,o=1/0;for(let c=0,d=n.length;c<d;c++){const f=n[c]=t[c<<2];a=Math.max(a,f),o=Math.min(o,f)}const l=255/(a-o);for(let c=0,d=n.length;c<d;c++)n[c]=(n[c]-o)*l;return n}static#h(t){let e,n=-1/0,a=-1/0;const o=t.findIndex(d=>d!==0);let l=o,c=o;for(e=o;e<256;e++){const d=t[e];d>n&&(e-l>a&&(a=e-l,c=e-1),n=d,l=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:a}=t,{maxDim:o}=this.#t;let l=n,c=a;if(n>o||a>o){let b=n,v=a,w=Math.log2(Math.max(n,a)/o);const S=Math.floor(w);w=w===S?S-1:S;for(let A=0;A<w;A++){l=Math.ceil(b/2),c=Math.ceil(v/2);const k=new OffscreenCanvas(l,c);k.getContext("2d").drawImage(t,0,0,b,v,0,0,l,c),b=l,v=c,t!==e&&t.close(),t=k.transferToImageBitmap()}const C=Math.min(o/l,o/c);l=Math.round(l*C),c=Math.round(c*C)}const f=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,c),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,l,c);const p=f.getImageData(0,0,l,c).data;return[this.#d(p),l,c]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:a},o,l,c,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const m=200,b=p.font=`${n} ${a} ${m}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:w,actualBoundingBoxAscent:S,actualBoundingBoxDescent:C,fontBoundingBoxAscent:A,fontBoundingBoxDescent:k,width:R}=p.measureText(t),O=1.5,D=Math.ceil(Math.max(Math.abs(v)+Math.abs(w)||0,R)*O),M=Math.ceil(Math.max(Math.abs(S)+Math.abs(C)||m,Math.abs(A)+Math.abs(k)||m)*O);f=new OffscreenCanvas(D,M),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=b,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,D,M),p.fillStyle="black",p.fillText(t,D*(O-1)/2,M*(3-O)/2);const z=this.#d(p.getImageData(0,0,D,M).data),H=this.#l(z),V=this.#h(H),$=this.#s(z,D,M,V);return this.processDrawnLines({lines:{curves:$,width:D,height:M},pageWidth:o,pageHeight:l,rotation:c,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,n,a,o){const[l,c,d]=this.#f(t),[f,p]=this.#u(l,c,d,Math.hypot(c,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#h(p),b=this.#s(f,c,d,m);return this.processDrawnLines({lines:{curves:b,width:c,height:d},pageWidth:e,pageHeight:n,rotation:a,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:a,innerMargin:o,mustSmooth:l,areContours:c}){a%180!==0&&([e,n]=[n,e]);const{curves:d,width:f,height:p}=t,m=t.thickness??0,b=[],v=Math.min(e/f,n/p),w=v/e,S=v/n,C=[];for(const{points:k}of d){const R=l?this.#o(k):k;if(!R)continue;C.push(R);const O=R.length,D=new Float32Array(O),M=new Float32Array(3*(O===2?2:O-2));if(b.push({line:M,points:D}),O===2){D[0]=R[0]*w,D[1]=R[1]*S,M.set([NaN,NaN,NaN,NaN,D[0],D[1]],0);continue}let[z,H,V,$]=R;z*=w,H*=S,V*=w,$*=S,D.set([z,H,V,$],0),M.set([NaN,NaN,NaN,NaN,z,H],0);for(let Y=4;Y<O;Y+=2){const et=D[Y]=R[Y]*w,nt=D[Y+1]=R[Y+1]*S;M.set(ct.createBezierPoints(z,H,V,$,et,nt),(Y-2)*3),[z,H,V,$]=[V,$,et,nt]}}if(b.length===0)return null;const A=c?new Jd:new Fo;return A.build(b,e,n,1,a,c?0:m,o),{outline:A,newCurves:C,areContours:c,thickness:m,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:a,height:o}){let l=1/0,c=-1/0,d=0;for(const R of t){d+=R.length;for(let O=2,D=R.length;O<D;O++){const M=R[O]-R[O-2];l=Math.min(l,M),c=Math.max(c,M)}}let f;l>=-128&&c<=127?f=Int8Array:l>=-32768&&c<=32767?f=Int16Array:f=Int32Array;const p=t.length,m=cu+lo*p,b=new Uint32Array(m);let v=0;b[v++]=m*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,b[v++]=0,b[v++]=a,b[v++]=o,b[v++]=e?0:1,b[v++]=Math.max(0,Math.floor(n??0)),b[v++]=p,b[v++]=f.BYTES_PER_ELEMENT;for(const R of t)b[v++]=R.length-2,b[v++]=R[0],b[v++]=R[1];const w=new CompressionStream("deflate-raw"),S=w.writable.getWriter();await S.ready,S.write(b);const C=f.prototype.constructor;for(const R of t){const O=new C(R.length-2);for(let D=2,M=R.length;D<M;D++)O[D-2]=R[D]-R[D-2];S.write(O)}S.close();const A=await new Response(w.readable).arrayBuffer(),k=new Uint8Array(A);return Eb(k)}static async decompressSignature(t){try{const e=EC(t),{readable:n,writable:a}=new DecompressionStream("deflate-raw"),o=a.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,c=0;for await(const R of n)l||=new Uint8Array(new Uint32Array(R.buffer,0,4)[0]),l.set(R,c),c+=R.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],m=d[3],b=d[4]===0,v=d[5],w=d[6],S=d[7],C=[],A=(cu+lo*w)*Uint32Array.BYTES_PER_ELEMENT;let k;switch(S){case Int8Array.BYTES_PER_ELEMENT:k=new Int8Array(l.buffer,A);break;case Int16Array.BYTES_PER_ELEMENT:k=new Int16Array(l.buffer,A);break;case Int32Array.BYTES_PER_ELEMENT:k=new Int32Array(l.buffer,A);break}c=0;for(let R=0;R<w;R++){const O=d[lo*R+cu],D=new Float32Array(O+2);C.push(D);for(let M=0;M<lo-1;M++)D[M]=d[lo*R+cu+M+1];for(let M=0;M<O;M++)D[M+2]=D[M]+k[c++]}return{areContours:b,thickness:v,outlines:C,width:p,height:m}}catch(e){return Tt(`decompressSignature: ${e}`),null}}}class jf extends s2{constructor(){super(),super.updateProperties({fill:bt._defaultLineColor,"stroke-width":0})}clone(){const t=new jf;return t.updateAll(this),t}}class Vf extends Iu{constructor(t){super(t),super.updateProperties({stroke:bt._defaultLineColor,"stroke-width":1})}clone(){const t=new Vf(this._viewParameters);return t.updateAll(this),t}}class si extends At{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=_t.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){bt.initialize(t,e),this._defaultDrawingOptions=new jf,this._defaultDrawnSignatureOptions=new Vf(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Mt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:a,mustSmooth:o,areContours:l,description:c,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:p,pageHeight:m},rotation:b}=this.parent.viewport,v=Ds.processDrawnLines({lines:a,pageWidth:p,pageHeight:m,rotation:b,innerMargin:si._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(v,f,c,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:a,height:o}=this.#i,l=Math.max(a,o),c=Ds.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:n,width:a,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,a){const{x:o,y:l}=this,{outline:c}=this.#i=t;this.#t=c instanceof Jd,this.description=n;let d;this.#t?d=si.getDefaultDrawingOptions():(d=si._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:d});const[,f]=this.pageDimensions;let p=e/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:a}=this.parent.viewport;return Ds.process(t,e,n,a,si._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:a},rotation:o}=this.parent.viewport;return Ds.extractContoursFromText(t,e,n,a,o,si._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:a}=this.parent.viewport;return Ds.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:a,innerMargin:si._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=si.getDefaultDrawingOptions():(this._drawingOptions=si._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:a});return this.addComment(o),t?(o.paths={lines:e,points:n},o.uuid=this.#n,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,n,a,o,l){return l.areContours?Jd.deserialize(t,e,n,a,o,l):Fo.deserialize(t,e,n,a,o,l)}static async deserialize(t,e,n){const a=await super.deserialize(t,e,n);return a.#t=t.areContours,a.description=t.accessibilityData?.alt||"",a.#n=t.uuid,a}}class tT extends bt{#t=null;#e=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#u=null;#l=!1;#d=!1;static _type="stamp";static _editorType=_t.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){bt.initialize(t,e)}static isHandlingMimeForPasting(t){return Cu.includes(t)}static paste(t,e){e.pasteEditor({mode:_t.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await n.guess({name:"altText",request:{data:a,width:o,height:l,channels:a.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#m(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#h(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(a=>this.#h(a)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(a=>this.#h(a)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=Cu.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(a)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#r?.remove(),this.#r=null,this.#u&&(clearTimeout(this.#u),this.#u=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#m();return}super.rebuild(),this.div!==null&&(this.#e&&this.#r===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#m()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,a&&(this.#t=a),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#u!==null&&clearTimeout(this.#u);const t=200;this.#u=setTimeout(()=>{this.#u=null,this.#g()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[a,o]=this.pageDimensions,l=.75;if(this.width)e=this.width*a,n=this.height*o;else if(e>l*a||n>l*o){const d=Math.min(l*a/e,l*o/n);e*=d,n*=d}this._uiManager.enableWaiting(!1);const c=this.#r=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=e/a,this.height=n/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:a,height:o}=this.#t,l=new Xn;let c=this.#t,d=a,f=o,p=null;if(e){if(a>e||o>e){const M=Math.min(e/a,e/o);d=Math.floor(a*M),f=Math.floor(o*M)}p=document.createElement("canvas");const b=p.width=Math.ceil(d*l.sx),v=p.height=Math.ceil(f*l.sy);this.#l||(c=this.#c(b,v));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let S="white",C="#cfcfd8";this._uiManager.hcmFilter!=="none"?C="black":TC.isDarkMode&&(S="#8f8f9d",C="#42414d");const A=15,k=A*l.sx,R=A*l.sy,O=new OffscreenCanvas(k*2,R*2),D=O.getContext("2d");D.fillStyle=S,D.fillRect(0,0,k*2,R*2),D.fillStyle=C,D.fillRect(0,0,k,R),D.fillRect(k,R,k,R),w.fillStyle=w.createPattern(O,"repeat"),w.fillRect(0,0,b,v),w.drawImage(c,0,0,c.width,c.height,0,0,b,v)}let m=null;if(n){let b,v;if(l.symmetric&&c.width<t&&c.height<t)b=c.width,v=c.height;else if(c=this.#t,a>t||o>t){const C=Math.min(t/a,t/o);b=Math.floor(a*C),v=Math.floor(o*C),this.#l||(c=this.#c(b,v))}const S=new OffscreenCanvas(b,v).getContext("2d",{willReadFrequently:!0});S.drawImage(c,0,0,c.width,c.height,0,0,b,v),m={width:b,height:v,data:S.getImageData(0,0,b,v).data}}return{canvas:p,width:d,height:f,imageData:m}}#c(t,e){const{width:n,height:a}=this.#t;let o=n,l=a,c=this.#t;for(;o>2*t||l>2*e;){const d=o,f=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(c,0,0,d,f,0,0,o,l),c=p.transferToImageBitmap()}return c}#g(){const[t,e]=this.parentDimensions,{width:n,height:a}=this,o=new Xn,l=Math.ceil(n*t*o.sx),c=Math.ceil(a*e*o.sy),d=this.#r;if(!d||d.width===l&&d.height===c)return;d.width=l,d.height=c;const f=this.#l?this.#t:this.#c(l,c),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,c)}#y(t){if(t){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#e);if(a)return a}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,a=Math.round(this.width*e*Bs.PDF_TO_CSS_UNITS),o=Math.round(this.height*n*Bs.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(a,o);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,a,o),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let a=null,o=!1;if(t instanceof e2){const{data:{rect:S,rotation:C,id:A,structParent:k,popupRef:R,richText:O,contentsObj:D,creationDate:M,modificationDate:z},container:H,parent:{page:{pageNumber:V}},canvas:$}=t;let Y,et;$?(delete t.canvas,{id:Y,bitmap:et}=n.imageManager.getFromCanvas(H.id,$),$.remove()):(o=!0,t._hasNoCanvas=!0);const nt=(await e._structTree.getAriaAttributes(`${_f}${A}`))?.get("aria-label")||"";a=t={annotationType:_t.STAMP,bitmapId:Y,bitmap:et,pageIndex:V-1,rect:S.slice(0),rotation:C,annotationElementId:A,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:nt},isSvg:!1,structParent:k,popupRef:R,richText:O,comment:D?.str||null,creationDate:M,modificationDate:z}}const l=await super.deserialize(t,e,n),{rect:c,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:m,accessibilityData:b}=t;o?(n.addMissingCanvas(t.id,l),l.#o=!0):p&&n.imageManager.isValidId(p)?(l.#e=p,d&&(l.#t=d)):l.#n=f,l.#l=m;const[v,w]=l.pageDimensions;return l.width=(c[2]-c[0])/v,l.height=(c[3]-c[1])/w,b&&(l.altTextData=b),l._initialData=a,t.comment&&l.setCommentData(t),l.#d=!!a,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(n),t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:a,altText:o}=this.serializeAltText(!1);if(!a&&o&&(n.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=this.#v(n);return c.isSame?null:(c.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(e===null)return n;e.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const c=e.stamps.get(this.#e);l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=this.#y(!1))}return n}#v(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,a=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class ai{#t;#e=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#u=!1;#l=null;#d=null;#h=null;#f=null;#m=null;#p=-1;#c;static _initialized=!1;static#g=new Map([Ne,Hf,tT,Se,si].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:a,accessibilityManager:o,annotationLayer:l,drawLayer:c,textLayer:d,viewport:f,l10n:p}){const m=[...ai.#g.values()];if(!ai._initialized){ai._initialized=!0;for(const b of m)b.initialize(p,t)}t.registerEditorTypes(m),this.#c=t,this.pageIndex=e,this.div=n,this.#t=o,this.#i=l,this.viewport=f,this.#h=d,this.drawLayer=c,this._structTree=a,this.#c.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===_t.NONE}updateToolbar(t){this.#c.updateToolbar(t)}updateMode(t=this.#c.getMode()){switch(this.#S(),t){case _t.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case _t.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case _t.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===_t.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of ai.#g.values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#c.setEditingState(t)}addCommands(t){this.#c.addCommands(t)}cleanUndoStack(t){this.#c.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#s.size!==0?this.#s.values():this.#c.getEditors(this.pageIndex)}async enable(){this.#u=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const t=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#c.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const e=this.#i;if(e)for(const n of e.getEditableAnnotations()){if(n.hide(),this.#c.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const a=await this.deserialize(n);a&&(this.addOrRebuild(a),a.enableEditing())}this.#u=!1,this.#c._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#m){this.#m=new AbortController;const n=this.#c.combinedSignal(this.#m);this.#h.div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:c,timeStamp:d}=a,f=this.#p;if(d-f>500){this.#p=d;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(l,c);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let b;const v=new RegExp(`^${So}[0-9]+$`);for(const S of m)if(v.test(S.id)){b=S.id;break}if(!b)return;const w=this.#s.get(b);w?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),w.dblclick(a))},{signal:n,capture:!0})}const t=this.#i;if(t){const n=new Map,a=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(t);continue}if(l.serialize()!==null){n.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const o=t.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(this.#c.isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let d=a.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=n.get(c),d&&(this.#c.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#S(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const n of ai.#g.values())e.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#c.getActive()!==t&&this.#c.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#c.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#v.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#v(t){this.#c.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:n}=Be.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#c.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),Se.startHighlighting(this,this.#c.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#c.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#c.isDeletedAnnotationElement(e)&&this.#c.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#c.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#c.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#c.addDeletedAnnotationElement(t.annotationElementId),bt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#c.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#u),this.#c.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#c.getId()}get#b(){return ai.#g.get(this.#c.getMode())}combinedSignal(t){return this.#c.combinedSignal(t)}#C(t){const e=this.#b;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#c.updateMode(t.mode);const{offsetX:n,offsetY:a}=this.#x(),o=this.getNextId(),l=this.#C({parent:this,id:o,x:n,y:a,uiManager:this.#c,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await ai.#g.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#c)||null}createAndAddNewEditor(t,e,n={}){const a=this.getNextId(),o=this.#C({parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:this.#c,isCentered:e,...n});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#x(){const{x:t,y:e,width:n,height:a}=this.boundingClientRect,o=Math.max(0,t),l=Math.max(0,e),c=Math.min(window.innerWidth,t+n),d=Math.min(window.innerHeight,e+a),f=(o+c)/2-t,p=(l+d)/2-e,[m,b]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:m,offsetY:b}}addNewEditor(t={}){this.createAndAddNewEditor(this.#x(),!0,t)}setSelected(t){this.#c.setSelected(t)}toggleSelected(t){this.#c.toggleSelected(t)}unselect(t){this.#c.unselect(t)}pointerup(t){const{isMac:e}=Be.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#r||(this.#r=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#c.getMode();if(n===_t.STAMP||n===_t.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#c.getMode()===_t.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:e}=Be.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#r=!0,this.#b?.isDrawer){this.startDrawingSession(t);return}const n=this.#c.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#c,!1,t);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#b.startDrawing(this,this.#c,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#b.endDrawing(t)):null}findNewParent(t,e,n){const a=this.#c.findParent(e,n);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#c.removeLayer(this)}#S(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,cs(this.div,t);for(const e of this.#c.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#c.commitOrRemove(),this.#S();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,cs(this.div,{rotation:n}),e!==n)for(const a of this.#s.values())a.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#c.viewParameters.realScale}}class Pe{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Mt(this,"_svgFactory",new Co)}static#a(t,[e,n,a,o]){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*a}%`,l.height=`${100*o}%`}#s(){const t=Pe._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#r(t,e){const n=Pe._svgFactory.createElement("clipPath");t.append(n);const a=`clip_${e}`;n.setAttribute("id",a),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Pe._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),a}#o(t,e){for(const[n,a]of Object.entries(e))a===null?t.removeAttribute(n):t.setAttribute(n,a)}draw(t,e=!1,n=!1){const a=Pe.#n++,o=this.#s(),l=Pe._svgFactory.createElement("defs");o.append(l);const c=Pe._svgFactory.createElement("path");l.append(c);const d=`path_p${this.pageIndex}_${a}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(a,c);const f=n?this.#r(l,d):null,p=Pe._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(o,t),this.#e.set(a,o),{id:a,clipPathId:`url(#${f})`}}drawOutline(t,e){const n=Pe.#n++,a=this.#s(),o=Pe._svgFactory.createElement("defs");a.append(o);const l=Pe._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const m=Pe._svgFactory.createElement("mask");o.append(m),d=`mask_p${this.pageIndex}_${n}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const b=Pe._svgFactory.createElement("rect");m.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=Pe._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const f=Pe._svgFactory.createElement("use");a.append(f),f.setAttribute("href",`#${c}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return a.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(a,t),this.#e.set(n,a),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:a,rootClass:o,path:l}=e,c=typeof t=="number"?this.#e.get(t):t;if(c){if(n&&this.#o(c,n),a&&Pe.#a(c,a),o){const{classList:d}=c;for(const[f,p]of Object.entries(o))d.toggle(f,p)}if(l){const f=c.firstChild.firstChild;this.#o(f,l)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Qd};globalThis.pdfjsLib={AbortException:Ni,AnnotationEditorLayer:ai,AnnotationEditorParamsType:Bt,AnnotationEditorType:_t,AnnotationEditorUIManager:Pi,AnnotationLayer:Uf,AnnotationMode:li,AnnotationType:ve,applyOpacity:kb,build:Wb,ColorPicker:wn,createValidAbsoluteUrl:xf,CSSConstants:Rb,DOMSVGFactory:Co,DrawLayer:Pe,FeatureTest:Be,fetchData:Zr,findContrastColor:Mb,getDocument:Pf,getFilenameFromUrl:Cb,getPdfFilenameFromUrl:_b,getRGB:Jr,getUuid:Cf,getXfaPageViewport:Tb,GlobalWorkerOptions:us,ImageKind:mo,InvalidPDFException:xu,isDataScheme:Po,isPdfFile:Bu,isValidExplicitDest:Nb,MathClamp:qe,noContextMenu:Cn,normalizeUnicode:xb,OPS:qr,OutputScale:Xn,PasswordResponses:Ab,PDFDataRangeTransport:zf,PDFDateString:Eu,PDFWorker:Xr,PermissionFlag:Sb,PixelsPerInch:Bs,RenderingCancelledException:Pu,renderRichText:Rf,ResponseException:Ao,setLayerDimensions:cs,shadow:Mt,SignatureExtractor:Ds,stopEvent:de,SupportedImageMimeTypes:Cu,TextLayer:xo,TouchManager:zo,updateUrlHash:Ef,Util:ht,VerbosityLevel:Lo,version:Kb,XfaLayer:Tf};const eT=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Ni,AnnotationEditorLayer:ai,AnnotationEditorParamsType:Bt,AnnotationEditorType:_t,AnnotationEditorUIManager:Pi,AnnotationLayer:Uf,AnnotationMode:li,AnnotationType:ve,CSSConstants:Rb,ColorPicker:wn,DOMSVGFactory:Co,DrawLayer:Pe,FeatureTest:Be,GlobalWorkerOptions:us,ImageKind:mo,InvalidPDFException:xu,MathClamp:qe,OPS:qr,OutputScale:Xn,PDFDataRangeTransport:zf,PDFDateString:Eu,PDFWorker:Xr,PasswordResponses:Ab,PermissionFlag:Sb,PixelsPerInch:Bs,RenderingCancelledException:Pu,ResponseException:Ao,SignatureExtractor:Ds,SupportedImageMimeTypes:Cu,TextLayer:xo,TouchManager:zo,Util:ht,VerbosityLevel:Lo,XfaLayer:Tf,applyOpacity:kb,build:Wb,createValidAbsoluteUrl:xf,fetchData:Zr,findContrastColor:Mb,getDocument:Pf,getFilenameFromUrl:Cb,getPdfFilenameFromUrl:_b,getRGB:Jr,getUuid:Cf,getXfaPageViewport:Tb,isDataScheme:Po,isPdfFile:Bu,isValidExplicitDest:Nb,noContextMenu:Cn,normalizeUnicode:xb,renderRichText:Rf,setLayerDimensions:cs,shadow:Mt,stopEvent:de,updateUrlHash:Ef,version:Kb},Symbol.toStringTag,{value:"Module"}));function r2(r){var t,e,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(t=0;t<a;t++)r[t]&&(e=r2(r[t]))&&(n&&(n+=" "),n+=e)}else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function Fu(){for(var r,t,e=0,n="",a=arguments.length;e<a;e++)(r=arguments[e])&&(t=r2(r))&&(n&&(n+=" "),n+=t);return n}var uy=Object.prototype.hasOwnProperty;function cy(r,t,e){for(e of r.keys())if(Hr(e,t))return e}function Hr(r,t){var e,n,a;if(r===t)return!0;if(r&&t&&(e=r.constructor)===t.constructor){if(e===Date)return r.getTime()===t.getTime();if(e===RegExp)return r.toString()===t.toString();if(e===Array){if((n=r.length)===t.length)for(;n--&&Hr(r[n],t[n]););return n===-1}if(e===Set){if(r.size!==t.size)return!1;for(n of r)if(a=n,a&&typeof a=="object"&&(a=cy(t,a),!a)||!t.has(a))return!1;return!0}if(e===Map){if(r.size!==t.size)return!1;for(n of r)if(a=n[0],a&&typeof a=="object"&&(a=cy(t,a),!a)||!Hr(n[1],t.get(a)))return!1;return!0}if(e===ArrayBuffer)r=new Uint8Array(r),t=new Uint8Array(t);else if(e===DataView){if((n=r.byteLength)===t.byteLength)for(;n--&&r.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===t.byteLength)for(;n--&&r[n]===t[n];);return n===-1}if(!e||typeof r=="object"){n=0;for(e in r)if(uy.call(r,e)&&++n&&!uy.call(t,e)||!(e in t)||!Hr(r[e],t[e]))return!1;return Object.keys(t).length===n}}return r!==r&&t!==t}function Uo(r){let t=!1;return{promise:new Promise((n,a)=>{r.then(o=>!t&&n(o)).catch(o=>!t&&a(o))}),cancel(){t=!0}}}const nT=["onCopy","onCut","onPaste"],iT=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],sT=["onFocus","onBlur"],rT=["onInput","onInvalid","onReset","onSubmit"],aT=["onLoad","onError"],oT=["onKeyDown","onKeyPress","onKeyUp"],lT=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],uT=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],cT=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],hT=["onSelect"],dT=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],fT=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],pT=["onScroll"],gT=["onWheel"],mT=["onAnimationStart","onAnimationEnd","onAnimationIteration"],yT=["onTransitionEnd"],bT=["onToggle"],vT=["onChange"],ST=[...nT,...iT,...sT,...rT,...aT,...oT,...lT,...uT,...cT,...hT,...dT,...fT,...pT,...gT,...mT,...yT,...vT,...bT];function a2(r,t){const e={};for(const n of ST){const a=r[n];a&&(t?e[n]=o=>a(o,t(n)):e[n]=a)}return e}var AT="Invariant failed";function te(r,t){if(!r)throw new Error(AT)}var Md,hy;function wT(){if(hy)return Md;hy=1;var r=function(){};return Md=r,Md}var xT=wT();const Xe=_o(xT),o2=I.createContext(null),ET="noopener noreferrer nofollow";class CT{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return te(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){te(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||ET,t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{te(this.pdfDocument),te(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{te(Array.isArray(e));const n=e[0];new Promise(a=>{te(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{a(o)}).catch(()=>{te(!1)}):typeof n=="number"?a(n):te(!1)}).then(a=>{const o=a+1;te(this.pdfViewer),te(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:a,pageNumber:o})})})}goToPage(t){const e=t-1;te(this.pdfViewer),te(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function jr({children:r,type:t}){return N.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:r})}const dy={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function _T(r,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function Yr(){return I.useReducer(_T,{value:void 0,error:void 0})}const Uu=typeof window<"u",l2=Uu&&window.location.protocol==="file:";function TT(r){return typeof r<"u"}function Ms(r){return TT(r)&&r!==null}function RT(r){return typeof r=="string"}function kT(r){return r instanceof ArrayBuffer}function MT(r){return te(Uu),r instanceof Blob}function tf(r){return RT(r)&&/^data:/.test(r)}function fy(r){te(tf(r));const[t="",e=""]=r.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function DT(){return Uu&&window.devicePixelRatio||1}const u2="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function py(){Xe(!l2,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${u2}`)}function LT(){Xe(!l2,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${u2}`)}function Is(r){r?.cancel&&r.cancel()}function ef(r,t){return Object.defineProperty(r,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function OT(r){return r.name==="RenderingCancelledException"}function NT(r){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=a=>{if(!a.target)return e(new Error("Error while reading a file."));const{error:o}=a.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r)})}const{PDFDataRangeTransport:PT}=eT,BT=(r,t)=>{switch(t){case dy.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");r(e);break}case dy.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");r(e);break}}};function gy(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const zT=I.forwardRef(function({children:t,className:e,error:n="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:f="Loading PDF",noData:p="No PDF file specified.",onItemClick:m,onLoadError:b,onLoadProgress:v,onLoadSuccess:w,onPassword:S=BT,onSourceError:C,onSourceSuccess:A,options:k,renderMode:R,rotate:O,scale:D,...M},z){const[H,V]=Yr(),{value:$,error:Y}=H,[et,nt]=Yr(),{value:J,error:at}=et,P=I.useRef(new CT),G=I.useRef([]),it=I.useRef(void 0),ft=I.useRef(void 0);l&&l!==it.current&&gy(l)&&(Xe(!Hr(l,it.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),it.current=l),k&&k!==ft.current&&(Xe(!Hr(k,ft.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ft.current=k);const E=I.useRef({scrollPageIntoView:Ot=>{const{dest:qt,pageNumber:re,pageIndex:ue=re-1}=Ot;if(m){m({dest:qt,pageIndex:ue,pageNumber:re});return}const Ae=G.current[ue];if(Ae){Ae.scrollIntoView();return}Xe(!1,`An internal link leading to page ${re} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});I.useImperativeHandle(z,()=>({linkService:P,pages:G,viewer:E}),[]);function K(){A&&A()}function st(){Y&&(Xe(!1,Y.toString()),C&&C(Y))}function T(){V({type:"RESET"})}I.useEffect(T,[l,V]);const lt=I.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return tf(l)?{data:fy(l)}:(py(),{url:l});if(l instanceof PT)return{range:l};if(kT(l))return{data:l};if(Uu&&MT(l))return{data:await NT(l)};if(te(typeof l=="object"),te(gy(l)),"url"in l&&typeof l.url=="string"){if(tf(l.url)){const{url:Ot,...qt}=l;return{data:fy(Ot),...qt}}py()}return l},[l]);I.useEffect(()=>{const Ot=Uo(lt());return Ot.promise.then(qt=>{V({type:"RESOLVE",value:qt})}).catch(qt=>{V({type:"REJECT",error:qt})}),()=>{Is(Ot)}},[lt,V]),I.useEffect(()=>{if(!(typeof $>"u")){if($===!1){st();return}K()}},[$]);function yt(){J&&(w&&w(J),G.current=new Array(J.numPages),P.current.setDocument(J))}function ut(){at&&(Xe(!1,at.toString()),b&&b(at))}I.useEffect(function(){nt({type:"RESET"})},[nt,$]),I.useEffect(function(){if(!$)return;const qt=k?{...$,...k}:$,re=Pf(qt);v&&(re.onProgress=v),S&&(re.onPassword=S);const ue=re,Ae=ue.promise.then(di=>{nt({type:"RESOLVE",value:di})}).catch(di=>{ue.destroyed||nt({type:"REJECT",error:di})});return()=>{Ae.finally(()=>ue.destroy())}},[k,nt,$]),I.useEffect(()=>{if(!(typeof J>"u")){if(J===!1){ut();return}yt()}},[J]),I.useEffect(function(){P.current.setViewer(E.current),P.current.setExternalLinkRel(a),P.current.setExternalLinkTarget(o)},[a,o]);const Et=I.useCallback((Ot,qt)=>{G.current[Ot]=qt},[]),Ct=I.useCallback(Ot=>{delete G.current[Ot]},[]),jt=I.useMemo(()=>({imageResourcesPath:d,linkService:P.current,onItemClick:m,pdf:J,registerPage:Et,renderMode:R,rotate:O,scale:D,unregisterPage:Ct}),[d,m,J,Et,R,O,D,Ct]),It=I.useMemo(()=>a2(M,()=>J),[M,J]);function _e(){function Ot(re){return!!re?.pdf}if(!Ot(jt))throw new Error("pdf is undefined");const qt=typeof t=="function"?t(jt):t;return N.jsx(o2.Provider,{value:jt,children:qt})}function $e(){return l?J==null?N.jsx(jr,{type:"loading",children:typeof f=="function"?f():f}):J===!1?N.jsx(jr,{type:"error",children:typeof n=="function"?n():n}):_e():N.jsx(jr,{type:"no-data",children:typeof p=="function"?p():p})}return N.jsx("div",{className:Fu("react-pdf__Document",e),ref:c,...It,children:$e()})});function c2(){return I.useContext(o2)}function h2(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(o){for(var l=0,c=e;l<c.length;l++){var d=c[l];typeof d=="function"?d(o):d&&(d.current=o)}}}const d2=I.createContext(null);function Hu(){return I.useContext(d2)}function IT(){const r=c2(),t=Hu();te(t);const e={...r,...t},{imageResourcesPath:n,linkService:a,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:m,rotate:b,scale:v=1}=e;te(p),te(f),te(a);const[w,S]=Yr(),{value:C,error:A}=w,k=I.useRef(null);Xe(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function R(){C&&l&&l(C)}function O(){A&&(Xe(!1,A.toString()),o&&o(A))}I.useEffect(function(){S({type:"RESET"})},[S,f]),I.useEffect(function(){if(!f)return;const V=Uo(f.getAnnotations()),$=V;return V.promise.then(Y=>{S({type:"RESOLVE",value:Y})}).catch(Y=>{S({type:"REJECT",error:Y})}),()=>{Is($)}},[S,f]),I.useEffect(()=>{if(C!==void 0){if(C===!1){O();return}R()}},[C]);function D(){d&&d()}function M(H){Xe(!1,`${H}`),c&&c(H)}const z=I.useMemo(()=>f.getViewport({scale:v,rotation:b}),[f,b,v]);return I.useEffect(function(){if(!p||!f||!a||!C)return;const{current:V}=k;if(!V)return;const $=z.clone({dontFlip:!0}),Y={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:V,l10n:null,linkService:a,page:f,structTreeLayer:null,viewport:$},et={annotations:C,annotationStorage:p.annotationStorage,div:V,imageResourcesPath:n,linkService:a,page:f,renderForms:m,viewport:$};V.innerHTML="";try{new Uf(Y).render(et),D()}catch(nt){M(nt)}return()=>{}},[C,n,a,f,p,m,z]),N.jsx("div",{className:Fu("react-pdf__Page__annotations","annotationLayer"),ref:k})}const f2={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},FT=/^H(\d+)$/;function UT(r){return r in f2}function ju(r){return"children"in r}function p2(r){return ju(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function HT(r){const t={};if(ju(r)){const{role:e}=r,n=e.match(FT);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(UT(e)){const a=f2[e];a&&(t.role=a)}}return t}function g2(r){const t={};if(ju(r)){if(r.alt!==void 0&&(t["aria-label"]=r.alt),r.lang!==void 0&&(t.lang=r.lang),p2(r)){const[e]=r.children;if(e){const n=g2(e);return{...t,...n}}}}else"id"in r&&(t["aria-owns"]=r.id);return t}function jT(r){return r?{...HT(r),...g2(r)}:null}function m2({className:r,node:t}){const e=I.useMemo(()=>jT(t),[t]),n=I.useMemo(()=>!ju(t)||p2(t)?null:t.children.map((a,o)=>N.jsx(m2,{node:a},o)),[t]);return N.jsx("span",{className:r,...e,children:n})}function VT(){const r=Hu();te(r);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=r,[n,a]=Yr(),{value:o,error:l}=n,{customTextRenderer:c,page:d}=r;function f(){o&&e&&e(o)}function p(){l&&(Xe(!1,l.toString()),t&&t(l))}return I.useEffect(function(){a({type:"RESET"})},[a,d]),I.useEffect(function(){if(c||!d)return;const b=Uo(d.getStructTree()),v=b;return b.promise.then(w=>{a({type:"RESOLVE",value:w})}).catch(w=>{a({type:"REJECT",error:w})}),()=>Is(v)},[c,d,a]),I.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}f()}},[o]),o?N.jsx(m2,{className:"react-pdf__Page__structTree structTree",node:o}):null}const my=li;function GT(r){const t=Hu();te(t);const e={...t,...r},{_className:n,canvasBackground:a,devicePixelRatio:o=DT(),onRenderError:l,onRenderSuccess:c,page:d,renderForms:f,renderTextLayer:p,rotate:m,scale:b}=e,{canvasRef:v}=r;te(d);const w=I.useRef(null);function S(){d&&c&&c(ef(d,b))}function C(O){OT(O)||(Xe(!1,O.toString()),l&&l(O))}const A=I.useMemo(()=>d.getViewport({scale:b*o,rotation:m}),[o,d,m,b]),k=I.useMemo(()=>d.getViewport({scale:b,rotation:m}),[d,m,b]);I.useEffect(function(){if(!d)return;d.cleanup();const{current:D}=w;if(!D)return;D.width=A.width,D.height=A.height,D.style.width=`${Math.floor(k.width)}px`,D.style.height=`${Math.floor(k.height)}px`,D.style.visibility="hidden";const M={annotationMode:f?my.ENABLE_FORMS:my.ENABLE,canvas:D,canvasContext:D.getContext("2d",{alpha:!1}),viewport:A};a&&(M.background=a);const z=d.render(M),H=z;return z.promise.then(()=>{D.style.visibility="",S()}).catch(C),()=>Is(H)},[a,d,f,A,k]);const R=I.useCallback(()=>{const{current:O}=w;O&&(O.width=0,O.height=0)},[]);return I.useEffect(()=>R,[R]),N.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:h2(v,w),style:{display:"block",userSelect:"none"},children:p?N.jsx(VT,{}):null})}function qT(r){return"str"in r}function XT(){const r=Hu();te(r);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:a,onRenderTextLayerSuccess:o,page:l,pageIndex:c,pageNumber:d,rotate:f,scale:p}=r;te(l);const[m,b]=Yr(),{value:v,error:w}=m,S=I.useRef(null);Xe(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){v&&n&&n(v)}function A(){w&&(Xe(!1,w.toString()),e&&e(w))}I.useEffect(function(){b({type:"RESET"})},[l,b]),I.useEffect(function(){if(!l)return;const H=Uo(l.getTextContent()),V=H;return H.promise.then($=>{b({type:"RESOLVE",value:$})}).catch($=>{b({type:"REJECT",error:$})}),()=>Is(V)},[l,b]),I.useEffect(()=>{if(v!==void 0){if(v===!1){A();return}C()}},[v]);const k=I.useCallback(()=>{o&&o()},[o]),R=I.useCallback(z=>{Xe(!1,z.toString()),a&&a(z)},[a]);function O(){const z=S.current;z&&z.classList.add("selecting")}function D(){const z=S.current;z&&z.classList.remove("selecting")}const M=I.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);return I.useLayoutEffect(function(){if(!l||!v)return;const{current:H}=S;if(!H)return;H.innerHTML="";const V=l.streamTextContent({includeMarkedContent:!0}),$={container:H,textContentSource:V,viewport:M},Y=new xo($),et=Y;return Y.render().then(()=>{const nt=document.createElement("div");nt.className="endOfContent",H.append(nt);const J=H.querySelectorAll('[role="presentation"]');if(t){let at=0;v.items.forEach((P,G)=>{if(!qT(P))return;const it=J[at];if(!it)return;const ft=t({pageIndex:c,pageNumber:d,itemIndex:G,...P});it.innerHTML=ft,at+=P.str&&P.hasEOL?2:1})}k()}).catch(R),()=>Is(et)},[t,R,k,l,c,d,v,M]),N.jsx("div",{className:Fu("react-pdf__Page__textContent","textLayer"),onMouseUp:D,onMouseDown:O,ref:S})}const yy=1;function YT(r){const e={...c2(),...r},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:o,canvasRef:l,children:c,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:m,error:b="Failed to load the page.",height:v,inputRef:w,loading:S="Loading page",noData:C="No page specified.",onGetAnnotationsError:A,onGetAnnotationsSuccess:k,onGetStructTreeError:R,onGetStructTreeSuccess:O,onGetTextError:D,onGetTextSuccess:M,onLoadError:z,onLoadSuccess:H,onRenderAnnotationLayerError:V,onRenderAnnotationLayerSuccess:$,onRenderError:Y,onRenderSuccess:et,onRenderTextLayerError:nt,onRenderTextLayerSuccess:J,pageIndex:at,pageNumber:P,pdf:G,registerPage:it,renderAnnotationLayer:ft=!0,renderForms:E=!1,renderMode:K="canvas",renderTextLayer:st=!0,rotate:T,scale:lt=yy,unregisterPage:yt,width:ut,...Et}=e,[Ct,jt]=Yr(),{value:It,error:_e}=Ct,$e=I.useRef(null);te(G);const Ot=Ms(P)?P-1:at??null,qt=P??(Ms(at)?at+1:null),re=T??(It?It.rotate:null),ue=I.useMemo(()=>{if(!It)return null;let rt=1;const pt=lt??yy;if(ut||v){const gt=It.getViewport({scale:1,rotation:re});ut?rt=ut/gt.width:v&&(rt=v/gt.height)}return pt*rt},[v,It,re,lt,ut]);I.useEffect(function(){return()=>{Ms(Ot)&&a&&yt&&yt(Ot)}},[a,G,Ot,yt]);function Ae(){if(H){if(!It||!ue)return;H(ef(It,ue))}if(a&&it){if(!Ms(Ot)||!$e.current)return;it(Ot,$e.current)}}function di(){_e&&(Xe(!1,_e.toString()),z&&z(_e))}I.useEffect(function(){jt({type:"RESET"})},[jt,G,Ot]),I.useEffect(function(){if(!G||!qt)return;const pt=Uo(G.getPage(qt)),gt=pt;return pt.promise.then(Ut=>{jt({type:"RESOLVE",value:Ut})}).catch(Ut=>{jt({type:"REJECT",error:Ut})}),()=>Is(gt)},[jt,G,qt]),I.useEffect(()=>{if(It!==void 0){if(It===!1){di();return}Ae()}},[It,ue]);const fi=I.useMemo(()=>Ms(Ot)&&qt&&Ms(re)&&Ms(ue)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:m,onGetAnnotationsError:A,onGetAnnotationsSuccess:k,onGetStructTreeError:R,onGetStructTreeSuccess:O,onGetTextError:D,onGetTextSuccess:M,onRenderAnnotationLayerError:V,onRenderAnnotationLayerSuccess:$,onRenderError:Y,onRenderSuccess:et,onRenderTextLayerError:nt,onRenderTextLayerSuccess:J,page:It,pageIndex:Ot,pageNumber:qt,renderForms:E,renderTextLayer:st,rotate:re,scale:ue}:null,[n,o,p,m,A,k,R,O,D,M,V,$,Y,et,nt,J,It,Ot,qt,E,st,re,ue]),ds=I.useMemo(()=>a2(Et,()=>It&&(ue?ef(It,ue):void 0)),[Et,It,ue]),Un=`${Ot}@${ue}/${re}`;function ta(){switch(K){case"custom":return te(f),N.jsx(f,{},`${Un}_custom`);case"none":return null;case"canvas":default:return N.jsx(GT,{canvasRef:l},`${Un}_canvas`)}}function Vs(){return st?N.jsx(XT,{},`${Un}_text`):null}function ea(){return ft?N.jsx(IT,{},`${Un}_annotations`):null}function na(){function rt(gt){return!!gt?.page}if(!rt(fi))throw new Error("page is undefined");const pt=typeof c=="function"?c(fi):c;return N.jsxs(d2.Provider,{value:fi,children:[ta(),Vs(),ea(),pt]})}function W(){return qt?G===null||It===void 0||It===null?N.jsx(jr,{type:"loading",children:typeof S=="function"?S():S}):G===!1||It===!1?N.jsx(jr,{type:"error",children:typeof b=="function"?b():b}):na():N.jsx(jr,{type:"no-data",children:typeof C=="function"?C():C})}return N.jsx("div",{className:Fu(n,d),"data-page-number":qt,ref:h2(w,$e),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ue}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...ds,children:W()})}LT();us.workerSrc="pdf.worker.mjs";const $T="/assets/pdf.worker.min-qwK7q_zL.mjs";us.workerSrc=$T;function KT(){const[r,t]=I.useState(!1),[e,n]=I.useState(""),[a,o]=I.useState(!1),c=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),[d,f]=I.useState(null),[p,m]=I.useState(1),[b,v]=I.useState(!1);function w({numPages:A}){f(A)}function S(){m(A=>d?Math.min(A+1,d):A)}function C(){m(A=>Math.max(A-1,1))}return N.jsxs("div",{className:"contact-container",children:[N.jsx("h2",{children:"Get In Touch"}),N.jsxs("div",{className:"contact-content",children:[N.jsxs("div",{className:"contact-section",children:[N.jsx("h3",{children:"Contact Information"}),N.jsx("div",{className:"contact-item",children:N.jsxs("div",{className:"contact-icons",children:[N.jsxs("div",{className:"contact-icon",alt:"LinkedIn",title:"LinkedIn",onClick:()=>window.open("https://www.linkedin.com/in/nathan-manley","_blank"),children:[N.jsx("span",{children:"LinkedIn"})," ",N.jsxs("span",{children:[" ",Gr.LinkedIn]})]}),N.jsxs("div",{className:"contact-icon",alt:"Github",title:"Github",onClick:()=>window.open("https://github.com/MacManley","_blank"),children:[N.jsx("span",{children:"GitHub"}),N.jsxs("span",{children:[" ",Gr.GitHub]})]})]})}),N.jsx("div",{className:"contact-item",children:N.jsx("button",{className:"button-main",onClick:()=>t(!0),children:"Contact Me"})})]}),N.jsx("div",{className:"contact-section",children:N.jsxs("div",{className:"contact-item",children:[N.jsx("h3",{children:"My CV"}),N.jsx("button",{className:"button-main",onClick:()=>v(!0),children:"View my CV here"}),b&&N.jsx("div",{className:"modal-overlay",children:N.jsxs("div",{className:"modal-content",children:[N.jsx("button",{className:"modal-close",onClick:()=>v(!1),children:""}),N.jsxs("div",{className:"pdf-controls",children:[N.jsx("button",{className:"button-main",onClick:C,disabled:p<=1,children:" Previous Page"}),N.jsx("button",{className:"button-main",onClick:S,disabled:d&&p>=d,children:"Next Page "}),N.jsx("a",{href:"/assets/cv.pdf",download:!0,className:"button-main pdf-download-btn",children:" Download CV"}),N.jsxs("span",{children:["Page ",p," of ",d]})]}),N.jsx(zT,{file:"/assets/cv.pdf",onLoadSuccess:w,children:N.jsx("div",{className:"pdf-page-wrapper",children:N.jsx(YT,{pageNumber:p,renderTextLayer:!1,renderAnnotationLayer:!1,width:window.innerWidth<480?300:600})})})]})})]})})]}),r&&N.jsx("div",{className:"modal-overlay",onClick:()=>t(!1),children:N.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),style:{maxWidth:400},children:[N.jsx("button",{className:"modal-close",onClick:()=>t(!1),children:""}),N.jsxs("form",{className:"contact-form",action:"https://formspree.io/f/mrblrppa",method:"POST",children:[N.jsx("input",{type:"text",name:"website",style:{display:"none"},tabIndex:"-1",autoComplete:"off"}),N.jsx("h3",{children:"Contact Me"}),N.jsx("label",{htmlFor:"email",children:"Your Email"}),N.jsx("input",{type:"email",id:"email",name:"email",required:!0,autoComplete:"email",value:e,onChange:A=>n(A.target.value),onBlur:()=>o(!0),className:a&&!c?"input-error":""}),a&&!c&&N.jsx("span",{className:"input-error-message",children:"Please enter a valid email address."}),N.jsx("label",{htmlFor:"message",children:"Message"}),N.jsx("textarea",{id:"message",name:"message",required:!0,rows:5}),N.jsx("button",{className:"button-main",type:"submit",disabled:!c,children:"Send"})]})]})})]})}function WT(){return N.jsxs("div",{className:"app-container",children:[N.jsx("nav",{className:"top-navigation",children:N.jsxs("div",{className:"nav-links",children:[N.jsx(pu,{to:"/",className:"nav-link",children:"About"}),N.jsx(pu,{to:"/projects",className:"nav-link",children:"Portfolio"}),N.jsx(pu,{to:"/contact",className:"nav-link",children:"Contact"}),N.jsx("div",{className:"nav-logo",children:N.jsx("img",{src:"./assets/favicon.png",alt:"Nathan Manley 2026"})})]})}),N.jsx("div",{className:"content",children:N.jsx("main",{className:"main-section",children:N.jsxs(MA,{children:[N.jsx(hu,{path:"/",element:N.jsx(pC,{})}),N.jsx(hu,{path:"/projects",element:N.jsx(fC,{})}),N.jsx(hu,{path:"/contact",element:N.jsx(KT,{})})]})})}),N.jsxs("div",{className:"rr",children:[N.jsx("h6",{children:" 2026  Nathan Manley"}),N.jsx("h6",{children:"All Rights Reserved"})]})]})}FS.createRoot(document.getElementById("root")).render(N.jsx(ls.StrictMode,{children:N.jsx(JA,{children:N.jsx(WT,{})})}));
